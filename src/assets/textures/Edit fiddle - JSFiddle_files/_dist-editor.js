!function(){this.MooTools={version:"1.6.0",build:"529422872adfff401b901b8b6c7ca5114ee95e2b"};var e=this.typeOf=function(e){if(null==e)return"null";if(null!=e.$family)return e.$family();if(e.nodeName){if(1==e.nodeType)return"element";if(3==e.nodeType)return/\S/.test(e.nodeValue)?"textnode":"whitespace"}else if("number"==typeof e.length){if("callee"in e)return"arguments";if("item"in e)return"collection"}return typeof e},t=this.instanceOf=function(e,t){if(null==e)return!1;for(var n=e.$constructor||e.constructor;n;){if(n===t)return!0;n=n.parent}return!!e.hasOwnProperty&&e instanceof t},n=Object.prototype.hasOwnProperty,r=!0;for(var i in{toString:1})r=null;r&&(r=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);function o(e,t,i){if(r)for(var o=r.length;o--;){var a=r[o];n.call(e,a)&&t.call(i,a,e[a])}}var a=this.Function;a.prototype.overloadSetter=function(e){var t=this;return function(n,r){if(null==n)return this;if(e||"string"!=typeof n){for(var i in n)t.call(this,i,n[i]);o(n,t,this)}else t.call(this,n,r);return this}},a.prototype.overloadGetter=function(e){var t=this;return function(n){var r,i;if("string"!=typeof n?r=n:arguments.length>1?r=arguments:e&&(r=[n]),r){i={};for(var o=0;o<r.length;o++)i[r[o]]=t.call(this,r[o])}else i=t.call(this,n);return i}},a.prototype.extend=function(e,t){this[e]=t}.overloadSetter(),a.prototype.implement=function(e,t){this.prototype[e]=t}.overloadSetter();var s=Array.prototype.slice;Array.convert=function(t){return null==t?[]:l.isEnumerable(t)&&"string"!=typeof t?"array"==e(t)?t:s.call(t):[t]},a.convert=function(t){return"function"==e(t)?t:function(){return t}},Number.convert=function(e){var t=parseFloat(e);return isFinite(t)?t:null},String.convert=function(e){return e+""},Array.from=Array.convert,a.from=a.convert,Number.from=Number.convert,String.from=String.convert,a.implement({hide:function(){return this.$hidden=!0,this},protect:function(){return this.$protected=!0,this}});var l=this.Type=function(t,n){if(t){var r=t.toLowerCase(),i=function(t){return e(t)==r};l["is"+t]=i,null!=n&&(n.prototype.$family=function(){return r}.hide(),n.type=i)}return null==n?null:(n.extend(this),n.$constructor=l,n.prototype.$constructor=n,n)},c=Object.prototype.toString;l.isEnumerable=function(e){return null!=e&&"number"==typeof e.length&&"[object Function]"!=c.call(e)};var u={},p=function(t){var n=e(t.prototype);return u[n]||(u[n]=[])},h=function(t,n){if(!n||!n.$hidden){for(var r=p(this),i=0;i<r.length;i++){var o=r[i];"type"==e(o)?h.call(o,t,n):o.call(this,t,n)}var a=this.prototype[t];null!=a&&a.$protected||(this.prototype[t]=n),null==this[t]&&"function"==e(n)&&f.call(this,t,function(e){return n.apply(e,s.call(arguments,1))})}},f=function(e,t){if(!t||!t.$hidden){var n=this[e];null!=n&&n.$protected||(this[e]=t)}};l.implement({implement:h.overloadSetter(),extend:f.overloadSetter(),alias:function(e,t){h.call(this,e,this.prototype[t])}.overloadSetter(),mirror:function(e){return p(this).push(e),this}}),new l("Type",l);var d=function(e,t,n){var r=t!=Object,i=t.prototype;r&&(t=new l(e,t));for(var o=0,a=n.length;o<a;o++){var s=n[o],c=t[s],u=i[s];c&&c.protect(),r&&u&&t.implement(s,u.protect())}if(r){var p=i.propertyIsEnumerable(n[0]);t.forEachMethod=function(e){if(!p)for(var t=0,r=n.length;t<r;t++)e.call(i,i[n[t]],n[t]);for(var o in i)e.call(i,i[o],o)}}return d};d("String",String,["charAt","charCodeAt","concat","contains","indexOf","lastIndexOf","match","quote","replace","search","slice","split","substr","substring","trim","toLowerCase","toUpperCase"])("Array",Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight","contains"])("Number",Number,["toExponential","toFixed","toLocaleString","toPrecision"])("Function",a,["apply","call","bind"])("RegExp",RegExp,["exec","test"])("Object",Object,["create","defineProperty","defineProperties","keys","getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","preventExtensions","isExtensible","seal","isSealed","freeze","isFrozen"])("Date",Date,["now"]),Object.extend=f.overloadSetter(),Date.extend("now",function(){return+new Date}),new l("Boolean",Boolean),Number.prototype.$family=function(){return isFinite(this)?"number":"null"}.hide(),Number.extend("random",function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}),Array.implement({forEach:function(e,t){for(var n=0,r=this.length;n<r;n++)n in this&&e.call(t,this[n],n,this)},each:function(e,t){return Array.forEach(this,e,t),this}}),Object.extend({keys:function(e){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return o(e,function(e){t.push(e)}),t},forEach:function(e,t,n){Object.keys(e).forEach(function(r){t.call(n,e[r],r,e)})}}),Object.each=Object.forEach;var y=function(t){switch(e(t)){case"array":return t.clone();case"object":return Object.clone(t);default:return t}};Array.implement("clone",function(){for(var e=this.length,t=new Array(e);e--;)t[e]=y(this[e]);return t});var m=function(t,n,r){switch(e(r)){case"object":"object"==e(t[n])?Object.merge(t[n],r):t[n]=Object.clone(r);break;case"array":t[n]=r.clone();break;default:t[n]=r}return t};Object.extend({merge:function(t,n,r){if("string"==e(n))return m(t,n,r);for(var i=1,o=arguments.length;i<o;i++){var a=arguments[i];for(var s in a)m(t,s,a[s])}return t},clone:function(e){var t={};for(var n in e)t[n]=y(e[n]);return t},append:function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var i in r)e[i]=r[i]}return e}}),["Object","WhiteSpace","TextNode","Collection","Arguments"].each(function(e){new l(e)});var g=Date.now();String.extend("uniqueID",function(){return(g++).toString(36)});var v=this.Hash=new l("Hash",function(t){"hash"==e(t)&&(t=Object.clone(t.getClean()));for(var n in t)this[n]=t[n];return this});v.implement({forEach:function(e,t){Object.forEach(this,e,t)},getClean:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},getLength:function(){var e=0;for(var t in this)this.hasOwnProperty(t)&&e++;return e}}),v.alias("each","forEach"),Object.type=l.isObject;var b=this.Native=function(e){return new l(e.name,e.initialize)};b.type=l.type,b.implement=function(e,t){for(var n=0;n<e.length;n++)e[n].implement(t);return b};var x=Array.type;Array.type=function(e){return t(e,Array)||x(e)},this.$A=function(e){return Array.convert(e).slice()},this.$arguments=function(e){return function(){return arguments[e]}},this.$chk=function(e){return!(!e&&0!==e)},this.$clear=function(e){return clearTimeout(e),clearInterval(e),null},this.$defined=function(e){return null!=e},this.$each=function(t,n,r){var i=e(t);("arguments"==i||"collection"==i||"array"==i||"elements"==i?Array:Object).each(t,n,r)},this.$empty=function(){},this.$extend=function(e,t){return Object.append(e,t)},this.$H=function(e){return new v(e)},this.$merge=function(){var e=Array.slice(arguments);return e.unshift({}),Object.merge.apply(null,e)},this.$lambda=a.convert,this.$mixin=Object.merge,this.$random=Number.random,this.$splat=Array.convert,this.$time=Date.now,this.$type=function(t){var n=e(t);return"elements"==n?"array":"null"!=n&&n},this.$unlink=function(t){switch(e(t)){case"object":return Object.clone(t);case"array":return Array.clone(t);case"hash":return new v(t);default:return t}}}(),Array.implement({every:function(e,t){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0},filter:function(e,t){for(var n,r=[],i=0,o=this.length>>>0;i<o;i++)i in this&&(n=this[i],e.call(t,n,i,this)&&r.push(n));return r},indexOf:function(e,t){for(var n=this.length>>>0,r=t<0?Math.max(0,n+t):t||0;r<n;r++)if(this[r]===e)return r;return-1},map:function(e,t){for(var n=this.length>>>0,r=Array(n),i=0;i<n;i++)i in this&&(r[i]=e.call(t,this[i],i,this));return r},some:function(e,t){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&e.call(t,this[n],n,this))return!0;return!1},clean:function(){return this.filter(function(e){return null!=e})},invoke:function(e){var t=Array.slice(arguments,1);return this.map(function(n){return n[e].apply(n,t)})},associate:function(e){for(var t={},n=Math.min(this.length,e.length),r=0;r<n;r++)t[e[r]]=this[r];return t},link:function(e){for(var t={},n=0,r=this.length;n<r;n++)for(var i in e)if(e[i](this[n])){t[i]=this[n],delete e[i];break}return t},contains:function(e,t){return-1!=this.indexOf(e,t)},append:function(e){return this.push.apply(this,e),this},getLast:function(){return this.length?this[this.length-1]:null},getRandom:function(){return this.length?this[Number.random(0,this.length-1)]:null},include:function(e){return this.contains(e)||this.push(e),this},combine:function(e){for(var t=0,n=e.length;t<n;t++)this.include(e[t]);return this},erase:function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this},empty:function(){return this.length=0,this},flatten:function(){for(var e=[],t=0,n=this.length;t<n;t++){var r=typeOf(this[t]);"null"!=r&&(e=e.concat("array"==r||"collection"==r||"arguments"==r||instanceOf(this[t],Array)?Array.flatten(this[t]):this[t]))}return e},pick:function(){for(var e=0,t=this.length;e<t;e++)if(null!=this[e])return this[e];return null},hexToRgb:function(e){if(3!=this.length)return null;var t=this.map(function(e){return 1==e.length&&(e+=e),parseInt(e,16)});return e?t:"rgb("+t+")"},rgbToHex:function(e){if(this.length<3)return null;if(4==this.length&&0==this[3]&&!e)return"transparent";for(var t=[],n=0;n<3;n++){var r=(this[n]-0).toString(16);t.push(1==r.length?"0"+r:r)}return e?t:"#"+t.join("")}}),Array.alias("extend","append");var $pick=this.$pick=function(){return Array.convert(arguments).pick()};Function.extend({attempt:function(){for(var e=0,t=arguments.length;e<t;e++)try{return arguments[e]()}catch(e){}return null}}),Function.implement({attempt:function(e,t){try{return this.apply(t,Array.convert(e))}catch(e){}return null},bind:function(e){var t=this,n=arguments.length>1?Array.slice(arguments,1):null,r=function(){},i=function(){var o=e,a=arguments.length;this instanceof i&&(r.prototype=t.prototype,o=new r);var s=n||a?t.apply(o,n&&a?n.concat(Array.slice(arguments)):n||arguments):t.call(o);return o==e?s:o};return i},pass:function(e,t){var n=this;return null!=e&&(e=Array.convert(e)),function(){return n.apply(t,e||arguments)}},delay:function(e,t,n){return setTimeout(this.pass(null==n?[]:n,t),e)},periodical:function(e,t,n){return setInterval(this.pass(null==n?[]:n,t),e)}}),delete Function.prototype.bind,Function.implement({create:function(e){var t=this;return e=e||{},function(n){var r=e.arguments;r=null!=r?Array.convert(r):Array.slice(arguments,e.event?1:0),e.event&&r.unshift(n||window.event);var i=function(){return t.apply(e.bind||null,r)};return e.delay?setTimeout(i,e.delay):e.periodical?setInterval(i,e.periodical):e.attempt?Function.attempt(i):i()}},bind:function(e,t){var n=this;return null!=t&&(t=Array.convert(t)),function(){return n.apply(e,t||arguments)}},bindWithEvent:function(e,t){var n=this;return null!=t&&(t=Array.convert(t)),function(r){return n.apply(e,null==t?arguments:[r].concat(t))}},run:function(e,t){return this.apply(t,Array.convert(e))}}),Object.create==Function.prototype.create&&(Object.create=null);var $try=Function.attempt;Number.implement({limit:function(e,t){return Math.min(t,Math.max(e,this))},round:function(e){return e=Math.pow(10,e||0).toFixed(e<0?-e:0),Math.round(this*e)/e},times:function(e,t){for(var n=0;n<this;n++)e.call(t,n,this)},toFloat:function(){return parseFloat(this)},toInt:function(e){return parseInt(this,e||10)}}),Number.alias("each","times"),function(e){var t={};["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"].each(function(e){Number[e]||(t[e]=function(){return Math[e].apply(null,[this].concat(Array.convert(arguments)))})}),Number.implement(t)}(),String.implement({contains:function(e,t){return(t?String(this).slice(t):String(this)).indexOf(e)>-1},test:function(e,t){return("regexp"==typeOf(e)?e:new RegExp(""+e,t)).test(this)},trim:function(){return String(this).replace(/^\s+|\s+$/g,"")},clean:function(){return String(this).replace(/\s+/g," ").trim()},camelCase:function(){return String(this).replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()})},hyphenate:function(){return String(this).replace(/[A-Z]/g,function(e){return"-"+e.charAt(0).toLowerCase()})},capitalize:function(){return String(this).replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},escapeRegExp:function(){return String(this).replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},toInt:function(e){return parseInt(this,e||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(e){var t=String(this).match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return t?t.slice(1).hexToRgb(e):null},rgbToHex:function(e){var t=String(this).match(/\d{1,3}/g);return t?t.rgbToHex(e):null},substitute:function(e,t){return String(this).replace(t||/\\?\{([^{}]+)\}/g,function(t,n){return"\\"==t.charAt(0)?t.slice(1):null!=e[n]?e[n]:""})}}),String.prototype.contains=function(e,t){return t?(t+this+t).indexOf(t+e+t)>-1:String(this).indexOf(e)>-1},function(){var e=this.document,t=e.window=this,n=function(e,t){e=e.toLowerCase(),t=t?t.toLowerCase():"";var n=e.match(/(edge)[\s\/:]([\w\d\.]+)/);return n||(n=e.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0]),"trident"==n[1]?(n[1]="ie",n[4]&&(n[2]=n[4])):"crios"==n[1]&&(n[1]="chrome"),"win"==(t=e.match(/ip(?:ad|od|hone)/)?"ios":(e.match(/(?:webos|android)/)||e.match(/mac|win|linux/)||["other"])[0])&&(t="windows"),{extend:Function.prototype.extend,name:"version"==n[1]?n[3]:n[1],version:parseFloat("opera"==n[1]&&n[4]?n[4]:n[2]),platform:t}},r=this.Browser=n(navigator.userAgent,navigator.platform);"ie"==r.name&&e.documentMode&&(r.version=e.documentMode),r.extend({Features:{xpath:!!e.evaluate,air:!!t.runtime,query:!!e.querySelector,json:!!t.JSON},parseUA:n}),r[r.name]=!0,r[r.name+parseInt(r.version,10)]=!0,"ie"==r.name&&r.version>="11"&&delete r.ie;var i=r.platform;"windows"==i&&(i="win"),r.Platform={name:i},r.Platform[i]=!0,r.Request=function(){var e=function(){return new XMLHttpRequest},t=function(){return new ActiveXObject("MSXML2.XMLHTTP")},n=function(){return new ActiveXObject("Microsoft.XMLHTTP")};return Function.attempt(function(){return e(),e},function(){return t(),t},function(){return n(),n})}(),r.Features.xhr=!!r.Request;var o=(Function.attempt(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);if(r.Plugins={Flash:{version:Number(o[0]||"0."+o[1])||0,build:Number(o[2])||0}},r.exec=function(n){if(!n)return n;if(t.execScript)t.execScript(n);else{var r=e.createElement("script");r.setAttribute("type","text/javascript"),r.text=n,e.head.appendChild(r),e.head.removeChild(r)}return n},String.implement("stripScripts",function(e){var t="",n=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(e,n){return t+=n+"\n",""});return!0===e?r.exec(t):"function"==typeOf(e)&&e(t,n),n}),r.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event}),this.Window=this.$constructor=new Type("Window",function(){}),this.$family=Function.convert("window").hide(),Window.mirror(function(e,n){t[e]=n}),this.Document=e.$constructor=new Type("Document",function(){}),e.$family=Function.convert("document").hide(),Document.mirror(function(t,n){e[t]=n}),e.html=e.documentElement,e.head||(e.head=e.getElementsByTagName("head")[0]),e.execCommand)try{e.execCommand("BackgroundImageCache",!1,!0)}catch(e){}if(this.attachEvent&&!this.addEventListener){var a=function(){this.detachEvent("onunload",a),e.head=e.html=e.window=null,t=this.Window=e=null};this.attachEvent("onunload",a)}var s=Array.convert;try{s(e.html.childNodes)}catch(e){Array.convert=function(e){if("string"!=typeof e&&Type.isEnumerable(e)&&"array"!=typeOf(e)){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}return s(e)};var l=Array.prototype,c=l.slice;["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice"].each(function(e){var t=l[e];Array[e]=function(e){return t.apply(Array.convert(e),c.call(arguments,1))}})}r.Platform.ios&&(r.Platform.ipod=!0),r.Engine={};var u=function(e,t){r.Engine.name=e,r.Engine[e+t]=!0,r.Engine.version=t};if(r.ie)switch(r.Engine.trident=!0,r.version){case 6:u("trident",4);break;case 7:u("trident",5);break;case 8:u("trident",6)}if(r.firefox&&(r.Engine.gecko=!0,r.version>=3?u("gecko",19):u("gecko",18)),r.safari||r.chrome)switch(r.Engine.webkit=!0,r.version){case 2:u("webkit",419);break;case 3:u("webkit",420);break;case 4:u("webkit",525)}if(r.opera&&(r.Engine.presto=!0,r.version>=9.6?u("presto",960):r.version>=9.5?u("presto",950):u("presto",925)),"unknown"==r.name)switch((navigator.userAgent.toLowerCase().match(/(?:webkit|khtml|gecko)/)||[])[0]){case"webkit":case"khtml":r.Engine.webkit=!0;break;case"gecko":r.Engine.gecko=!0}this.$exec=r.exec}(),function(){var e=this.Class=new Type("Class",function(r){instanceOf(r,Function)&&(r={initialize:r});var i=function(){if(n(this),i.$prototyping)return this;this.$caller=null,this.$family=null;var e=this.initialize?this.initialize.apply(this,arguments):this;return this.$caller=this.caller=null,e}.extend(this).implement(r);return i.$constructor=e,i.prototype.$constructor=i,i.prototype.parent=t,i}),t=function(){if(!this.$caller)throw new Error('The method "parent" cannot be called.');var e=this.$caller.$name,t=this.$caller.$owner.parent,n=t?t.prototype[e]:null;if(!n)throw new Error('The method "'+e+'" has no parent.');return n.apply(this,arguments)},n=function(e){for(var t in e){var r=e[t];switch(typeOf(r)){case"object":var i=function(){};i.prototype=r,e[t]=n(new i);break;case"array":e[t]=r.clone()}}return e},r=function(t,n,r){if(e.Mutators.hasOwnProperty(t)&&null==(n=e.Mutators[t].call(this,n)))return this;if("function"==typeOf(n)){if(n.$hidden)return this;this.prototype[t]=r?n:function(e,t,n){n.$origin&&(n=n.$origin);var r=function(){if(n.$protected&&null==this.$caller)throw new Error('The method "'+t+'" cannot be called.');var e=this.caller,i=this.$caller;this.caller=i,this.$caller=r;var o=n.apply(this,arguments);return this.$caller=i,this.caller=e,o}.extend({$owner:e,$origin:n,$name:t});return r}(this,t,n)}else Object.merge(this.prototype,t,n);return this};e.implement("implement",r.overloadSetter()),e.Mutators={Extends:function(e){this.parent=e,this.prototype=function(e){e.$prototyping=!0;var t=new e;return delete e.$prototyping,t}(e)},Implements:function(e){Array.convert(e).each(function(e){var t=new e;for(var n in t)r.call(this,n,t[n],!0)},this)}}}(),function(){this.Chain=new Class({$chain:[],chain:function(){return this.$chain.append(Array.flatten(arguments)),this},callChain:function(){return!!this.$chain.length&&this.$chain.shift().apply(this,arguments)},clearChain:function(){return this.$chain.empty(),this}});var e=function(e){return e.replace(/^on([A-Z])/,function(e,t){return t.toLowerCase()})};this.Events=new Class({$events:{},addEvent:function(t,n,r){return t=e(t),n==$empty?this:(this.$events[t]=(this.$events[t]||[]).include(n),r&&(n.internal=!0),this)},addEvents:function(e){for(var t in e)this.addEvent(t,e[t]);return this},fireEvent:function(t,n,r){t=e(t);var i=this.$events[t];return i?(n=Array.convert(n),i.each(function(e){r?e.delay(r,this,n):e.apply(this,n)},this),this):this},removeEvent:function(t,n){t=e(t);var r=this.$events[t];if(r&&!n.internal){var i=r.indexOf(n);-1!=i&&delete r[i]}return this},removeEvents:function(t){var n;if("object"==typeOf(t)){for(n in t)this.removeEvent(n,t[n]);return this}t&&(t=e(t));for(n in this.$events)if(!t||t==n)for(var r=this.$events[n],i=r.length;i--;)i in r&&this.removeEvent(n,r[i]);return this}}),this.Options=new Class({setOptions:function(){var e=this.options=Object.merge.apply(null,[{},this.options].append(arguments));if(this.addEvent)for(var t in e)"function"==typeOf(e[t])&&/^on[A-Z]/.test(t)&&(this.addEvent(t,e[t]),delete e[t]);return this}})}(),function(){var e=0,t=1,n=2,r=Class.Thenable=new Class({$thenableState:e,$thenableResult:null,$thenableReactions:[],resolve:function(e){return i(this,e),this},reject:function(e){return a(this,e),this},getThenableState:function(){switch(this.$thenableState){case e:return"pending";case t:return"fulfilled";case n:return"rejected"}},resetThenable:function(t){a(this,t),(n=this).$thenableState!==e&&(n.$thenableResult=null,n.$thenableState=e);var n;return this},then:function(t,n){"function"!=typeof t&&(t="Identity"),"function"!=typeof n&&(n="Thrower");var i=new r;return this.$thenableReactions.push({thenable:i,fulfillHandler:t,rejectHandler:n}),this.$thenableState!==e&&s(this),i},catch:function(e){return this.then(null,e)}});r.extend({resolve:function(e){var t;return e instanceof r?t=e:i(t=new r,e),t},reject:function(e){var t=new r;return a(t,e),t}});function i(t,n){if(t.$thenableState===e)if(t===n)a(t,new TypeError("Tried to resolve a thenable with itself."));else if(!n||"object"!=typeof n&&"function"!=typeof n)o(t,n);else{var r;try{r=n.then}catch(e){a(t,e)}if("function"==typeof r){var s=!1;l(function(){try{r.call(n,function(e){s||(s=!0,i(t,e))},function(e){s||(s=!0,a(t,e))})}catch(e){s||(s=!0,a(t,e))}})}else o(t,n)}}function o(n,r){n.$thenableState===e&&(n.$thenableResult=r,n.$thenableState=t,s(n))}function a(t,r){t.$thenableState===e&&(t.$thenableResult=r,t.$thenableState=n,s(t))}function s(e){var r,o=e.$thenableState,s=e.$thenableResult,c=e.$thenableReactions;o===t?(e.$thenableReactions=[],r="fulfillHandler"):o==n&&(e.$thenableReactions=[],r="rejectHandler"),r&&l(function(e,t,n){for(var r=0,o=t.length;r<o;++r){var s=t[r],l=s[n];if("Identity"===l)i(s.thenable,e);else if("Thrower"===l)a(s.thenable,e);else try{i(s.thenable,l(e))}catch(e){a(s.thenable,e)}}}.pass([s,c,r]))}var l;l="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick:"undefined"!=typeof setImmediate?setImmediate:function(e){setTimeout(e,0)}}(),Object.extend({subset:function(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n},map:function(e,t,n){for(var r={},i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];r[a]=t.call(n,e[a],a,e)}return r},filter:function(e,t,n){for(var r={},i=Object.keys(e),o=0;o<i.length;o++){var a=i[o],s=e[a];t.call(n,s,a,e)&&(r[a]=s)}return r},every:function(e,t,n){for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];if(!t.call(n,e[o],o))return!1}return!0},some:function(e,t,n){for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];if(t.call(n,e[o],o))return!0}return!1},values:function(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t.push(e[i])}return t},getLength:function(e){return Object.keys(e).length},keyOf:function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(e[i]===t)return i}return null},contains:function(e,t){return null!=Object.keyOf(e,t)},toQueryString:function(e,t){var n=[];return Object.each(e,function(e,r){t&&(r=t+"["+r+"]");var i;switch(typeOf(e)){case"object":i=Object.toQueryString(e,r);break;case"array":var o={};e.each(function(e,t){o[t]=e}),i=Object.toQueryString(o,r);break;default:i=r+"="+encodeURIComponent(e)}null!=e&&n.push(i)}),n.join("&")}}),Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(e){return Object.keyOf(this,e)},hasValue:function(e){return Object.contains(this,e)},extend:function(e){return Hash.each(e||{},function(e,t){Hash.set(this,t,e)},this),this},combine:function(e){return Hash.each(e||{},function(e,t){Hash.include(this,t,e)},this),this},erase:function(e){return this.hasOwnProperty(e)&&delete this[e],this},get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]&&!this.hasOwnProperty(e)||(this[e]=t),this},empty:function(){return Hash.each(this,function(e,t){delete this[t]},this),this},include:function(e,t){return null==this[e]&&(this[e]=t),this},map:function(e,t){return new Hash(Object.map(this,e,t))},filter:function(e,t){return new Hash(Object.filter(this,e,t))},every:function(e,t){return Object.every(this,e,t)},some:function(e,t){return Object.some(this,e,t)},getKeys:function(){return Object.keys(this)},getValues:function(){return Object.values(this)},toQueryString:function(e){return Object.toQueryString(this,e)}}),Hash.extend=Object.append,Hash.alias({indexOf:"keyOf",contains:"hasValue"}),function(){var e,t,n,r,i={},o={},a=/\\/g,s=function(n,a){if(null==n)return null;if(!0===n.Slick)return n;n=(""+n).replace(/^\s+|\s+$/g,"");var l=(r=!!a)?o:i;if(l[n])return l[n];for(e={Slick:!0,expressions:[],raw:n,reverse:function(){return s(this.raw,!0)}},t=-1;n!=(n=n.replace(p,h)););return e.length=e.expressions.length,l[e.raw]=r?c(e):e},l=function(e){return"!"===e?" ":" "===e?"!":/^!/.test(e)?e.replace(/^!/,""):"!"+e},c=function(e){for(var t=e.expressions,n=0;n<t.length;n++){for(var r=t[n],i={parts:[],tag:"*",combinator:l(r[0].combinator)},o=0;o<r.length;o++){var a=r[o];a.reverseCombinator||(a.reverseCombinator=" "),a.combinator=a.reverseCombinator,delete a.reverseCombinator}r.reverse().push(i)}return e},u=function(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(e){return"\\"+e})},p=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+u(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));function h(i,o,s,c,p,h,f,d,y,m,g,v,b,x,w,_){if((o||-1===t)&&(e.expressions[++t]=[],n=-1,o))return"";if(s||c||-1===n){s=s||" ";var k=e.expressions[t];r&&k[n]&&(k[n].reverseCombinator=l(s)),k[++n]={combinator:s,tag:"*"}}var S=e.expressions[t][n];if(p)S.tag=p.replace(a,"");else if(h)S.id=h.replace(a,"");else if(f)f=f.replace(a,""),S.classList||(S.classList=[]),S.classes||(S.classes=[]),S.classList.push(f),S.classes.push({value:f,regexp:new RegExp("(^|\\s)"+u(f)+"(\\s|$)")});else if(b)_=(_=_||w)?_.replace(a,""):null,S.pseudos||(S.pseudos=[]),S.pseudos.push({key:b.replace(a,""),value:_,type:1==v.length?"class":"element"});else if(d){d=d.replace(a,""),g=(g||"").replace(a,"");var C,T;switch(y){case"^=":T=new RegExp("^"+u(g));break;case"$=":T=new RegExp(u(g)+"$");break;case"~=":T=new RegExp("(^|\\s)"+u(g)+"(\\s|$)");break;case"|=":T=new RegExp("^"+u(g)+"(-|$)");break;case"=":C=function(e){return g==e};break;case"*=":C=function(e){return e&&e.indexOf(g)>-1};break;case"!=":C=function(e){return g!=e};break;default:C=function(e){return!!e}}""==g&&/^[*$^]=$/.test(y)&&(C=function(){return!1}),C||(C=function(e){return e&&T.test(e)}),S.attributes||(S.attributes=[]),S.attributes.push({key:d,operator:y,value:g,test:C})}return""}var f=this.Slick||{};f.parse=function(e){return s(e)},f.escapeRegExp=u,this.Slick||(this.Slick=f)}.apply("undefined"!=typeof exports?exports:this),function(){var e={},t={},n=Object.prototype.toString;e.isNativeCode=function(e){return/\{\s*\[native code\]\s*\}/.test(""+e)},e.isXML=function(e){return!!e.xmlVersion||!!e.xml||"[object XMLDocument]"==n.call(e)||9==e.nodeType&&"HTML"!=e.documentElement.nodeName},e.setDocument=function(e){var n=e.nodeType;if(9==n);else if(n)e=e.ownerDocument;else{if(!e.navigator)return;e=e.document}if(this.document!==e){this.document=e;var r,i=e.documentElement,o=this.getUIDXML(i),a=t[o];if(a)for(r in a)this[r]=a[r];else{(a=t[o]={}).root=i,a.isXMLDocument=this.isXML(e),a.brokenStarGEBTN=a.starSelectsClosedQSA=a.idGetsName=a.brokenMixedCaseQSA=a.brokenGEBCN=a.brokenCheckedQSA=a.brokenEmptyAttributeQSA=a.isHTMLDocument=a.nativeMatchesSelector=!1;var s,l,c,u,p,h,f="slick_uniqueid",d=e.createElement("div"),y=e.body||e.getElementsByTagName("body")[0]||i;y.appendChild(d);try{d.innerHTML='<a id="'+f+'"></a>',a.isHTMLDocument=!!e.getElementById(f)}catch(e){}if(a.isHTMLDocument){d.style.display="none",d.appendChild(e.createComment("")),l=d.getElementsByTagName("*").length>1;try{d.innerHTML="foo</foo>",s=(h=d.getElementsByTagName("*"))&&!!h.length&&"/"==h[0].nodeName.charAt(0)}catch(e){}a.brokenStarGEBTN=l||s;try{d.innerHTML='<a name="'+f+'"></a><b id="'+f+'"></b>',a.idGetsName=e.getElementById(f)===d.firstChild}catch(e){}if(d.getElementsByClassName){try{d.innerHTML='<a class="f"></a><a class="b"></a>',d.getElementsByClassName("b").length,d.firstChild.className="b",u=2!=d.getElementsByClassName("b").length}catch(e){}try{d.innerHTML='<a class="a"></a><a class="f b a"></a>',c=2!=d.getElementsByClassName("a").length}catch(e){}a.brokenGEBCN=u||c}if(d.querySelectorAll){try{d.innerHTML="foo</foo>",h=d.querySelectorAll("*"),a.starSelectsClosedQSA=h&&!!h.length&&"/"==h[0].nodeName.charAt(0)}catch(e){}try{d.innerHTML='<a class="MiX"></a>',a.brokenMixedCaseQSA=!d.querySelectorAll(".MiX").length}catch(e){}try{d.innerHTML='<select><option selected="selected">a</option></select>',a.brokenCheckedQSA=0==d.querySelectorAll(":checked").length}catch(e){}try{d.innerHTML='<a class=""></a>',a.brokenEmptyAttributeQSA=0!=d.querySelectorAll('[class*=""]').length}catch(e){}}try{d.innerHTML='<form action="s"><input id="action"/></form>',p="s"!=d.firstChild.getAttribute("action")}catch(e){}if(a.nativeMatchesSelector=i.matches||i.mozMatchesSelector||i.webkitMatchesSelector,a.nativeMatchesSelector)try{a.nativeMatchesSelector.call(i,":slick"),a.nativeMatchesSelector=null}catch(e){}}try{i.slick_expando=1,delete i.slick_expando,a.getUID=this.getUIDHTML}catch(e){a.getUID=this.getUIDXML}y.removeChild(d),d=h=y=null,a.getAttribute=a.isHTMLDocument&&p?function(e,t){var n=this.attributeGetters[t];if(n)return n.call(e);var r=e.getAttributeNode(t);return r?r.nodeValue:null}:function(e,t){var n=this.attributeGetters[t];return n?n.call(e):e.getAttribute(t)},a.hasAttribute=i&&this.isNativeCode(i.hasAttribute)?function(e,t){return e.hasAttribute(t)}:function(e,t){return!(!(e=e.getAttributeNode(t))||!e.specified&&!e.nodeValue)};var m=i&&this.isNativeCode(i.contains),g=e&&this.isNativeCode(e.contains);a.contains=m&&g?function(e,t){return e.contains(t)}:m&&!g?function(t,n){return t===n||(t===e?e.documentElement:t).contains(n)}:i&&i.compareDocumentPosition?function(e,t){return e===t||!!(16&e.compareDocumentPosition(t))}:function(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1},a.documentSorter=i.compareDocumentPosition?function(e,t){return e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:e===t?0:1:0}:"sourceIndex"in i?function(e,t){return e.sourceIndex&&t.sourceIndex?e.sourceIndex-t.sourceIndex:0}:e.createRange?function(e,t){if(!e.ownerDocument||!t.ownerDocument)return 0;var n=e.ownerDocument.createRange(),r=t.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,0),r.setStart(t,0),r.setEnd(t,0),n.compareBoundaryPoints(Range.START_TO_END,r)}:null,i=null;for(r in a)this[r]=a[r]}}};var r=/^([#.]?)((?:[\w-]+|\*))$/,i=/\[.+[*$^]=(?:""|'')?\]/,o={};e.search=function(e,t,n,a){var s=this.found=a?null:n||[];if(!e)return s;if(e.navigator)e=e.document;else if(!e.nodeType)return s;var l,c,u,h,f=this.uniques={},d=!(!n||!n.length),y=9==e.nodeType;if(this.document!==(y?e:e.ownerDocument)&&this.setDocument(e),d)for(c=s.length;c--;)f[this.getUID(s[c])]=!0;if("string"==typeof t){var m=t.match(r);e:if(m){var g=m[1],v=m[2];if(g){if("#"==g){if(!this.isHTMLDocument||!y)break e;if(!(u=e.getElementById(v)))return s;if(this.idGetsName&&u.getAttributeNode("id").nodeValue!=v)break e;if(a)return u||null;d&&f[this.getUID(u)]||s.push(u)}else if("."==g){if(!this.isHTMLDocument||(!e.getElementsByClassName||this.brokenGEBCN)&&e.querySelectorAll)break e;if(e.getElementsByClassName&&!this.brokenGEBCN){if(h=e.getElementsByClassName(v),a)return h[0]||null;for(c=0;u=h[c++];)d&&f[this.getUID(u)]||s.push(u)}else{var b=new RegExp("(^|\\s)"+p.escapeRegExp(v)+"(\\s|$)");for(h=e.getElementsByTagName("*"),c=0;u=h[c++];)if(className=u.className,className&&b.test(className)){if(a)return u;d&&f[this.getUID(u)]||s.push(u)}}}}else{if("*"==v&&this.brokenStarGEBTN)break e;if(h=e.getElementsByTagName(v),a)return h[0]||null;for(c=0;u=h[c++];)d&&f[this.getUID(u)]||s.push(u)}return d&&this.sort(s),a?null:s}e:if(e.querySelectorAll){if(!this.isHTMLDocument||o[t]||this.brokenMixedCaseQSA||this.brokenCheckedQSA&&t.indexOf(":checked")>-1||this.brokenEmptyAttributeQSA&&i.test(t)||!y&&t.indexOf(",")>-1||p.disableQSA)break e;var x,w=t,_=e;y||(x=_.getAttribute("id"),slickid="slickid__",_.setAttribute("id",slickid),w="#"+slickid+" "+w,e=_.parentNode);try{if(a)return e.querySelector(w)||null;h=e.querySelectorAll(w)}catch(e){o[t]=1;break e}finally{y||(x?_.setAttribute("id",x):_.removeAttribute("id"),e=_)}if(this.starSelectsClosedQSA)for(c=0;u=h[c++];)!(u.nodeName>"@")||d&&f[this.getUID(u)]||s.push(u);else for(c=0;u=h[c++];)d&&f[this.getUID(u)]||s.push(u);return d&&this.sort(s),s}if(!(l=this.Slick.parse(t)).length)return s}else{if(null==t)return s;if(!t.Slick)return this.contains(e.documentElement||e,t)?(s?s.push(t):s=t,s):s;l=t}this.posNTH={},this.posNTHLast={},this.posNTHType={},this.posNTHTypeLast={},this.push=!d&&(a||1==l.length&&1==l.expressions[0].length)?this.pushArray:this.pushUID,null==s&&(s=[]);var k,S,C,T,E,M,A,L,O,P,R,I,N,j,D=l.expressions;e:for(c=0;I=D[c];c++)for(k=0;N=I[k];k++){if(!this[T="combinator:"+N.combinator])continue e;if(E=this.isXMLDocument?N.tag:N.tag.toUpperCase(),M=N.id,A=N.classList,L=N.classes,O=N.attributes,P=N.pseudos,j=k===I.length-1,this.bitUniques={},j?(this.uniques=f,this.found=s):(this.uniques={},this.found=[]),0===k){if(this[T](e,E,M,L,O,P,A),a&&j&&s.length)break e}else if(a&&j){for(S=0,C=R.length;S<C;S++)if(this[T](R[S],E,M,L,O,P,A),s.length)break e}else for(S=0,C=R.length;S<C;S++)this[T](R[S],E,M,L,O,P,A);R=this.found}return(d||l.expressions.length>1)&&this.sort(s),a?s[0]||null:s},e.uidx=1,e.uidk="slick-uniqueid",e.getUIDXML=function(e){var t=e.getAttribute(this.uidk);return t||(t=this.uidx++,e.setAttribute(this.uidk,t)),t},e.getUIDHTML=function(e){return e.uniqueNumber||(e.uniqueNumber=this.uidx++)},e.sort=function(e){return this.documentSorter?(e.sort(this.documentSorter),e):e},e.cacheNTH={},e.matchNTH=/^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/,e.parseNTHArgument=function(e){var t=e.match(this.matchNTH);if(!t)return!1;var n=t[2]||!1,r=t[1]||1;"-"==r&&(r=-1);var i=+t[3]||0;return t="n"==n?{a:r,b:i}:"odd"==n?{a:2,b:1}:"even"==n?{a:2,b:0}:{a:0,b:r},this.cacheNTH[e]=t},e.createNTHPseudo=function(e,t,n,r){return function(i,o){var a=this.getUID(i);if(!this[n][a]){var s=i.parentNode;if(!s)return!1;var l=s[e],c=1;if(r){var u=i.nodeName;do{l.nodeName==u&&(this[n][this.getUID(l)]=c++)}while(l=l[t])}else do{1==l.nodeType&&(this[n][this.getUID(l)]=c++)}while(l=l[t])}o=o||"n";var p=this.cacheNTH[o]||this.parseNTHArgument(o);if(!p)return!1;var h=p.a,f=p.b,d=this[n][a];if(0==h)return f==d;if(h>0){if(d<f)return!1}else if(f<d)return!1;return(d-f)%h==0}},e.pushArray=function(e,t,n,r,i,o){this.matchSelector(e,t,n,r,i,o)&&this.found.push(e)},e.pushUID=function(e,t,n,r,i,o){var a=this.getUID(e);!this.uniques[a]&&this.matchSelector(e,t,n,r,i,o)&&(this.uniques[a]=!0,this.found.push(e))},e.matchNode=function(e,t){if(this.isHTMLDocument&&this.nativeMatchesSelector)try{return this.nativeMatchesSelector.call(e,t.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(e){}var n=this.Slick.parse(t);if(!n)return!0;var r,i,o=n.expressions,a=0;for(r=0;i=o[r];r++)if(1==i.length){var s=i[0];if(this.matchSelector(e,this.isXMLDocument?s.tag:s.tag.toUpperCase(),s.id,s.classes,s.attributes,s.pseudos))return!0;a++}if(a==n.length)return!1;var l,c=this.search(this.document,n);for(r=0;l=c[r++];)if(l===e)return!0;return!1},e.matchPseudo=function(e,t,n){var r="pseudo:"+t;if(this[r])return this[r](e,n);var i=this.getAttribute(e,t);return n?n==i:!!i},e.matchSelector=function(e,t,n,r,i,o){if(t){var a=this.isXMLDocument?e.nodeName:e.nodeName.toUpperCase();if("*"==t){if(a<"@")return!1}else if(a!=t)return!1}if(n&&e.getAttribute("id")!=n)return!1;var s,l,c;if(r)for(s=r.length;s--;)if(!(c=this.getAttribute(e,"class"))||!r[s].regexp.test(c))return!1;if(i)for(s=i.length;s--;)if((l=i[s]).operator?!l.test(this.getAttribute(e,l.key)):!this.hasAttribute(e,l.key))return!1;if(o)for(s=o.length;s--;)if(l=o[s],!this.matchPseudo(e,l.key,l.value))return!1;return!0};var a={" ":function(e,t,n,r,i,o,a){var s,l,c;if(this.isHTMLDocument){e:if(n){if(!(l=this.document.getElementById(n))&&e.all||this.idGetsName&&l&&l.getAttributeNode("id").nodeValue!=n){if(!(c=e.all[n]))return;for(c[0]||(c=[c]),s=0;l=c[s++];){var u=l.getAttributeNode("id");if(u&&u.nodeValue==n){this.push(l,t,null,r,i,o);break}}return}if(!l){if(this.contains(this.root,e))return;break e}if(this.document!==e&&!this.contains(e,l))return;return void this.push(l,t,null,r,i,o)}e:if(r&&e.getElementsByClassName&&!this.brokenGEBCN){if(!(c=e.getElementsByClassName(a.join(" ")))||!c.length)break e;for(s=0;l=c[s++];)this.push(l,t,n,null,i,o);return}}if((c=e.getElementsByTagName(t))&&c.length)for(this.brokenStarGEBTN||(t=null),s=0;l=c[s++];)this.push(l,t,n,r,i,o)},">":function(e,t,n,r,i,o){if(e=e.firstChild)do{1==e.nodeType&&this.push(e,t,n,r,i,o)}while(e=e.nextSibling)},"+":function(e,t,n,r,i,o){for(;e=e.nextSibling;)if(1==e.nodeType){this.push(e,t,n,r,i,o);break}},"^":function(e,t,n,r,i,o){(e=e.firstChild)&&(1==e.nodeType?this.push(e,t,n,r,i,o):this["combinator:+"](e,t,n,r,i,o))},"~":function(e,t,n,r,i,o){for(;e=e.nextSibling;)if(1==e.nodeType){var a=this.getUID(e);if(this.bitUniques[a])break;this.bitUniques[a]=!0,this.push(e,t,n,r,i,o)}},"++":function(e,t,n,r,i,o){this["combinator:+"](e,t,n,r,i,o),this["combinator:!+"](e,t,n,r,i,o)},"~~":function(e,t,n,r,i,o){this["combinator:~"](e,t,n,r,i,o),this["combinator:!~"](e,t,n,r,i,o)},"!":function(e,t,n,r,i,o){for(;e=e.parentNode;)e!==this.document&&this.push(e,t,n,r,i,o)},"!>":function(e,t,n,r,i,o){(e=e.parentNode)!==this.document&&this.push(e,t,n,r,i,o)},"!+":function(e,t,n,r,i,o){for(;e=e.previousSibling;)if(1==e.nodeType){this.push(e,t,n,r,i,o);break}},"!^":function(e,t,n,r,i,o){(e=e.lastChild)&&(1==e.nodeType?this.push(e,t,n,r,i,o):this["combinator:!+"](e,t,n,r,i,o))},"!~":function(e,t,n,r,i,o){for(;e=e.previousSibling;)if(1==e.nodeType){var a=this.getUID(e);if(this.bitUniques[a])break;this.bitUniques[a]=!0,this.push(e,t,n,r,i,o)}}};for(var s in a)e["combinator:"+s]=a[s];var l={empty:function(e){var t=e.firstChild;return!(t&&1==t.nodeType||(e.innerText||e.textContent||"").length)},not:function(e,t){return!this.matchNode(e,t)},contains:function(e,t){return(e.innerText||e.textContent||"").indexOf(t)>-1},"first-child":function(e){for(;e=e.previousSibling;)if(1==e.nodeType)return!1;return!0},"last-child":function(e){for(;e=e.nextSibling;)if(1==e.nodeType)return!1;return!0},"only-child":function(e){for(var t=e;t=t.previousSibling;)if(1==t.nodeType)return!1;for(var n=e;n=n.nextSibling;)if(1==n.nodeType)return!1;return!0},"nth-child":e.createNTHPseudo("firstChild","nextSibling","posNTH"),"nth-last-child":e.createNTHPseudo("lastChild","previousSibling","posNTHLast"),"nth-of-type":e.createNTHPseudo("firstChild","nextSibling","posNTHType",!0),"nth-last-of-type":e.createNTHPseudo("lastChild","previousSibling","posNTHTypeLast",!0),index:function(e,t){return this["pseudo:nth-child"](e,""+(t+1))},even:function(e){return this["pseudo:nth-child"](e,"2n")},odd:function(e){return this["pseudo:nth-child"](e,"2n+1")},"first-of-type":function(e){for(var t=e.nodeName;e=e.previousSibling;)if(e.nodeName==t)return!1;return!0},"last-of-type":function(e){for(var t=e.nodeName;e=e.nextSibling;)if(e.nodeName==t)return!1;return!0},"only-of-type":function(e){for(var t=e,n=e.nodeName;t=t.previousSibling;)if(t.nodeName==n)return!1;for(var r=e;r=r.nextSibling;)if(r.nodeName==n)return!1;return!0},enabled:function(e){return!e.disabled},disabled:function(e){return e.disabled},checked:function(e){return e.checked||e.selected},focus:function(e){return this.isHTMLDocument&&this.document.activeElement===e&&(e.href||e.type||this.hasAttribute(e,"tabindex"))},root:function(e){return e===this.root},selected:function(e){return e.selected}};for(var c in l)e["pseudo:"+c]=l[c];var u=e.attributeGetters={for:function(){return"htmlFor"in this?this.htmlFor:this.getAttribute("for")},href:function(){return"href"in this?this.getAttribute("href",2):this.getAttribute("href")},style:function(){return this.style?this.style.cssText:this.getAttribute("style")},tabindex:function(){var e=this.getAttributeNode("tabindex");return e&&e.specified?e.nodeValue:null},type:function(){return this.getAttribute("type")},maxlength:function(){var e=this.getAttributeNode("maxLength");return e&&e.specified?e.nodeValue:null}};u.MAXLENGTH=u.maxLength=u.maxlength;var p=e.Slick=this.Slick||{};p.version="1.1.7",p.search=function(t,n,r){return e.search(t,n,r)},p.find=function(t,n){return e.search(t,n,null,!0)},p.contains=function(t,n){return e.setDocument(t),e.contains(t,n)},p.getAttribute=function(t,n){return e.setDocument(t),e.getAttribute(t,n)},p.hasAttribute=function(t,n){return e.setDocument(t),e.hasAttribute(t,n)},p.match=function(t,n){return!(!t||!n)&&(!n||n===t||(e.setDocument(t),e.matchNode(t,n)))},p.defineAttributeGetter=function(t,n){return e.attributeGetters[t]=n,this},p.lookupAttributeGetter=function(t){return e.attributeGetters[t]},p.definePseudo=function(t,n){return e["pseudo:"+t]=function(e,t){return n.call(e,t)},this},p.lookupPseudo=function(t){var n=e["pseudo:"+t];return n?function(e){return n.call(this,e)}:null},p.override=function(t,n){return e.override(t,n),this},p.isXML=e.isXML,p.uidOf=function(t){return e.getUIDHTML(t)},this.Slick||(this.Slick=p)}.apply("undefined"!=typeof exports?exports:this);var Element=this.Element=function(e,t){var n=Element.Constructors[e];if(n)return n(t);if("string"!=typeof e)return document.id(e).set(t);if(t||(t={}),!/^[\w-]+$/.test(e)){var r=Slick.parse(e).expressions[0][0];e="*"==r.tag?"div":r.tag,r.id&&null==t.id&&(t.id=r.id);var i=r.attributes;if(i)for(var o,a=0,s=i.length;a<s;a++)null==t[(o=i[a]).key]&&(null!=o.value&&"="==o.operator?t[o.key]=o.value:o.value||o.operator||(t[o.key]=!0));r.classList&&null==t.class&&(t.class=r.classList.join(" "))}return document.newElement(e,t)};Browser.Element&&(Element.prototype=Browser.Element.prototype,Element.prototype._fireEvent=function(e){return function(t,n){return e.call(this,t,n)}}(Element.prototype.fireEvent)),new Type("Element",Element).mirror(function(e){if(!Array.prototype[e]){var t={};t[e]=function(){for(var t=[],n=arguments,r=!0,i=0,o=this.length;i<o;i++){var a=this[i],s=t[i]=a[e].apply(a,n);r=r&&"element"==typeOf(s)}return r?new Elements(t):t},Elements.implement(t)}}),Browser.Element||(Element.parent=Object,Element.Prototype={$constructor:Element,$family:Function.convert("element").hide()},Element.mirror(function(e,t){Element.Prototype[e]=t})),Element.Constructors={},Element.Constructors=new Hash;var IFrame=new Type("IFrame",function(){var e,t=Array.link(arguments,{properties:Type.isObject,iframe:function(e){return null!=e}}),n=t.properties||{};t.iframe&&(e=document.id(t.iframe));var r=n.onload||function(){};delete n.onload,n.id=n.name=[n.id,n.name,e?e.id||e.name:"IFrame_"+String.uniqueID()].pick(),e=new Element(e||"iframe",n);var i=function(){r.call(e.contentWindow)};return window.frames[n.id]?i():e.addListener("load",i),e}),Elements=this.Elements=function(e){if(e&&e.length)for(var t,n={},r=0;t=e[r++];){var i=Slick.uidOf(t);n[i]||(n[i]=!0,this.push(t))}};Elements.prototype={length:0},Elements.parent=Array,new Type("Elements",Elements).implement({filter:function(e,t){return e?new Elements(Array.filter(this,"string"==typeOf(e)?function(t){return t.match(e)}:e,t)):this}.protect(),push:function(){for(var e=this.length,t=0,n=arguments.length;t<n;t++){var r=document.id(arguments[t]);r&&(this[e++]=r)}return this.length=e}.protect(),unshift:function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var r=document.id(arguments[t]);r&&e.push(r)}return Array.prototype.unshift.apply(this,e)}.protect(),concat:function(){for(var e=new Elements(this),t=0,n=arguments.length;t<n;t++){var r=arguments[t];Type.isEnumerable(r)?e.append(r):e.push(r)}return e}.protect(),append:function(e){for(var t=0,n=e.length;t<n;t++)this.push(e[t]);return this}.protect(),empty:function(){for(;this.length;)delete this[--this.length];return this}.protect()}),Elements.alias("extend","append"),function(){var e=Array.prototype.splice,t={0:0,1:1,length:2};e.call(t,1,1),1==t[1]&&Elements.implement("splice",function(){for(var t=this.length,n=e.apply(this,arguments);t>=this.length;)delete this[t--];return n}.protect()),Array.forEachMethod(function(e,t){Elements.implement(t,e)}),Array.mirror(Elements);var n;try{n="x"==document.createElement("<input name=x>").name}catch(e){}var r=function(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},i=function(){var e=document.createElement("style"),t=!1;try{e.innerHTML="#justTesing{margin: 0px;}",t=!!e.innerHTML}catch(e){}return t}();Document.implement({newElement:function(e,t){if(t){if(null!=t.checked&&(t.defaultChecked=t.checked),"checkbox"!=t.type&&"radio"!=t.type||null!=t.value||(t.value="on"),!i&&"style"==e){var o=document.createElement("style");return o.setAttribute("type","text/css"),t.type&&delete t.type,this.id(o).set(t)}n&&(e="<"+e,t.name&&(e+=' name="'+r(t.name)+'"'),t.type&&(e+=' type="'+r(t.type)+'"'),e+=">",delete t.name,delete t.type)}return this.id(this.createElement(e)).set(t)}})}(),function(){Slick.uidOf(window),Slick.uidOf(document),Document.implement({newTextNode:function(e){return this.createTextNode(e)},getDocument:function(){return this},getWindow:function(){return this.window},id:function(){var e={string:function(t,n,r){return(t=Slick.find(r,"#"+t.replace(/(\W)/g,"\\$1")))?e.element(t,n):null},element:function(e,t){if(Slick.uidOf(e),!t&&!e.$family&&!/^(?:object|embed)$/i.test(e.tagName)){var n=e.fireEvent;e._fireEvent=function(e,t){return n(e,t)},Object.append(e,Element.Prototype)}return e},object:function(t,n,r){return t.toElement?e.element(t.toElement(r),n):null}};return e.textnode=e.whitespace=e.window=e.document=function(e){return e},function(t,n,r){if(t&&t.$family&&t.uniqueNumber)return t;var i=typeOf(t);return e[i]?e[i](t,n,r||document):null}}()}),null==window.$&&Window.implement("$",function(e,t){return document.id(e,t,this.document)}),Window.implement({getDocument:function(){return this.document},getWindow:function(){return this}}),[Document,Element].invoke("implement",{getElements:function(e){return Slick.search(this,e,new Elements)},getElement:function(e){return document.id(Slick.find(this,e))}});var e={contains:function(e){return Slick.contains(this,e)}};document.contains||Document.implement(e),document.createElement("div").contains||Element.implement(e),Element.implement("hasChild",function(e){return this!==e&&this.contains(e)}),function(e,t,n){this.Selectors={};var r=this.Selectors.Pseudo=new Hash,i=function(){for(var e in r)r.hasOwnProperty(e)&&(Slick.definePseudo(e,r[e]),delete r[e])};Slick.search=function(t,n,r){return i(),e.call(this,t,n,r)},Slick.find=function(e,n){return i(),t.call(this,e,n)},Slick.match=function(e,t){return i(),n.call(this,e,t)}}(Slick.search,Slick.find,Slick.match);var t=function(e,t){if(!e)return t;for(var n=(e=Object.clone(Slick.parse(e))).expressions,r=n.length;r--;)n[r][0].combinator=t;return e};Object.forEach({getNext:"~",getPrevious:"!~",getParent:"!"},function(e,n){Element.implement(n,function(n){return this.getElement(t(n,e))})}),Object.forEach({getAllNext:"~",getAllPrevious:"!~",getSiblings:"~~",getChildren:">",getParents:"!"},function(e,n){Element.implement(n,function(n){return this.getElements(t(n,e))})}),Element.implement({getFirst:function(e){return document.id(Slick.search(this,t(e,">"))[0])},getLast:function(e){return document.id(Slick.search(this,t(e,">")).getLast())},getWindow:function(){return this.ownerDocument.window},getDocument:function(){return this.ownerDocument},getElementById:function(e){return document.id(Slick.find(this,"#"+(""+e).replace(/(\W)/g,"\\$1")))},match:function(e){return!e||Slick.match(this,e)}}),null==window.$$&&Window.implement("$$",function(e){var t=new Elements;if(1==arguments.length&&"string"==typeof e)return Slick.search(this.document,e,t);for(var n=Array.flatten(arguments),r=0,i=n.length;r<i;r++){var o=n[r];switch(typeOf(o)){case"element":t.push(o);break;case"string":Slick.search(this.document,o,t)}}return t}),null==window.$$&&Window.implement("$$",function(e){if(1==arguments.length){if("string"==typeof e)return Slick.search(this.document,e,new Elements);if(Type.isEnumerable(e))return new Elements(e)}return new Elements(arguments)});var n={before:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)},after:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t.nextSibling)},bottom:function(e,t){t.appendChild(e)},top:function(e,t){t.insertBefore(e,t.firstChild)}};n.inside=n.bottom,Object.each(n,function(e,t){var n={};n["inject"+(t=t.capitalize())]=function(t){return e(this,document.id(t,!0)),this},n["grab"+t]=function(t){return e(document.id(t,!0),this),this},Element.implement(n)});var r={},i={},o={};Array.forEach(["type","value","defaultValue","accessKey","cellPadding","cellSpacing","colSpan","frameBorder","rowSpan","tabIndex","useMap"],function(e){o[e.toLowerCase()]=e}),o.html="innerHTML",o.text=null==document.createElement("div").textContent?"innerText":"textContent",Object.forEach(o,function(e,t){i[t]=function(t,n){t[e]=n},r[t]=function(t){return t[e]}}),i.text=(i.text,function(e,t){"style"==e.get("tag")?e.set("html",t):e[o.text]=t}),r.text=(a=r.text,function(e){return"style"==e.get("tag")?e.innerHTML:a(e)});var a,s={};Array.forEach(["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"],function(e){var t=e.toLowerCase();s[t]=e,i[t]=function(t,n){t[e]=!!n},r[t]=function(t){return!!t[e]}}),Object.append(i,{class:function(e,t){"className"in e?e.className=t||"":e.setAttribute("class",t)},for:function(e,t){"htmlFor"in e?e.htmlFor=t:e.setAttribute("for",t)},style:function(e,t){e.style?e.style.cssText=t:e.setAttribute("style",t)},value:function(e,t){e.value=null!=t?t:""}}),r.class=function(e){return"className"in e?e.className||null:e.getAttribute("class")};var c=document.createElement("button");try{c.type="button"}catch(e){}"button"!=c.type&&(i.type=function(e,t){e.setAttribute("type",t)}),c=null;var u,p,h=function(){var e=document.createElement("style"),t=!1;try{e.innerHTML="#justTesing{margin: 0px;}",t=!!e.innerHTML}catch(e){}return t}(),f=document.createElement("input");f.value="t",f.type="submit",u="t"!=f.value;try{f.value="",f.type="email",p="email"==f.type}catch(e){}f=null,!u&&p||(i.type=function(e,t){try{var n=e.value;e.type=t,e.value=n}catch(e){}});var d,y,m=(d=document.createElement("div"),d.random="attribute","attribute"==d.getAttribute("random")),g=(y=document.createElement("div"),y.innerHTML='<object><param name="should_fix" value="the unknown" /></object>',1!=y.cloneNode(!0).firstChild.childNodes.length),v=!!document.createElement("div").classList,b=function(e){var t={};return(e||"").clean().split(" ").filter(function(e){if(""!==e&&!t[e])return t[e]=e})},x=function(e){this.classList.add(e)},w=function(e){this.classList.remove(e)};Element.implement({setProperty:function(e,t){var n=i[e.toLowerCase()];if(n)n(this,t);else{var r;m&&(r=this.retrieve("$attributeWhiteList",{})),null==t?(this.removeAttribute(e),m&&delete r[e]):(this.setAttribute(e,""+t),m&&(r[e]=!0))}return this},setProperties:function(e){for(var t in e)this.setProperty(t,e[t]);return this},getProperty:function(e){var t=r[e.toLowerCase()];if(t)return t(this);if(m){var n=this.getAttributeNode(e),i=this.retrieve("$attributeWhiteList",{});if(!n)return null;if(n.expando&&!i[e]){var o=this.outerHTML;if(o.substr(0,o.search(/\/?['"]?>(?![^<]*<['"])/)).indexOf(e)<0)return null;i[e]=!0}}var a=Slick.getAttribute(this,e);return a||Slick.hasAttribute(this,e)?a:null},getProperties:function(){var e=Array.convert(arguments);return e.map(this.getProperty,this).associate(e)},removeProperty:function(e){return this.setProperty(e,null)},removeProperties:function(){return Array.each(arguments,this.removeProperty,this),this},set:function(e,t){var n=Element.Properties[e];n&&n.set?n.set.call(this,t):this.setProperty(e,t)}.overloadSetter(),get:function(e){var t=Element.Properties[e];return t&&t.get?t.get.apply(this):this.getProperty(e)}.overloadGetter(),erase:function(e){var t=Element.Properties[e];return t&&t.erase?t.erase.apply(this):this.removeProperty(e),this},hasClass:v?function(e){return this.classList.contains(e)}:function(e){return b(this.className).contains(e)},addClass:v?function(e){return b(e).forEach(x,this),this}:function(e){return this.className=b(e+" "+this.className).join(" "),this},removeClass:v?function(e){return b(e).forEach(w,this),this}:function(e){var t=b(this.className);return b(e).forEach(t.erase,t),this.className=t.join(" "),this},toggleClass:function(e,t){return null==t&&(t=!this.hasClass(e)),t?this.addClass(e):this.removeClass(e)},adopt:function(){var e,t=this,n=Array.flatten(arguments),r=n.length;r>1&&(t=e=document.createDocumentFragment());for(var i=0;i<r;i++){var o=document.id(n[i],!0);o&&t.appendChild(o)}return e&&this.appendChild(e),this},appendText:function(e,t){return this.grab(this.getDocument().newTextNode(e),t)},grab:function(e,t){return n[t||"bottom"](document.id(e,!0),this),this},inject:function(e,t){return n[t||"bottom"](this,document.id(e,!0)),this},replaces:function(e){return(e=document.id(e,!0)).parentNode.replaceChild(this,e),this},wraps:function(e,t){return e=document.id(e,!0),this.replaces(e).grab(e,t)},getSelected:function(){return this.selectedIndex,new Elements(Array.convert(this.options).filter(function(e){return e.selected}))},toQueryString:function(){var e=[];return this.getElements("input, select, textarea").each(function(t){var n=t.type;if(t.name&&!t.disabled&&"submit"!=n&&"reset"!=n&&"file"!=n&&"image"!=n){var r="select"==t.get("tag")?t.getSelected().map(function(e){return document.id(e).get("value")}):"radio"!=n&&"checkbox"!=n||t.checked?t.get("value"):null;Array.convert(r).each(function(n){void 0!==n&&e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(n))})}}),e.join("&")}});var _={before:"beforeBegin",after:"afterEnd",bottom:"beforeEnd",top:"afterBegin",inside:"beforeEnd"};Element.implement("appendHTML","insertAdjacentHTML"in document.createElement("div")?function(e,t){return this.insertAdjacentHTML(_[t||"bottom"],e),this}:function(e,t){var r=new Element("div",{html:e}),i=r.childNodes,o=r.firstChild;if(!o)return this;if(i.length>1){o=document.createDocumentFragment();for(var a=0,s=i.length;a<s;a++)o.appendChild(i[a])}return n[t||"bottom"](o,this),this});var k={},S={},C=function(e){return S[e]||(S[e]={})},T=function(e){var t=e.uniqueNumber;return e.removeEvents&&e.removeEvents(),e.clearAttributes&&e.clearAttributes(),null!=t&&(delete k[t],delete S[t]),e},E={input:"checked",option:"selected",textarea:"value"};if(Element.implement({destroy:function(){var e=T(this).getElementsByTagName("*");return Array.each(e,T),Element.dispose(this),null},empty:function(){return Array.convert(this.childNodes).each(Element.dispose),this},dispose:function(){return this.parentNode?this.parentNode.removeChild(this):this},clone:function(e,t){e=!1!==e;var n,r=this.cloneNode(e),i=[r],o=[this];for(e&&(i.append(Array.convert(r.getElementsByTagName("*"))),o.append(Array.convert(this.getElementsByTagName("*")))),n=i.length;n--;){var a=i[n],s=o[n];if(t||a.removeAttribute("id"),a.clearAttributes&&(a.clearAttributes(),a.mergeAttributes(s),a.removeAttribute("uniqueNumber"),a.options))for(var l=a.options,c=s.options,u=l.length;u--;)l[u].selected=c[u].selected;var p=E[s.tagName.toLowerCase()];p&&s[p]&&(a[p]=s[p])}if(g){var h=r.getElementsByTagName("object"),f=this.getElementsByTagName("object");for(n=h.length;n--;)h[n].outerHTML=f[n].outerHTML}return document.id(r)}}),[Element,Window,Document].invoke("implement",{addListener:function(e,t){return window.attachEvent&&!window.addEventListener&&(k[Slick.uidOf(this)]=this),this.addEventListener?this.addEventListener(e,t,!!arguments[2]):this.attachEvent("on"+e,t),this},removeListener:function(e,t){return this.removeEventListener?this.removeEventListener(e,t,!!arguments[2]):this.detachEvent("on"+e,t),this},retrieve:function(e,t){var n=C(Slick.uidOf(this)),r=n[e];return null!=t&&null==r&&(r=n[e]=t),null!=r?r:null},store:function(e,t){return C(Slick.uidOf(this))[e]=t,this},eliminate:function(e){return delete C(Slick.uidOf(this))[e],this}}),window.attachEvent&&!window.addEventListener){var M=function(){Object.each(k,T),window.CollectGarbage&&CollectGarbage(),window.removeListener("unload",M)};window.addListener("unload",M)}Element.Properties={},Element.Properties=new Hash,Element.Properties.style={set:function(e){this.style.cssText=e},get:function(){return this.style.cssText},erase:function(){this.style.cssText=""}},Element.Properties.tag={get:function(){return this.tagName.toLowerCase()}},Element.Properties.html={set:function(e){null==e?e="":"array"==typeOf(e)&&(e=e.join("")),this.styleSheet&&!h?this.styleSheet.cssText=e:this.innerHTML=e},erase:function(){this.set("html","")}};var A,L=!0,O=!0,P=!0,R=document.createElement("div");if(R.innerHTML="<nav></nav>",!(L=1==R.childNodes.length)){var I="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");for(A=document.createDocumentFragment(),l=I.length;l--;)A.createElement(I[l])}R=null,O=Function.attempt(function(){return document.createElement("table").innerHTML="<tr><td></td></tr>",!0});var N=document.createElement("tr");N.innerHTML="<td></td>",P="<td></td>"==N.innerHTML,N=null,O&&P&&L||(Element.Properties.html.set=function(e){var t={table:[1,"<table>","</table>"],select:[1,"<select>","</select>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"]};return t.thead=t.tfoot=t.tbody,function(n){if(this.styleSheet)return e.call(this,n);var r=t[this.get("tag")];if(r||L||(r=[0,"",""]),!r)return e.call(this,n);var i=r[0],o=document.createElement("div"),a=o;for(L||A.appendChild(o),o.innerHTML=[r[1],n,r[2]].flatten().join("");i--;)a=a.firstChild;this.empty().adopt(a.childNodes),L||A.removeChild(o),o=null}}(Element.Properties.html.set));var j=document.createElement("form");j.innerHTML="<select><option>s</option></select>","s"!=j.firstChild.value&&(Element.Properties.value={set:function(e){if("select"!=this.get("tag"))return this.setProperty("value",e);var t=this.getElements("option");e=String(e);for(var n=0;n<t.length;n++){var r=t[n],i=r.getAttributeNode("value");if((i&&i.specified?r.value:r.get("text"))===e)return r.selected=!0}},get:function(){var e=this,t=e.get("tag");if("select"!=t&&"option"!=t)return this.getProperty("value");if("select"==t&&!(e=e.getSelected()[0]))return"";var n=e.getAttributeNode("value");return n&&n.specified?e.value:e.get("text")}}),j=null,document.createElement("div").getAttributeNode("id")&&(Element.Properties.id={set:function(e){this.id=this.getAttributeNode("id").value=e},get:function(){return this.id||null},erase:function(){this.id=this.getAttributeNode("id").value=""}})}(),function(){var e={},t=this.DOMEvent=new Type("DOMEvent",function(t,n){if(n||(n=window),(t=t||n.event).$extended)return t;this.event=t,this.$extended=!0,this.shift=t.shiftKey,this.control=t.ctrlKey,this.alt=t.altKey,this.meta=t.metaKey;for(var r=this.type=t.type,i=t.target||t.srcElement;i&&3==i.nodeType;)i=i.parentNode;if(this.target=document.id(i),0==r.indexOf("key")){var o=this.code=t.which||t.keyCode;this.shift&&"keypress"==r||(this.key=e[o]||Object.keyOf(Event.Keys,o)),"keydown"!=r&&"keyup"!=r||(o>111&&o<124?this.key="f"+(o-111):o>95&&o<106&&(this.key=o-96)),null==this.key&&(this.key=String.fromCharCode(o).toLowerCase())}else if("click"==r||"dblclick"==r||"contextmenu"==r||"wheel"==r||"DOMMouseScroll"==r||0==r.indexOf("mouse")){var a=n.document;if(a=a.compatMode&&"CSS1Compat"!=a.compatMode?a.body:a.html,this.page={x:null!=t.pageX?t.pageX:t.clientX+a.scrollLeft,y:null!=t.pageY?t.pageY:t.clientY+a.scrollTop},this.client={x:null!=t.pageX?t.pageX-n.pageXOffset:t.clientX,y:null!=t.pageY?t.pageY-n.pageYOffset:t.clientY},"DOMMouseScroll"!=r&&"wheel"!=r&&"mousewheel"!=r||(this.wheel=function(e){var t;if(e.wheelDelta)t=e.wheelDelta%120==0?e.wheelDelta/120:e.wheelDelta/12;else{var n=e.deltaY||e.detail||0;t=-(n%3==0?n/3:10*n)}return t}(t)),this.rightClick=3==t.which||2==t.button,"mouseover"==r||"mouseout"==r||"mouseenter"==r||"mouseleave"==r){for(var s="mouseover"==r||"mouseenter"==r,l=t.relatedTarget||t[(s?"from":"to")+"Element"];l&&3==l.nodeType;)l=l.parentNode;this.relatedTarget=document.id(l)}}else if(0==r.indexOf("touch")||0==r.indexOf("gesture")){this.rotation=t.rotation,this.scale=t.scale,this.targetTouches=t.targetTouches,this.changedTouches=t.changedTouches;var c=this.touches=t.touches;if(c&&c[0]){var u=c[0];this.page={x:u.pageX,y:u.pageY},this.client={x:u.clientX,y:u.clientY}}}this.client||(this.client={}),this.page||(this.page={})});t.implement({stop:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this}}),t.defineKey=function(t,n){return e[t]=n,this},t.defineKeys=t.defineKey.overloadSetter(!0),t.defineKeys({38:"up",40:"down",37:"left",39:"right",27:"esc",32:"space",8:"backspace",9:"tab",46:"delete",13:"enter"})}();var Event=this.Event=DOMEvent;Event.Keys={},Event.Keys=new Hash(Event.Keys),function(){Element.Properties.events={set:function(e){this.addEvents(e)}},[Element,Window,Document].invoke("implement",{addEvent:function(e,t){var n=this.retrieve("events",{});if(n[e]||(n[e]={keys:[],values:[]}),n[e].keys.contains(t))return this;n[e].keys.push(t);var r=e,i=Element.Events[e],o=t,a=this;i&&(i.onAdd&&i.onAdd.call(this,t,e),i.condition&&(o=function(n){return!i.condition.call(this,n,e)||t.call(this,n)}),i.base&&(r=Function.convert(i.base).call(this,e)));var s=function(){return t.call(a)},l=Element.NativeEvents[r];return l&&(2==l&&(s=function(e){e=new DOMEvent(e,a.getWindow()),!1===o.call(a,e)&&e.stop()}),this.addListener(r,s,arguments[2])),n[e].values.push(s),this},removeEvent:function(e,t){var n=this.retrieve("events");if(!n||!n[e])return this;var r=n[e],i=r.keys.indexOf(t);if(-1==i)return this;var o=r.values[i];delete r.keys[i],delete r.values[i];var a=Element.Events[e];return a&&(a.onRemove&&a.onRemove.call(this,t,e),a.base&&(e=Function.convert(a.base).call(this,e))),Element.NativeEvents[e]?this.removeListener(e,o,arguments[2]):this},addEvents:function(e){for(var t in e)this.addEvent(t,e[t]);return this},removeEvents:function(e){var t;if("object"==typeOf(e)){for(t in e)this.removeEvent(t,e[t]);return this}var n=this.retrieve("events");if(!n)return this;if(e)n[e]&&(n[e].keys.each(function(t){this.removeEvent(e,t)},this),delete n[e]);else{for(t in n)this.removeEvents(t);this.eliminate("events")}return this},fireEvent:function(e,t,n){var r=this.retrieve("events");return r&&r[e]?(t=Array.convert(t),r[e].keys.each(function(e){n?e.delay(n,this,t):e.apply(this,t)},this),this):this},cloneEvents:function(e,t){var n=(e=document.id(e)).retrieve("events");if(!n)return this;if(t)n[t]&&n[t].keys.each(function(e){this.addEvent(t,e)},this);else for(var r in n)this.cloneEvents(e,r);return this}}),Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,wheel:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,paste:2,input:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,hashchange:1,popstate:2,pageshow:2,pagehide:2,error:1,abort:1,scroll:1,message:2},Element.Events={mousewheel:{base:"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"}};var e=function(e){var t=e.relatedTarget;return null==t||!!t&&(t!=this&&"xul"!=t.prefix&&"document"!=typeOf(this)&&!this.contains(t))};"onmouseenter"in document.documentElement?(Element.NativeEvents.mouseenter=Element.NativeEvents.mouseleave=2,Element.MouseenterCheck=e):(Element.Events.mouseenter={base:"mouseover",condition:e},Element.Events.mouseleave={base:"mouseout",condition:e}),window.addEventListener||(Element.NativeEvents.propertychange=2,Element.Events.change={base:function(){var e=this.type;return"input"!=this.get("tag")||"radio"!=e&&"checkbox"!=e?"change":"propertychange"},condition:function(e){return"propertychange"!=e.type||"checked"==e.event.propertyName}}),Element.Events=new Hash(Element.Events)}(),function(){var e=!!window.addEventListener;Element.NativeEvents.focusin=Element.NativeEvents.focusout=2;var t=function(e,t,n,r,i){for(;i&&i!=e;){if(t(i,r))return n.call(i,r,i);i=document.id(i.parentNode)}},n={mouseenter:{base:"mouseover",condition:Element.MouseenterCheck},mouseleave:{base:"mouseout",condition:Element.MouseenterCheck},focus:{base:"focus"+(e?"":"in"),capture:!0},blur:{base:e?"blur":"focusout",capture:!0}},r="$delegation:",i=function(e){return{base:"focusin",remove:function(t,n){var i=t.retrieve(r+e+"listeners",{})[n];if(i&&i.forms)for(var o=i.forms.length;o--;)i.forms[o].removeEvent&&i.forms[o].removeEvent(e,i.fns[o])},listen:function(n,i,o,a,s,l){var c="form"==s.get("tag")?s:a.target.getParent("form");if(c){var u=n.retrieve(r+e+"listeners",{}),p=u[l]||{forms:[],fns:[]},h=p.forms,f=p.fns;if(-1==h.indexOf(c)){h.push(c);var d=function(e){t(n,i,o,e,s)};c.addEvent(e,d),f.push(d),u[l]=p,n.store(r+e+"listeners",u)}}}}},o=function(e){return{base:"focusin",listen:function(n,r,i,o,a){var s={blur:function(){this.removeEvents(s)}};s[e]=function(e){t(n,r,i,e,a)},o.target.addEvents(s)}}};e||Object.append(n,{submit:i("submit"),reset:i("reset"),change:o("change"),select:o("select")});var a=Element.prototype,s=a.addEvent,l=a.removeEvent,c=function(e,t){return function(n,r,i){if(-1==n.indexOf(":relay"))return e.call(this,n,r,i);var o=Slick.parse(n).expressions[0][0];if("relay"!=o.pseudos[0].key)return e.call(this,n,r,i);var a=o.tag;return o.pseudos.slice(1).each(function(e){a+=":"+e.key+(e.value?"("+e.value+")":"")}),e.call(this,n,r),t.call(this,a,o.pseudos[0].value,r)}},u={addEvent:function(e,r,i){var o=this.retrieve("$delegates",{}),a=o[e];if(a)for(var l in a)if(a[l].fn==i&&a[l].match==r)return this;var c=e,u=r,p=i,h=n[e]||{};e=h.base||c,r=function(e){return Slick.match(e,u)};var f=Element.Events[c];if(h.condition||f&&f.condition){var d=r,y=h.condition||f.condition;r=function(t,n){return d(t,n)&&y.call(t,n,e)}}var m=this,g=String.uniqueID(),v=h.listen?function(e,t){!t&&e&&e.target&&(t=e.target),t&&h.listen(m,r,i,e,t,g)}:function(e,n){!n&&e&&e.target&&(n=e.target),n&&t(m,r,i,e,n)};return a||(a={}),a[g]={match:u,fn:p,delegator:v},o[c]=a,s.call(this,e,v,h.capture)},removeEvent:function(e,t,r,i){var o=this.retrieve("$delegates",{}),a=o[e];if(!a)return this;if(i){var s=e,c=a[i].delegator,p=n[e]||{};return e=p.base||s,p.remove&&p.remove(this,i),delete a[i],o[s]=a,l.call(this,e,c,p.capture)}var h,f;if(r){for(h in a)if((f=a[h]).match==t&&f.fn==r)return u.removeEvent.call(this,e,t,r,h)}else for(h in a)(f=a[h]).match==t&&u.removeEvent.call(this,e,t,f.fn,h);return this}};[Element,Window,Document].invoke("implement",{addEvent:c(s,u.addEvent),removeEvent:c(l,u.removeEvent)})}(),function(){var e,t=document.html;(e=document.createElement("div")).style.color="red",e.style.color=null;var n="red"==e.style.color,r="1px solid #123abc";e.style.border=r;var i=e.style.border!=r;e=null;var o=!!window.getComputedStyle,a=null!=document.createElement("div").style.borderRadius;Element.Properties.styles={set:function(e){this.setStyles(e)}};var s=null!=t.style.opacity,l=null!=t.style.filter,c=/alpha\(opacity=([\d.]+)\)/i,u=function(e,t){e.store("$opacity",t),e.style.visibility=t>0||null==t?"visible":"hidden"},p=function(e,t,n){var r=e.style,i=r.filter||e.getComputedStyle("filter")||"";r.filter=(t.test(i)?i.replace(t,n):i+" "+n).trim(),r.filter||r.removeAttribute("filter")},h=s?function(e,t){e.style.opacity=t}:l?function(e,t){e.currentStyle&&e.currentStyle.hasLayout||(e.style.zoom=1),null==t||1==t?(p(e,c,""),1==t&&1!=f(e)&&p(e,c,"alpha(opacity=100)")):p(e,c,"alpha(opacity="+(100*t).limit(0,100).round()+")")}:u,f=s?function(e){var t=e.style.opacity||e.getComputedStyle("opacity");return""==t?1:t.toFloat()}:l?function(e){var t,n=e.style.filter||e.getComputedStyle("filter");return n&&(t=n.match(c)),null==t||null==n?1:t[1]/100}:function(e){var t=e.retrieve("$opacity");return null==t&&(t="hidden"==e.style.visibility?0:1),t},d=null==t.style.cssFloat?"styleFloat":"cssFloat",y={left:"0%",top:"0%",center:"50%",right:"100%",bottom:"100%"},m=null!=t.style.backgroundPositionX,g=/^-(ms)-/,v=function(e){return e.replace(g,"$1-").camelCase()};Element.implement({getComputedStyle:function(e){if(!o&&this.currentStyle)return this.currentStyle[v(e)];var t=Element.getDocument(this).defaultView,n=t?t.getComputedStyle(this,null):null;return n?n.getPropertyValue(e==d?"float":e.hyphenate()):""},setStyle:function(e,t){if("opacity"==e)return null!=t&&(t=parseFloat(t)),h(this,t),this;if(e=v("float"==e?d:e),"string"!=typeOf(t)){var r=(Element.Styles[e]||"@").split(" ");t=Array.convert(t).map(function(e,t){return r[t]?"number"==typeOf(e)?r[t].replace("@",Math.round(e)):e:""}).join(" ")}else t==String(Number(t))&&(t=Math.round(t));this.style[e]=t,(""==t||null==t)&&n&&this.style.removeAttribute&&(i=this.style,"backgroundPosition"==(o=e)&&(i.removeAttribute(o+"X"),o+="Y"),i.removeAttribute(o));var i,o;return this},getStyle:function(e){if("opacity"==e)return f(this);if(e=v("float"==e?d:e),a&&-1!=e.indexOf("borderRadius"))return["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"].map(function(e){return this.style[e]||"0px"},this).join(" ");var t=this.style[e];if(!t||"zIndex"==e){if(Element.ShortStyles.hasOwnProperty(e)){t=[];for(var n in Element.ShortStyles[e])t.push(this.getStyle(n));return t.join(" ")}t=this.getComputedStyle(e)}if(m&&/^backgroundPosition[XY]?$/.test(e))return t.replace(/(top|right|bottom|left)/g,function(e){return y[e]})||"0px";if(!t&&"backgroundPosition"==e)return"0px 0px";if(t){var r=(t=String(t)).match(/rgba?\([\d\s,]+\)/);r&&(t=t.replace(r[0],r[0].rgbToHex()))}if(!o&&!this.style[e]){if(/^(height|width)$/.test(e)&&!/px$/.test(t)){var s=0;return("width"==e?["left","right"]:["top","bottom"]).each(function(e){s+=this.getStyle("border-"+e+"-width").toInt()+this.getStyle("padding-"+e).toInt()},this),this["offset"+e.capitalize()]-s+"px"}if(/^border(.+)Width|margin|padding/.test(e)&&isNaN(parseFloat(t)))return"0px"}return i&&/^border(Top|Right|Bottom|Left)?$/.test(e)&&/^#/.test(t)?t.replace(/^(.+)\s(.+)\s(.+)$/,"$2 $3 $1"):t},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},getStyles:function(){var e={};return Array.flatten(arguments).each(function(t){e[t]=this.getStyle(t)},this),e}}),Element.Styles={left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundSize:"@px",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@",borderRadius:"@px @px @px @px"},Element.implement({setOpacity:function(e){return h(this,e),this},getOpacity:function(){return f(this)}}),Element.Properties.opacity={set:function(e){h(this,e),u(this,e)},get:function(){return f(this)}},Element.Styles=new Hash(Element.Styles),Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}},["Top","Right","Bottom","Left"].each(function(e){var t=Element.ShortStyles,n=Element.Styles;["margin","padding"].each(function(r){var i=r+e;t[r][i]=n[i]="@px"});var r="border"+e;t.border[r]=n[r]="@px @ rgb(@, @, @)";var i=r+"Width",o=r+"Style",a=r+"Color";t[r]={},t.borderWidth[i]=t[r][i]=n[i]="@px",t.borderStyle[o]=t[r][o]=n[o]="@",t.borderColor[a]=t[r][a]=n[a]="rgb(@, @, @)"}),m&&(Element.ShortStyles.backgroundPosition={backgroundPositionX:"@",backgroundPositionY:"@"})}(),function(){var e=document.createElement("div"),t=document.createElement("div");e.style.height="0",e.appendChild(t);var n=t.offsetParent===e;e=t=null;var r=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],i=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],o=function(e){return"static"!=s(e,"position")||h(e)},a=function(e){return o(e)||/^(?:table|td|th)$/i.test(e.tagName)};Element.implement({scrollTo:function(e,t){return h(this)?this.getWindow().scrollTo(e,t):(this.scrollLeft=e,this.scrollTop=t),this},getSize:function(){if(h(this))return this.getWindow().getSize();if(!window.getComputedStyle)return{x:this.offsetWidth,y:this.offsetHeight};if("svg"==this.get("tag"))return function(e){var t=window.getComputedStyle(e),n={x:0,y:0};return r.each(function(e){n.y+=parseFloat(t[e])}),i.each(function(e){n.x+=parseFloat(t[e])}),n}(this);try{var e=this.getBoundingClientRect();return{x:e.width,y:e.height}}catch(e){return{x:0,y:0}}},getScrollSize:function(){return h(this)?this.getWindow().getScrollSize():{x:this.scrollWidth,y:this.scrollHeight}},getScroll:function(){return h(this)?this.getWindow().getScroll():{x:this.scrollLeft,y:this.scrollTop}},getScrolls:function(){for(var e=this.parentNode,t={x:0,y:0};e&&!h(e);)t.x+=e.scrollLeft,t.y+=e.scrollTop,e=e.parentNode;return t},getOffsetParent:n?function(){var e=this;if(h(e)||"fixed"==s(e,"position"))return null;for(var t="static"==s(e,"position")?a:o;e=e.parentNode;)if(t(e))return e;return null}:function(){if(h(this)||"fixed"==s(this,"position"))return null;try{return this.offsetParent}catch(e){}return null},getOffsets:function(){var e=this.getBoundingClientRect;if(e=e&&!Browser.Platform.ios){var t=this.getBoundingClientRect(),n=document.id(this.getDocument().documentElement),r=n.getScroll(),i=this.getScrolls(),o="fixed"==s(this,"position");return{x:t.left.toFloat()+i.x+(o?0:r.x)-n.clientLeft,y:t.top.toFloat()+i.y+(o?0:r.y)-n.clientTop}}var a=this,l={x:0,y:0};if(h(this))return l;for(;a&&!h(a);){if(l.x+=a.offsetLeft,l.y+=a.offsetTop,Browser.firefox){c(a)||(l.x+=p(a),l.y+=u(a));var f=a.parentNode;f&&"visible"!=s(f,"overflow")&&(l.x+=p(f),l.y+=u(f))}else a!=this&&Browser.safari&&(l.x+=p(a),l.y+=u(a));a=a.offsetParent}return Browser.firefox&&!c(this)&&(l.x-=p(this),l.y-=u(this)),l},getPosition:function(e){var t=this.getOffsets(),n=this.getScrolls(),r={x:t.x-n.x,y:t.y-n.y};if(e&&(e=document.id(e))){var i=e.getPosition();return{x:r.x-i.x-p(e),y:r.y-i.y-u(e)}}return r},getCoordinates:function(e){if(h(this))return this.getWindow().getCoordinates();var t=this.getPosition(e),n=this.getSize(),r={left:t.x,top:t.y,width:n.x,height:n.y};return r.right=r.left+r.width,r.bottom=r.top+r.height,r},computePosition:function(e){return{left:e.x-l(this,"margin-left"),top:e.y-l(this,"margin-top")}},setPosition:function(e){return this.setStyles(this.computePosition(e))}}),[Document,Window].invoke("implement",{getSize:function(){var e=f(this);return{x:e.clientWidth,y:e.clientHeight}},getScroll:function(){var e=this.getWindow(),t=f(this);return{x:e.pageXOffset||t.scrollLeft,y:e.pageYOffset||t.scrollTop}},getScrollSize:function(){var e=f(this),t=this.getSize(),n=this.getDocument().body;return{x:Math.max(e.scrollWidth,n.scrollWidth,t.x),y:Math.max(e.scrollHeight,n.scrollHeight,t.y)}},getPosition:function(){return{x:0,y:0}},getCoordinates:function(){var e=this.getSize();return{top:0,left:0,bottom:e.y,right:e.x,height:e.y,width:e.x}}});var s=Element.getComputedStyle;function l(e,t){return s(e,t).toInt()||0}function c(e){return"border-box"==s(e,"-moz-box-sizing")}function u(e){return l(e,"border-top-width")}function p(e){return l(e,"border-left-width")}function h(e){return/^(?:body|html)$/i.test(e.tagName)}function f(e){var t=e.getDocument();return t.compatMode&&"CSS1Compat"!=t.compatMode?t.body:t.html}}(),Element.alias({position:"setPosition"}),[Window,Document,Element].invoke("implement",{getHeight:function(){return this.getSize().y},getWidth:function(){return this.getSize().x},getScrollTop:function(){return this.getScroll().y},getScrollLeft:function(){return this.getScroll().x},getScrollHeight:function(){return this.getScrollSize().y},getScrollWidth:function(){return this.getScrollSize().x},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x}}),function(){var e=this.Fx=new Class({Implements:[Chain,Events,Options,Class.Thenable],options:{fps:60,unit:!1,duration:500,frames:null,frameSkip:!0,link:"ignore"},initialize:function(e){this.subject=this.subject||this,this.setOptions(e)},getTransition:function(){return function(e){return-(Math.cos(Math.PI*e)-1)/2}},step:function(e){if(this.options.frameSkip){var t=(null!=this.time?e-this.time:0)/this.frameInterval;this.time=e,this.frame+=t}else this.frame++;if(this.frame<this.frames){var n=this.transition(this.frame/this.frames);this.set(this.compute(this.from,this.to,n))}else this.frame=this.frames,this.set(this.compute(this.from,this.to,1)),this.stop()},set:function(e){return e},compute:function(t,n,r){return e.compute(t,n,r)},check:function(){if(!this.isRunning())return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},start:function(t,n){if(!this.check(t,n))return this;this.from=t,this.to=n,this.frame=this.options.frameSkip?0:-1,this.time=null,this.transition=this.getTransition();var i=this.options.frames,o=this.options.fps,a=this.options.duration;return this.duration=e.Durations[a]||a.toInt(),this.frameInterval=1e3/o,this.frames=i||Math.round(this.duration/this.frameInterval),"pending"!==this.getThenableState()&&this.resetThenable(this.subject),this.fireEvent("start",this.subject),r.call(this,o),this},stop:function(){return this.isRunning()&&(this.time=null,i.call(this,this.options.fps),this.frames==this.frame?(this.fireEvent("complete",this.subject),this.callChain()||this.fireEvent("chainComplete",this.subject)):this.fireEvent("stop",this.subject),this.resolve(this.subject===this?null:this.subject)),this},cancel:function(){return this.isRunning()&&(this.time=null,i.call(this,this.options.fps),this.frame=this.frames,this.fireEvent("cancel",this.subject).clearChain(),this.reject(this.subject)),this},pause:function(){return this.isRunning()&&(this.time=null,i.call(this,this.options.fps)),this},resume:function(){return this.isPaused()&&r.call(this,this.options.fps),this},isRunning:function(){var e=t[this.options.fps];return e&&e.contains(this)},isPaused:function(){return this.frame<this.frames&&!this.isRunning()}});e.compute=function(e,t,n){return(t-e)*n+e},e.Durations={short:250,normal:500,long:1e3};var t={},n={},r=function(e){var r=t[e]||(t[e]=[]);r.push(this),n[e]||(n[e]=function(){for(var e=Date.now(),t=this.length;t--;){var n=this[t];n&&n.step(e)}}.periodical(Math.round(1e3/e),r))},i=function(e){var r=t[e];r&&(r.erase(this),!r.length&&n[e]&&(delete t[e],n[e]=clearInterval(n[e])))}}(),Fx.CSS=new Class({Extends:Fx,prepare:function(e,t,n){var r=(n=Array.convert(n))[0],i=n[1];if(null==i){i=r,r=e.getStyle(t);var o=this.options.unit;if(o&&r&&"string"==typeof r&&r.slice(-o.length)!=o&&0!=parseFloat(r)){e.setStyle(t,i+o);var a=e.getComputedStyle(t);if(!/px$/.test(a)&&null==(a=e.style[("pixel-"+t).camelCase()])){var s=e.style.left;e.style.left=i+o,a=e.style.pixelLeft,e.style.left=s}r=(i||1)/(parseFloat(a)||1)*(parseFloat(r)||0),e.setStyle(t,r+o)}}return{from:this.parse(r),to:this.parse(i)}},parse:function(e){return(e="string"==typeof(e=Function.convert(e)())?e.split(" "):Array.convert(e)).map(function(e){e=String(e);var t=!1;return Object.each(Fx.CSS.Parsers,function(n){if(!t){var r=n.parse(e);(r||0===r)&&(t={value:r,parser:n})}}),t=t||{value:e,parser:Fx.CSS.Parsers.String}})},compute:function(e,t,n){var r=[];return Math.min(e.length,t.length).times(function(i){r.push({value:e[i].parser.compute(e[i].value,t[i].value,n),parser:e[i].parser})}),r.$family=Function.convert("fx:css:value"),r},serve:function(e,t){"fx:css:value"!=typeOf(e)&&(e=this.parse(e));var n=[];return e.each(function(e){n=n.concat(e.parser.serve(e.value,t))}),n},render:function(e,t,n,r){e.setStyle(t,this.serve(n,r))},search:function(e){if(Fx.CSS.Cache[e])return Fx.CSS.Cache[e];var t={},n=new RegExp("^"+e.escapeRegExp()+"$"),r=function(e){Array.each(e,function(e){if(e.media)r(e.rules||e.cssRules);else if(e.style){var i=e.selectorText?e.selectorText.replace(/^\w+/,function(e){return e.toLowerCase()}):null;i&&n.test(i)&&Object.each(Element.Styles,function(n,r){e.style[r]&&!Element.ShortStyles[r]&&(n=String(e.style[r]),t[r]=/^rgb/.test(n)?n.rgbToHex():n)})}})};return Array.each(document.styleSheets,function(e){var t=e.href;if(!(t&&t.indexOf("://")>-1&&-1==t.indexOf(document.domain))){var n=e.rules||e.cssRules;r(n)}}),Fx.CSS.Cache[e]=t}}),Fx.CSS.Cache={},Fx.CSS.Parsers={Color:{parse:function(e){return e.match(/^#[0-9a-f]{3,6}$/i)?e.hexToRgb(!0):!!(e=e.match(/(\d+),\s*(\d+),\s*(\d+)/))&&[e[1],e[2],e[3]]},compute:function(e,t,n){return e.map(function(r,i){return Math.round(Fx.compute(e[i],t[i],n))})},serve:function(e){return e.map(Number)}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(e,t){return t?e+t:e}},String:{parse:Function.convert(!1),compute:function(e,t){return t},serve:function(e){return e}}},Fx.CSS.Parsers=new Hash(Fx.CSS.Parsers),Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(e,t){this.element=this.subject=document.id(e),this.parent(t)},set:function(e){"string"==typeof e&&(e=this.search(e));for(var t in e)this.render(this.element,t,e[t],this.options.unit);return this},compute:function(e,t,n){var r={};for(var i in e)r[i]=this.parent(e[i],t[i],n);return r},start:function(e){if(!this.check(e))return this;"string"==typeof e&&(e=this.search(e));var t={},n={};for(var r in e){var i=this.prepare(this.element,r,e[r]);t[r]=i.from,n[r]=i.to}return this.parent(t,n)}}),Element.Properties.morph={set:function(e){return this.get("morph").cancel().setOptions(e),this},get:function(){var e=this.retrieve("morph");return e||(e=new Fx.Morph(this,{link:"cancel"}),this.store("morph",e)),e}},Element.implement({morph:function(e){return this.get("morph").start(e),this}}),Fx.implement({getTransition:function(){var e=this.options.transition||Fx.Transitions.Sine.easeInOut;if("string"==typeof e){var t=e.split(":");e=(e=Fx.Transitions)[t[0]]||e[t[0].capitalize()],t[1]&&(e=e["ease"+t[1].capitalize()+(t[2]?t[2].capitalize():"")])}return e}}),Fx.Transition=function(e,t){t=Array.convert(t);var n=function(n){return e(n,t)};return Object.append(n,{easeIn:n,easeOut:function(n){return 1-e(1-n,t)},easeInOut:function(n){return(n<=.5?e(2*n,t):2-e(2*(1-n),t))/2}})},Fx.Transitions={linear:function(e){return e}},Fx.Transitions=new Hash(Fx.Transitions),Fx.Transitions.extend=function(e){for(var t in e)Fx.Transitions[t]=new Fx.Transition(e[t])},Fx.Transitions.extend({Pow:function(e,t){return Math.pow(e,t&&t[0]||6)},Expo:function(e){return Math.pow(2,8*(e-1))},Circ:function(e){return 1-Math.sin(Math.acos(e))},Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Back:function(e,t){return t=t&&t[0]||1.618,Math.pow(e,2)*((t+1)*e-t)},Bounce:function(e){for(var t,n=0,r=1;;n+=r,r/=2)if(e>=(7-4*n)/11){t=r*r-Math.pow((11-6*n-11*e)/4,2);break}return t},Elastic:function(e,t){return Math.pow(2,10*--e)*Math.cos(20*e*Math.PI*(t&&t[0]||1)/3)}}),["Quad","Cubic","Quart","Quint"].each(function(e,t){Fx.Transitions[e]=new Fx.Transition(function(e){return Math.pow(e,t+2)})}),Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(e,t){this.element=this.subject=document.id(e),this.parent(t)},set:function(e,t){return 1==arguments.length&&(t=e,e=this.property||this.options.property),this.render(this.element,e,t,this.options.unit),this},start:function(e,t,n){if(!this.check(e,t,n))return this;var r=Array.flatten(arguments);this.property=this.options.property||r.shift();var i=this.prepare(this.element,this.property,r);return this.parent(i.from,i.to)}}),Element.Properties.tween={set:function(e){return this.get("tween").cancel().setOptions(e),this},get:function(){var e=this.retrieve("tween");return e||(e=new Fx.Tween(this,{link:"cancel"}),this.store("tween",e)),e}},Element.implement({tween:function(e,t,n){return this.get("tween").start(e,t,n),this},fade:function(){var e,t,n=this.get("tween"),r=["opacity"].append(arguments);switch(null==r[1]&&(r[1]="toggle"),r[1]){case"in":e="start",r[1]=1;break;case"out":e="start",r[1]=0;break;case"show":e="set",r[1]=1;break;case"hide":e="set",r[1]=0;break;case"toggle":var i=this.retrieve("fade:flag",1==this.getStyle("opacity"));e="start",r[1]=i?0:1,this.store("fade:flag",!i),t=!0;break;default:e="start"}t||this.eliminate("fade:flag"),n[e].apply(n,r);var o=r[r.length-1];return"set"==e?this.setStyle("visibility",0==o?"hidden":"visible"):0!=o?n.$chain.length?n.chain(function(){this.element.setStyle("visibility","visible"),this.callChain()}):this.setStyle("visibility","visible"):n.chain(function(){this.element.getStyle("opacity")||(this.element.setStyle("visibility","hidden"),this.callChain())}),this},highlight:function(e,t){t||(t="transparent"==(t=this.retrieve("highlight:original",this.getStyle("background-color")))?"#fff":t);var n=this.get("tween");return n.start("background-color",e||"#ffff88",t).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original")),n.callChain()}.bind(this)),this}}),function(){var e=function(){},t="onprogress"in new Browser.Request,n=this.Request=new Class({Implements:[Chain,Events,Options,Class.Thenable],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:!0,format:!1,method:"post",link:"ignore",isSuccess:null,emulation:!0,urlEncoded:!0,encoding:"utf-8",evalScripts:!1,evalResponse:!1,timeout:0,noCache:!1},initialize:function(e){this.xhr=new Browser.Request,this.setOptions(e),this.headers=this.options.headers},onStateChange:function(){var n=this.xhr;4==n.readyState&&this.running&&(this.running=!1,this.status=0,Function.attempt(function(){var e=n.status;this.status=1223==e?204:e}.bind(this)),n.onreadystatechange=e,t&&(n.onprogress=n.onloadstart=e),this.timer&&(clearTimeout(this.timer),delete this.timer),this.response={text:this.xhr.responseText||"",xml:this.xhr.responseXML},this.options.isSuccess.call(this,this.status)?this.success(this.response.text,this.response.xml):this.failure())},isSuccess:function(){var e=this.status;return e>=200&&e<300},isRunning:function(){return!!this.running},processScripts:function(e){return this.options.evalResponse||/(ecma|java)script/.test(this.getHeader("Content-type"))?Browser.exec(e):e.stripScripts(this.options.evalScripts)},success:function(e,t){this.onSuccess(this.processScripts(e),t),this.resolve({text:e,xml:t})},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain()},failure:function(){this.onFailure(),this.reject({reason:"failure",xhr:this.xhr})},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr)},loadstart:function(e){this.fireEvent("loadstart",[e,this.xhr])},progress:function(e){this.fireEvent("progress",[e,this.xhr])},timeout:function(){this.fireEvent("timeout",this.xhr),this.reject({reason:"timeout",xhr:this.xhr})},setHeader:function(e,t){return this.headers[e]=t,this},getHeader:function(e){return Function.attempt(function(){return this.xhr.getResponseHeader(e)}.bind(this))},check:function(){if(!this.running)return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},send:function(e){if(!this.check(e))return this;this.options.isSuccess=this.options.isSuccess||this.isSuccess,this.running=!0;var n=typeOf(e);"string"!=n&&"element"!=n||(e={data:e});var r=this.options,i=(e=Object.append({data:r.data,url:r.url,method:r.method},e)).data,o=String(e.url),a=e.method.toLowerCase();switch(typeOf(i)){case"element":i=document.id(i).toQueryString();break;case"object":case"hash":i=Object.toQueryString(i)}if(this.options.format){var s="format="+this.options.format;i=i?s+"&"+i:s}if(this.options.emulation&&!["get","post"].contains(a)){var l="_method="+a;i=i?l+"&"+i:l,a="post"}if(this.options.urlEncoded&&["post","put"].contains(a)){var c=this.options.encoding?"; charset="+this.options.encoding:"";this.headers["Content-type"]="application/x-www-form-urlencoded"+c}o||(o=document.location.pathname);var u=o.lastIndexOf("/");u>-1&&(u=o.indexOf("#"))>-1&&(o=o.substr(0,u)),this.options.noCache&&(o+=(o.indexOf("?")>-1?"&":"?")+String.uniqueID()),!i||"get"!=a&&"delete"!=a||(o+=(o.indexOf("?")>-1?"&":"?")+i,i=null);var p=this.xhr;return t&&(p.onloadstart=this.loadstart.bind(this),p.onprogress=this.progress.bind(this)),p.open(a.toUpperCase(),o,this.options.async,this.options.user,this.options.password),(this.options.user||this.options.withCredentials)&&"withCredentials"in p&&(p.withCredentials=!0),p.onreadystatechange=this.onStateChange.bind(this),Object.each(this.headers,function(e,t){try{p.setRequestHeader(t,e)}catch(n){this.fireEvent("exception",[t,e]),this.reject({reason:"exception",xhr:p,exception:n})}},this),"pending"!==this.getThenableState()&&this.resetThenable({reason:"send"}),this.fireEvent("request"),p.send(i),this.options.async?this.options.timeout&&(this.timer=this.timeout.delay(this.options.timeout,this)):this.onStateChange(),this},cancel:function(){if(!this.running)return this;this.running=!1;var n=this.xhr;return n.abort(),this.timer&&(clearTimeout(this.timer),delete this.timer),n.onreadystatechange=e,t&&(n.onprogress=n.onloadstart=e),this.xhr=new Browser.Request,this.fireEvent("cancel"),this.reject({reason:"cancel",xhr:n}),this}}),r={};["get","post","put","delete","patch","head","GET","POST","PUT","DELETE","PATCH","HEAD"].each(function(e){r[e]=function(t){var n={method:e};return null!=t&&(n.data=t),this.send(n)}}),n.implement(r),Element.Properties.send={set:function(e){return this.get("send").cancel().setOptions(e),this},get:function(){var e=this.retrieve("send");return e||(e=new n({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")}),this.store("send",e)),e}},Element.implement({send:function(e){var t=this.get("send");return t.send({data:this,url:e||t.options.url}),this}})}(),Request.HTML=new Class({Extends:Request,options:{update:!1,append:!1,evalScripts:!0,filter:!1,headers:{Accept:"text/html, application/xml, text/xml, */*"}},success:function(e){var t=this.options,n=this.response;n.html=e.stripScripts(function(e){n.javascript=e});var r=n.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);r&&(n.html=r[1]);var i=new Element("div").set("html",n.html);if(n.tree=i.childNodes,n.elements=i.getElements(t.filter||"*"),t.filter&&(n.tree=n.elements),t.update){var o=document.id(t.update).empty();t.filter?o.adopt(n.elements):o.set("html",n.html)}else if(t.append){var a=document.id(t.append);t.filter?n.elements.reverse().inject(a):a.adopt(i.getChildren())}t.evalScripts&&Browser.exec(n.javascript),this.onSuccess(n.tree,n.elements,n.html,n.javascript),this.resolve({tree:n.tree,elements:n.elements,html:n.html,javascript:n.javascript})}}),Element.Properties.load={set:function(e){return this.get("load").cancel().setOptions(e),this},get:function(){var e=this.retrieve("load");return e||(e=new Request.HTML({data:this,link:"cancel",update:this,method:"get"}),this.store("load",e)),e}},Element.implement({load:function(){return this.get("load").send(Array.link(arguments,{data:Type.isObject,url:Type.isString})),this}}),"undefined"==typeof JSON&&(this.JSON={}),JSON=new Hash({stringify:JSON.stringify,parse:JSON.parse}),function(){var special={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(e){return special[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)};JSON.validate=function(e){return e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e)},JSON.encode=JSON.stringify?function(e){return JSON.stringify(e)}:function(e){switch(e&&e.toJSON&&(e=e.toJSON()),typeOf(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":return"["+e.map(JSON.encode).clean()+"]";case"object":case"hash":var t=[];return Object.each(e,function(e,n){var r=JSON.encode(e);r&&t.push(JSON.encode(n)+":"+r)}),"{"+t+"}";case"number":case"boolean":return""+e;case"null":return"null"}return null},JSON.secure=!0,JSON.secure=!1,JSON.decode=function(string,secure){if(!string||"string"!=typeOf(string))return null;if(null==secure&&(secure=JSON.secure),secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")}}(),Request.JSON=new Class({Extends:Request,options:{secure:!0},initialize:function(e){this.parent(e),Object.append(this.headers,{Accept:"application/json","X-Request":"JSON"})},success:function(e){var t;try{t=this.response.json=JSON.decode(e,this.options.secure)}catch(t){return void this.fireEvent("error",[e,t])}null==t?this.failure():(this.onSuccess(t,e),this.resolve({json:t,text:e}))}});var Cookie=new Class({Implements:Options,options:{path:"/",domain:!1,duration:!1,secure:!1,document:document,encode:!0,httpOnly:!1},initialize:function(e,t){this.key=e,this.setOptions(t)},write:function(e){if(this.options.encode&&(e=encodeURIComponent(e)),this.options.domain&&(e+="; domain="+this.options.domain),this.options.path&&(e+="; path="+this.options.path),this.options.duration){var t=new Date;t.setTime(t.getTime()+24*this.options.duration*60*60*1e3),e+="; expires="+t.toGMTString()}return this.options.secure&&(e+="; secure"),this.options.httpOnly&&(e+="; HttpOnly"),this.options.document.cookie=this.key+"="+e,this},read:function(){var e=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");return e?decodeURIComponent(e[1]):null},dispose:function(){return new Cookie(this.key,Object.merge({},this.options,{duration:-1})).write(""),this}});Cookie.write=function(e,t,n){return new Cookie(e,n).write(t)},Cookie.read=function(e){return new Cookie(e).read()},Cookie.dispose=function(e,t){return new Cookie(e,t).dispose()},function(e,t){var n,r,i,o,a=[],s=t.createElement("div"),l=function(){clearTimeout(o),n||(Browser.loaded=n=!0,t.removeListener("DOMContentLoaded",l).removeListener("readystatechange",c),t.fireEvent("domready"),e.fireEvent("domready")),t=e=s=null},c=function(){for(var e=a.length;e--;)if(a[e]())return l(),!0;return!1},u=function(){clearTimeout(o),c()||(o=setTimeout(u,10))};t.addListener("DOMContentLoaded",l);var p=function(){try{return s.doScroll(),!0}catch(e){}return!1};s.doScroll&&!p()&&(a.push(p),i=!0),t.readyState&&a.push(function(){var e=t.readyState;return"loaded"==e||"complete"==e}),"onreadystatechange"in t?t.addListener("readystatechange",c):i=!0,i&&u(),Element.Events.domready={onAdd:function(e){n&&e.call(this)}},Element.Events.load={base:"load",onAdd:function(t){r&&this==e&&t.call(this)},condition:function(){return this==e&&(l(),delete Element.Events.load),!0}},e.addEvent("load",function(){r=!0})}(window,document),MooTools.More={version:"1.6.0",build:"45b71db70f879781a7e0b0d3fb3bb1307c2521eb"},function(){var e={wait:function(e){return this.chain(function(){return this.callChain.delay(null==e?500:e,this),this}.bind(this))}};Chain.implement(e),this.Fx&&Fx.implement(e),this.Element&&Element.implement&&this.Fx&&Element.implement({chains:function(e){return Array.convert(e||["tween","morph","reveal"]).each(function(e){(e=this.get(e))&&e.setOptions({link:"chain"})},this),this},pauseFx:function(e,t){return this.chains(t).get(t||"tween").wait(e),this}})}(),Class.Mutators.Binds=function(e){return this.prototype.initialize||this.implement("initialize",function(){}),Array.convert(e).concat(this.prototype.Binds||[])},Class.Mutators.initialize=function(e){return function(){return Array.convert(this.Binds).each(function(e){var t=this[e];t&&(this[e]=t.bind(this))},this),e.apply(this,arguments)}},Class.Occlude=new Class({occlude:function(e,t){var n=(t=document.id(t||this.element)).retrieve(e||this.property);return n&&!this.occluded?this.occluded=n:(this.occluded=!1,t.store(e||this.property,this),this.occluded)}}),Class.refactor=function(e,t){return Object.each(t,function(t,n){var r=e.prototype[n];r=r&&r.$origin||r||function(){},e.implement(n,"function"==typeof t?function(){var e=this.previous;this.previous=r;var n=t.apply(this,arguments);return this.previous=e,n}:t)}),e},Class.Singleton=new Class({initialize:function(e){var t,n=new Class(e);return function(){if(t)return t;(t=Object.append({},n.prototype)).constructor=n;var e=n.apply(t,arguments);return t="object"==typeof e?e:t}}}),function(){Events.Pseudos=function(e,t,n){var r=function(e){return{store:e.store?function(t,n){e.store("_monitorEvents:"+t,n)}:function(t,n){(e._monitorEvents||(e._monitorEvents={}))[t]=n},retrieve:e.retrieve?function(t,n){return e.retrieve("_monitorEvents:"+t,n)}:function(t,n){return e._monitorEvents?e._monitorEvents[t]||n:n}}},i=function(t){if(-1==t.indexOf(":")||!e)return null;for(var n=Slick.parse(t).expressions[0][0],r=n.pseudos,i=r.length,o=[];i--;){var a=r[i].key,s=e[a];null!=s&&o.push({event:n.tag,value:r[i].value,pseudo:a,original:t,listener:s})}return o.length?o:null};return{addEvent:function(e,n,o){var a=i(e);if(!a)return t.call(this,e,n,o);var s=r(this),l=s.retrieve(e,[]),c=a[0].event,u=Array.slice(arguments,2),p=n,h=this;return a.each(function(e){var t=e.listener,n=p;0==t?c+=":"+e.pseudo+"("+e.value+")":p=function(){t.call(h,e,n,arguments,p)}}),l.include({type:c,event:n,monitor:p}),s.store(e,l),e!=c&&t.apply(this,[e,n].concat(u)),t.apply(this,[c,p].concat(u))},removeEvent:function(e,t){if(!i(e))return n.call(this,e,t);var o=r(this),a=o.retrieve(e);if(!a)return this;var s=Array.slice(arguments,2);return n.apply(this,[e,t].concat(s)),a.each(function(e,r){t&&e.event!=t||n.apply(this,[e.type,e.monitor].concat(s)),delete a[r]},this),o.store(e,a),this}}};var e={once:function(e,t,n,r){t.apply(this,n),this.removeEvent(e.event,r).removeEvent(e.original,t)},throttle:function(e,t,n){t._throttled||(t.apply(this,n),t._throttled=setTimeout(function(){t._throttled=!1},e.value||250))},pause:function(e,t,n){clearTimeout(t._pause),t._pause=t.delay(e.value||250,this,n)}};Events.definePseudo=function(t,n){return e[t]=n,this},Events.lookupPseudo=function(t){return e[t]};var t=Events.prototype;Events.implement(Events.Pseudos(e,t.addEvent,t.removeEvent)),["Request","Fx"].each(function(e){this[e]&&this[e].implement(Events.prototype)})}(),function(){var e=this.Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:"px",grid:!1,style:!0,limit:!1,handle:!1,invert:!1,unDraggableTags:["button","input","a","textarea","select","option"],preventDefault:!1,stopPropagation:!1,compensateScroll:!1,modifiers:{x:"left",y:"top"}},initialize:function(){var t=Array.link(arguments,{options:Type.isObject,element:function(e){return null!=e}});this.element=document.id(t.element),this.document=this.element.getDocument(),this.setOptions(t.options||{});var n=typeOf(this.options.handle);this.handles=("array"==n||"collection"==n?$$(this.options.handle):document.id(this.options.handle))||this.element,this.mouse={now:{},pos:{}},this.value={start:{},now:{}},this.offsetParent=function(e){var t=e.getOffsetParent();return!t||/^(?:body|html)$/i.test(t.tagName)?window:document.id(t)}(this.element),this.selection="selectstart"in document?"selectstart":"mousedown",this.compensateScroll={start:{},diff:{},last:{}},!("ondragstart"in document)||"FileReader"in window||e.ondragstartFixed||(document.ondragstart=Function.convert(!1),e.ondragstartFixed=!0),this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:Function.convert(!1),scrollListener:this.scrollListener.bind(this)},this.attach()},attach:function(){return this.handles.addEvent("mousedown",this.bound.start),this.handles.addEvent("touchstart",this.bound.start),this.options.compensateScroll&&this.offsetParent.addEvent("scroll",this.bound.scrollListener),this},detach:function(){return this.handles.removeEvent("mousedown",this.bound.start),this.handles.removeEvent("touchstart",this.bound.start),this.options.compensateScroll&&this.offsetParent.removeEvent("scroll",this.bound.scrollListener),this},scrollListener:function(){if(this.mouse.start){var e=this.offsetParent.getScroll();if("absolute"==this.element.getStyle("position")){var t=this.sumValues(e,this.compensateScroll.last,-1);this.mouse.now=this.sumValues(this.mouse.now,t,1)}else this.compensateScroll.diff=this.sumValues(e,this.compensateScroll.start,-1);this.offsetParent!=window&&(this.compensateScroll.diff=this.sumValues(this.compensateScroll.start,e,-1)),this.compensateScroll.last=e,this.render(this.options)}},sumValues:function(e,t,n){var r={},i=this.options;for(var o in i.modifiers)i.modifiers[o]&&(r[o]=e[o]+t[o]*n);return r},start:function(e){if(!this.options.unDraggableTags.contains(e.target.get("tag"))){var t=this.options;if(!e.rightClick){t.preventDefault&&e.preventDefault(),t.stopPropagation&&e.stopPropagation(),this.compensateScroll.start=this.compensateScroll.last=this.offsetParent.getScroll(),this.compensateScroll.diff={x:0,y:0},this.mouse.start=e.page,this.fireEvent("beforeStart",this.element);var n=t.limit;this.limit={x:[],y:[]};var r,i,o=this.offsetParent==window?null:this.offsetParent;for(r in t.modifiers)if(t.modifiers[r]){var a=this.element.getStyle(t.modifiers[r]);if(a&&!a.match(/px$/)&&(i||(i=this.element.getCoordinates(o)),a=i[t.modifiers[r]]),t.style?this.value.now[r]=(a||0).toInt():this.value.now[r]=this.element[t.modifiers[r]],t.invert&&(this.value.now[r]*=-1),this.mouse.pos[r]=e.page[r]-this.value.now[r],n&&n[r])for(var s=2;s--;){var l=n[r][s];(l||0===l)&&(this.limit[r][s]="function"==typeof l?l():l)}}"number"==typeOf(this.options.grid)&&(this.options.grid={x:this.options.grid,y:this.options.grid});var c={mousemove:this.bound.check,mouseup:this.bound.cancel,touchmove:this.bound.check,touchend:this.bound.cancel};c[this.selection]=this.bound.eventStop,this.document.addEvents(c)}}},check:function(e){this.options.preventDefault&&e.preventDefault();Math.round(Math.sqrt(Math.pow(e.page.x-this.mouse.start.x,2)+Math.pow(e.page.y-this.mouse.start.y,2)))>this.options.snap&&(this.cancel(),this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop,touchmove:this.bound.drag,touchend:this.bound.stop}),this.fireEvent("start",[this.element,e]).fireEvent("snap",this.element))},drag:function(e){var t=this.options;t.preventDefault&&e.preventDefault(),this.mouse.now=this.sumValues(e.page,this.compensateScroll.diff,-1),this.render(t),this.fireEvent("drag",[this.element,e])},render:function(e){for(var t in e.modifiers)e.modifiers[t]&&(this.value.now[t]=this.mouse.now[t]-this.mouse.pos[t],e.invert&&(this.value.now[t]*=-1),e.limit&&this.limit[t]&&((this.limit[t][1]||0===this.limit[t][1])&&this.value.now[t]>this.limit[t][1]?this.value.now[t]=this.limit[t][1]:(this.limit[t][0]||0===this.limit[t][0])&&this.value.now[t]<this.limit[t][0]&&(this.value.now[t]=this.limit[t][0])),e.grid[t]&&(this.value.now[t]-=(this.value.now[t]-(this.limit[t][0]||0))%e.grid[t]),e.style?this.element.setStyle(e.modifiers[t],this.value.now[t]+e.unit):this.element[e.modifiers[t]]=this.value.now[t])},cancel:function(e){this.document.removeEvents({mousemove:this.bound.check,mouseup:this.bound.cancel,touchmove:this.bound.check,touchend:this.bound.cancel}),e&&(this.document.removeEvent(this.selection,this.bound.eventStop),this.fireEvent("cancel",this.element))},stop:function(e){var t={mousemove:this.bound.drag,mouseup:this.bound.stop,touchmove:this.bound.drag,touchend:this.bound.stop};t[this.selection]=this.bound.eventStop,this.document.removeEvents(t),this.mouse.start=null,e&&this.fireEvent("complete",[this.element,e])}})}(),Element.implement({makeResizable:function(e){var t=new Drag(this,Object.merge({modifiers:{x:"width",y:"height"}},e));return this.store("resizer",t),t.addEvent("drag",function(){this.fireEvent("resize",t)}.bind(this))}}),Drag.Move=new Class({Extends:Drag,options:{droppables:[],container:!1,precalculate:!1,includeMargins:!0,checkDroppables:!0},initialize:function(e,t){if(this.parent(e,t),e=this.element,this.droppables=$$(this.options.droppables),this.setContainer(this.options.container),this.options.style){if("left"==this.options.modifiers.x&&"top"==this.options.modifiers.y){var n=e.getOffsetParent(),r=e.getStyles("left","top");!n||"auto"!=r.left&&"auto"!=r.top||e.setPosition(e.getPosition(n))}"static"==e.getStyle("position")&&e.setStyle("position","absolute")}this.addEvent("start",this.checkDroppables,!0),this.overed=null},setContainer:function(e){this.container=document.id(e),this.container&&"element"!=typeOf(this.container)&&(this.container=document.id(this.container.getDocument().body))},start:function(e){this.container&&(this.options.limit=this.calculateLimit()),this.options.precalculate&&(this.positions=this.droppables.map(function(e){return e.getCoordinates()})),this.parent(e)},calculateLimit:function(){var e=this.element,t=this.container,n=document.id(e.getOffsetParent())||document.body,r=t.getCoordinates(n),i={},o={},a={},s={},l={},c=n.getScroll();["top","right","bottom","left"].each(function(r){i[r]=e.getStyle("margin-"+r).toInt(),o[r]=e.getStyle("border-"+r).toInt(),a[r]=t.getStyle("margin-"+r).toInt(),s[r]=t.getStyle("border-"+r).toInt(),l[r]=n.getStyle("padding-"+r).toInt()},this);var u=e.offsetWidth+i.left+i.right,p=e.offsetHeight+i.top+i.bottom,h=0+c.x,f=0+c.y,d=r.right-s.right-u+c.x,y=r.bottom-s.bottom-p+c.y;if(this.options.includeMargins?(h+=i.left,f+=i.top):(d+=i.right,y+=i.bottom),"relative"==e.getStyle("position")){var m=e.getCoordinates(n);m.left-=e.getStyle("left").toInt(),m.top-=e.getStyle("top").toInt(),h-=m.left,f-=m.top,"relative"!=t.getStyle("position")&&(h+=s.left,f+=s.top),d+=i.left-m.left,y+=i.top-m.top,t!=n&&(h+=a.left+l.left,!l.left&&h<0&&(h=0),f+=n==document.body?0:a.top+l.top,!l.top&&f<0&&(f=0))}else h-=i.left,f-=i.top,t!=n&&(h+=r.left+s.left,f+=r.top+s.top);return{x:[h,d],y:[f,y]}},getDroppableCoordinates:function(e){var t=e.getCoordinates();if("fixed"==e.getStyle("position")){var n=window.getScroll();t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},checkDroppables:function(){var e=this.droppables.filter(function(e,t){e=this.positions?this.positions[t]:this.getDroppableCoordinates(e);var n=this.mouse.now;return n.x>e.left&&n.x<e.right&&n.y<e.bottom&&n.y>e.top},this).getLast();this.overed!=e&&(this.overed&&this.fireEvent("leave",[this.element,this.overed]),e&&this.fireEvent("enter",[this.element,e]),this.overed=e)},drag:function(e){this.parent(e),this.options.checkDroppables&&this.droppables.length&&this.checkDroppables()},stop:function(e){return this.checkDroppables(),this.fireEvent("drop",[this.element,this.overed,e]),this.overed=null,this.parent(e)}}),Element.implement({makeDraggable:function(e){var t=new Drag.Move(this,e);return this.store("dragger",t),t}}),function(){var e=function(e){return!(e&&!e.offsetHeight&&!e.offsetWidth)};Element.implement({measure:function(t){if(e(this))return t.call(this);for(var n=this.getParent(),r=[];!e(n)&&n!=document.body;)r.push(n.expose()),n=n.getParent();var i=this.expose(),o=t.call(this);return i(),r.each(function(e){e()}),o},expose:function(){if("none"!=this.getStyle("display"))return function(){};var e=this.style.cssText;return this.setStyles({display:"block",position:"absolute",visibility:"hidden"}),function(){this.style.cssText=e}.bind(this)},getDimensions:function(e){e=Object.merge({computeSize:!1},e);var t={x:0,y:0},n=function(e,t){return t.computeSize?e.getComputedSize(t):e.getSize()},r=this.getParent("body");if(r&&"none"==this.getStyle("display"))t=this.measure(function(){return n(this,e)});else if(r)try{t=n(this,e)}catch(e){}return Object.append(t,t.x||0===t.x?{width:t.x,height:t.y}:{x:t.width,y:t.height})},getComputedSize:function(e){e&&e.plains&&(e.planes=e.plains);var t,n={},r={width:0,height:0};return"vertical"==(e=Object.merge({styles:["padding","border"],planes:{height:["top","bottom"],width:["left","right"]},mode:"both"},e)).mode?(delete r.width,delete e.planes.width):"horizontal"==e.mode&&(delete r.height,delete e.planes.height),function(e,t){var n=[];return Object.each(t,function(t){Object.each(t,function(t){e.each(function(e){n.push(e+"-"+t+("border"==e?"-width":""))})})}),n}(e.styles,e.planes).each(function(e){n[e]=this.getStyle(e).toInt()},this),Object.each(e.planes,function(e,i){var o=i.capitalize(),a=this.getStyle(i);"auto"!=a||t||(t=this.getDimensions()),a=n[i]="auto"==a?t[i]:a.toInt(),r["total"+o]=a,e.each(function(e){var t=function(e,t){var n=0;return Object.each(t,function(t,r){r.test(e)&&(n+=t.toInt())}),n}(e,n);r["computed"+e.capitalize()]=t,r["total"+o]+=t})},this),Object.append(r,n)}})}(),function(){this.Sortables=new Class({Implements:[Events,Options],options:{opacity:1,clone:!1,revert:!1,handle:!1,dragOptions:{},unDraggableTags:["button","input","a","textarea","select","option"],snap:4,constrain:!1,preventDefault:!1},initialize:function(e,t){this.setOptions(t),this.elements=[],this.lists=[],this.idle=!0,this.addLists($$(document.id(e)||e)),this.options.clone||(this.options.revert=!1),this.options.revert&&(this.effect=new Fx.Morph(null,Object.merge({duration:250,link:"cancel"},this.options.revert)))},attach:function(){return this.addLists(this.lists),this},detach:function(){return this.lists=this.removeLists(this.lists),this},addItems:function(){return Array.flatten(arguments).each(function(e){this.elements.push(e);var t=e.retrieve("sortables:start",function(t){this.start.call(this,t,e)}.bind(this));(this.options.handle?e.getElement(this.options.handle)||e:e).addEvent("mousedown",t)},this),this},addLists:function(){return Array.flatten(arguments).each(function(e){this.lists.include(e),this.addItems(e.getChildren())},this),this},removeItems:function(){return $$(Array.flatten(arguments).map(function(e){this.elements.erase(e);var t=e.retrieve("sortables:start");return(this.options.handle?e.getElement(this.options.handle)||e:e).removeEvent("mousedown",t),e},this))},removeLists:function(){return $$(Array.flatten(arguments).map(function(e){return this.lists.erase(e),this.removeItems(e.getChildren()),e},this))},getDroppableCoordinates:function(e){var t=e.getOffsetParent(),n=e.getPosition(t),r=window.getScroll(),i=t.getScroll();return n.x+=i.x,n.y+=i.y,"fixed"==t.getStyle("position")&&(n.x-=r.x,n.y-=r.y),n},getClone:function(e,t){if(!this.options.clone)return new Element(t.tagName).inject(document.body);if("function"==typeOf(this.options.clone))return this.options.clone.call(this,e,t,this.list);var n=t.clone(!0).setStyles({margin:0,position:"absolute",visibility:"hidden",width:t.getStyle("width")}).addEvent("mousedown",function(e){t.fireEvent("mousedown",e)});return n.get("html").test("radio")&&n.getElements("input[type=radio]").each(function(e,n){e.set("name","clone_"+n),e.get("checked")&&t.getElements("input[type=radio]")[n].set("checked",!0)}),n.inject(this.list).setPosition(this.getDroppableCoordinates(this.element))},getDroppables:function(){var e=this.list.getChildren().erase(this.clone).erase(this.element);return this.options.constrain||e.append(this.lists).erase(this.list),e},insert:function(e,t){var n="inside";this.lists.contains(t)?(this.list=t,this.drag.droppables=this.getDroppables()):n=this.element.getAllPrevious().contains(t)?"before":"after",this.element.inject(t,n),this.fireEvent("sort",[this.element,this.clone])},start:function(e,t){!this.idle||e.rightClick||!this.options.handle&&this.options.unDraggableTags.contains(e.target.get("tag"))||(this.idle=!1,this.element=t,this.opacity=t.getStyle("opacity"),this.list=t.getParent(),this.clone=this.getClone(e,t),this.drag=new Drag.Move(this.clone,Object.merge({preventDefault:this.options.preventDefault,snap:this.options.snap,container:this.options.constrain&&this.element.getParent(),droppables:this.getDroppables()},this.options.dragOptions)).addEvents({onSnap:function(){e.stop(),this.clone.setStyle("visibility","visible"),this.element.setStyle("opacity",this.options.opacity||0),this.fireEvent("start",[this.element,this.clone])}.bind(this),onEnter:this.insert.bind(this),onCancel:this.end.bind(this),onComplete:this.end.bind(this)}),this.clone.inject(this.element,"before"),this.drag.start(e))},end:function(){this.drag.detach(),this.element.setStyle("opacity",this.opacity);var e=this;if(this.effect){var t=this.element.getStyles("width","height"),n=this.clone,r=n.computePosition(this.getDroppableCoordinates(n)),i=function(){this.removeEvent("cancel",i),n.destroy(),e.reset()};this.effect.element=n,this.effect.start({top:r.top,left:r.left,width:t.width,height:t.height,opacity:.25}).addEvent("cancel",i).chain(i)}else this.clone.destroy(),e.reset()},reset:function(){this.idle=!0,this.fireEvent("complete",this.element)},serialize:function(){var e=Array.link(arguments,{modifier:Type.isFunction,index:function(e){return null!=e}}),t=this.lists.map(function(t){return t.getChildren().map(e.modifier||function(e){return e.get("id")},this)},this),n=e.index;return 1==this.lists.length&&(n=0),(n||0===n)&&n>=0&&n<this.lists.length?t[n]:t}})}(),function(){for(var e={relay:!1},t=["once","throttle","pause"],n=t.length;n--;)e[t[n]]=Events.lookupPseudo(t[n]);DOMEvent.definePseudo=function(t,n){return e[t]=n,this};var r=Element.prototype;[Element,Window,Document].invoke("implement",Events.Pseudos(e,r.addEvent,r.removeEvent))}(),function(){var e="$moo:keys-pressed";DOMEvent.definePseudo("keys",function(t,n,r){var i=r[0],o=[],a=this.retrieve(e,[]),s=t.value;if("+"!=s?o.append(s.replace("++",function(){return o.push("+"),""}).split("+")):o=["+"],a.include(i.key),o.every(function(e){return a.contains(e)})&&n.apply(this,r),this.store(e,a),!this.retrieve("$moo:keys-keyup")){var l=function(t){(function(){a=this.retrieve(e,[]).erase(t.key),this.store(e,a)}).delay(0,this)};this.store("$moo:keys-keyup",l).addEvent("keyup",l)}}),DOMEvent.defineKeys({16:"shift",17:"control",18:"alt",20:"capslock",33:"pageup",34:"pagedown",35:"end",36:"home",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",107:"+",109:"-",189:"-"})}(),function(){var e={a:/[àáâãäåăą]/g,A:/[ÀÁÂÃÄÅĂĄ]/g,c:/[ćčç]/g,C:/[ĆČÇ]/g,d:/[ďđ]/g,D:/[ĎÐ]/g,e:/[èéêëěę]/g,E:/[ÈÉÊËĚĘ]/g,g:/[ğ]/g,G:/[Ğ]/g,i:/[ìíîï]/g,I:/[ÌÍÎÏ]/g,l:/[ĺľł]/g,L:/[ĹĽŁ]/g,n:/[ñňń]/g,N:/[ÑŇŃ]/g,o:/[òóôõöøő]/g,O:/[ÒÓÔÕÖØ]/g,r:/[řŕ]/g,R:/[ŘŔ]/g,s:/[ššş]/g,S:/[ŠŞŚ]/g,t:/[ťţ]/g,T:/[ŤŢ]/g,u:/[ùúûůüµ]/g,U:/[ÙÚÛŮÜ]/g,y:/[ÿý]/g,Y:/[ŸÝ]/g,z:/[žźż]/g,Z:/[ŽŹŻ]/g,th:/[þ]/g,TH:/[Þ]/g,dh:/[ð]/g,DH:/[Ð]/g,ss:/[ß]/g,oe:/[œ]/g,OE:/[Œ]/g,ae:/[æ]/g,AE:/[Æ]/g},t={" ":/[\xa0\u2002\u2003\u2009]/g,"*":/[\xb7]/g,"'":/[\u2018\u2019]/g,'"':/[\u201c\u201d]/g,"...":/[\u2026]/g,"-":/[\u2013]/g,"&raquo;":/[\uFFFD]/g},n={ms:1,s:1e3,m:6e4,h:36e5},r=/(\d*.?\d+)([msh]+)/,i=function(e,t){var n,r=e;for(n in t)r=r.replace(t[n],n);return r},o=function(e,t){e=e||(t?"":"\\w+");return new RegExp(t?"<"+e+"(?!\\w)[^>]*>([\\s\\S]*?)</"+e+"(?!\\w)>":"</?"+e+"/?>|<"+e+"[\\s|/][^>]*>","gi")};String.implement({standardize:function(){return i(this,e)},repeat:function(e){return new Array(e+1).join(this)},pad:function(e,t,n){if(this.length>=e)return this;var r=(null==t?" ":""+t).repeat(e-this.length).substr(0,e-this.length);return n&&"right"!=n?"left"==n?r+this:r.substr(0,(r.length/2).floor())+this+r.substr(0,(r.length/2).ceil()):this+r},getTags:function(e,t){return this.match(o(e,t))||[]},stripTags:function(e,t){return this.replace(o(e,t),"")},tidy:function(){return i(this,t)},truncate:function(e,t,n){var r=this;if(null==t&&1==arguments.length&&(t="…"),r.length>e){if(r=r.substring(0,e),n){var i=r.lastIndexOf(n);-1!=i&&(r=r.substr(0,i))}t&&(r+=t)}return r},ms:function(){var e=r.exec(this);return null==e?Number(this):Number(e[1])*n[e[2]]}})}(),Element.implement({tidy:function(){this.set("value",this.get("value").tidy())},getTextInRange:function(e,t){return this.get("value").substring(e,t)},getSelectedText:function(){return this.setSelectionRange?this.getTextInRange(this.getSelectionStart(),this.getSelectionEnd()):document.selection.createRange().text},getSelectedRange:function(){if(null!=this.selectionStart)return{start:this.selectionStart,end:this.selectionEnd};var e={start:0,end:0},t=this.getDocument().selection.createRange();if(!t||t.parentElement()!=this)return e;var n=t.duplicate();if("text"==this.type)e.start=0-n.moveStart("character",-1e5),e.end=e.start+t.text.length;else{var r=this.get("value"),i=r.length;n.moveToElementText(this),n.setEndPoint("StartToEnd",t),n.text.length&&(i-=r.match(/[\n\r]*$/)[0].length),e.end=i-n.text.length,n.setEndPoint("StartToStart",t),e.start=i-n.text.length}return e},getSelectionStart:function(){return this.getSelectedRange().start},getSelectionEnd:function(){return this.getSelectedRange().end},setCaretPosition:function(e){return"end"==e&&(e=this.get("value").length),this.selectRange(e,e),this},getCaretPosition:function(){return this.getSelectedRange().start},selectRange:function(e,t){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else{var n=this.get("value"),r=n.substr(e,t-e).replace(/\r/g,"").length;e=n.substr(0,e).replace(/\r/g,"").length;var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",e+r),i.moveStart("character",e),i.select()}return this},insertAtCursor:function(e,t){var n=this.getSelectedRange(),r=this.get("value");return this.set("value",r.substring(0,n.start)+e+r.substring(n.end,r.length)),!1!==t?this.selectRange(n.start,n.start+e.length):this.setCaretPosition(n.start+e.length),this},insertAroundCursor:function(e,t){e=Object.append({before:"",defaultMiddle:"",after:""},e);var n=this.getSelectedText()||e.defaultMiddle,r=this.getSelectedRange(),i=this.get("value");if(r.start==r.end)this.set("value",i.substring(0,r.start)+e.before+n+e.after+i.substring(r.end,i.length)),this.selectRange(r.start+e.before.length,r.end+e.before.length+n.length);else{var o=i.substring(r.start,r.end);this.set("value",i.substring(0,r.start)+e.before+o+e.after+i.substring(r.end,i.length));var a=r.start+e.before.length;!1!==t?this.selectRange(a,a+o.length):this.setCaretPosition(a+i.length)}return this}}),function(){var e=!1,t=!1;Element.implement({pin:function(n,r){if(t||function(){var n=new Element("div").setStyles({position:"fixed",top:0,right:0}).inject(document.body);e=0===n.offsetTop,n.dispose(),t=!0}(),"none"==this.getStyle("display"))return this;var i,o,a,s=window.getScroll();if(!1!==n){if(i=this.getPosition(),!this.retrieve("pin:_pinned")){var l={top:i.y-s.y,left:i.x-s.x,margin:"0px",padding:"0px"};if(e&&!r)this.setStyle("position","fixed").setStyles(l);else{o=this.getOffsetParent();var c=this.getPosition(o),u=this.getStyles("left","top");(o&&"auto"==u.left||"auto"==u.top)&&this.setPosition(c),"static"==this.getStyle("position")&&this.setStyle("position","absolute"),c={x:u.left.toInt()-s.x,y:u.top.toInt()-s.y},a=function(){if(this.retrieve("pin:_pinned")){var e=window.getScroll();this.setStyles({left:c.x+e.x,top:c.y+e.y})}}.bind(this),this.store("pin:_scrollFixer",a),window.addEvent("scroll",a)}this.store("pin:_pinned",!0)}}else{if(!this.retrieve("pin:_pinned"))return this;"static"!=(o=this.getParent()).getComputedStyle("position")||o.getOffsetParent();i=this.getPosition(),this.store("pin:_pinned",!1),(a=this.retrieve("pin:_scrollFixer"))?(this.store("pin:_scrollFixer",null),window.removeEvent("scroll",a)):this.setStyles({position:"absolute",top:i.y+s.y,left:i.x+s.x}),this.removeClass("isPinned")}return this},unpin:function(){return this.pin(!1)},togglePin:function(){return this.pin(!this.retrieve("pin:_pinned"))}}),Element.alias("togglepin","togglePin")}(),function(e){var t=Element.Position={options:{relativeTo:document.body,position:{x:"center",y:"center"},offset:{x:0,y:0}},getOptions:function(e,n){return n=Object.merge({},t.options,n),t.setPositionOption(n),t.setEdgeOption(n),t.setOffsetOption(e,n),t.setDimensionsOption(e,n),n},setPositionOption:function(e){e.position=t.getCoordinateFromValue(e.position)},setEdgeOption:function(e){var n=t.getCoordinateFromValue(e.edge);e.edge=n||("center"==e.position.x&&"center"==e.position.y?{x:"center",y:"center"}:{x:"left",y:"top"})},setOffsetOption:function(e,t){var n={x:0,y:0},r={x:0,y:0},i=e.measure(function(){return document.id(this.getOffsetParent())});i&&i!=e.getDocument().body&&(r=i.getScroll(),n=i.measure(function(){var e=this.getPosition();if("fixed"==this.getStyle("position")){var t=window.getScroll();e.x+=t.x,e.y+=t.y}return e}),t.offset={parentPositioned:i!=document.id(t.relativeTo),x:t.offset.x-n.x+r.x,y:t.offset.y-n.y+r.y})},setDimensionsOption:function(e,t){t.dimensions=e.getDimensions({computeSize:!0,styles:["padding","border","margin"]})},getPosition:function(e,n){var r={};n=t.getOptions(e,n);var i=document.id(n.relativeTo)||document.body;t.setPositionCoordinates(n,r,i),n.edge&&t.toEdge(r,n);var o=n.offset;return r.left=(r.x>=0||o.parentPositioned||n.allowNegative?r.x:0).toInt(),r.top=(r.y>=0||o.parentPositioned||n.allowNegative?r.y:0).toInt(),t.toMinMax(r,n),(n.relFixedPosition||"fixed"==i.getStyle("position"))&&t.toRelFixedPosition(i,r),n.ignoreScroll&&t.toIgnoreScroll(i,r),n.ignoreMargins&&t.toIgnoreMargins(r,n),r.left=Math.ceil(r.left),r.top=Math.ceil(r.top),delete r.x,delete r.y,r},setPositionCoordinates:function(e,t,n){var r=e.offset.y,i=e.offset.x,o=n==document.body?window.getScroll():n.getPosition(),a=o.y,s=o.x,l=window.getSize();switch(e.position.x){case"left":t.x=s+i;break;case"right":t.x=s+i+n.offsetWidth;break;default:t.x=s+(n==document.body?l.x:n.offsetWidth)/2+i}switch(e.position.y){case"top":t.y=a+r;break;case"bottom":t.y=a+r+n.offsetHeight;break;default:t.y=a+(n==document.body?l.y:n.offsetHeight)/2+r}},toMinMax:function(e,t){var n,r={left:"x",top:"y"};["minimum","maximum"].each(function(i){["left","top"].each(function(o){null!=(n=t[i]?t[i][r[o]]:null)&&("minimum"==i?e[o]<n:e[o]>n)&&(e[o]=n)})})},toRelFixedPosition:function(e,t){var n=window.getScroll();t.top+=n.y,t.left+=n.x},toIgnoreScroll:function(e,t){var n=e.getScroll();t.top-=n.y,t.left-=n.x},toIgnoreMargins:function(e,t){e.left+="right"==t.edge.x?t.dimensions["margin-right"]:"center"!=t.edge.x?-t.dimensions["margin-left"]:-t.dimensions["margin-left"]+(t.dimensions["margin-right"]+t.dimensions["margin-left"])/2,e.top+="bottom"==t.edge.y?t.dimensions["margin-bottom"]:"center"!=t.edge.y?-t.dimensions["margin-top"]:-t.dimensions["margin-top"]+(t.dimensions["margin-bottom"]+t.dimensions["margin-top"])/2},toEdge:function(e,t){var n={},r=t.dimensions,i=t.edge;switch(i.x){case"left":n.x=0;break;case"right":n.x=-r.x-r.computedRight-r.computedLeft;break;default:n.x=-Math.round(r.totalWidth/2)}switch(i.y){case"top":n.y=0;break;case"bottom":n.y=-r.y-r.computedTop-r.computedBottom;break;default:n.y=-Math.round(r.totalHeight/2)}e.x+=n.x,e.y+=n.y},getCoordinateFromValue:function(e){return"string"!=typeOf(e)?e:{x:(e=e.toLowerCase()).test("left")?"left":e.test("right")?"right":"center",y:e.test(/upper|top/)?"top":e.test("bottom")?"bottom":"center"}}};Element.implement({position:function(t){if(t&&(null!=t.x||null!=t.y))return e?e.apply(this,arguments):this;var n=this.setStyle("position","absolute").calculatePosition(t);return t&&t.returnPos?n:this.setStyles(n)},calculatePosition:function(e){return t.getPosition(this,e)}})}(Element.prototype.position),Element.implement({isDisplayed:function(){return"none"!=this.getStyle("display")},isVisible:function(){var e=this.offsetWidth,t=this.offsetHeight;return(0!=e||0!=t)&&(e>0&&t>0||"none"!=this.style.display)},toggle:function(){return this[this.isDisplayed()?"hide":"show"]()},hide:function(){var e;try{e=this.getStyle("display")}catch(e){}return"none"==e?this:this.store("element:_originalDisplay",e||"").setStyle("display","none")},show:function(e){return!e&&this.isDisplayed()?this:(e=e||this.retrieve("element:_originalDisplay")||"block",this.setStyle("display","none"==e?"block":e))},swapClass:function(e,t){return this.removeClass(e).addClass(t)}}),Document.implement({clearSelection:function(){if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}}),Elements.from=function(e,t){(t||null==t)&&(e=e.stripScripts());var n,r=e.match(/^\s*(?:<!--.*?-->\s*)*<(t[dhr]|tbody|tfoot|thead)/i);if(r){n=new Element("table");var i=r[1].toLowerCase();["td","th","tr"].contains(i)&&(n=new Element("tbody").inject(n),"tr"!=i&&(n=new Element("tr").inject(n)))}return(n||new Element("div")).set("html",e).getChildren()},function(){var e=!1;e=Browser.ie6||Browser.firefox&&Browser.version<3&&Browser.Platform.mac;var t=this.IframeShim=new Class({Implements:[Options,Events,Class.Occlude],options:{className:"iframeShim",src:'javascript:false;document.write("");',display:!1,zIndex:null,margin:0,offset:{x:0,y:0},browsers:e},property:"IframeShim",initialize:function(e,t){return this.element=document.id(e),this.occlude()?this.occluded:(this.setOptions(t),this.makeShim(),this)},makeShim:function(){if(this.options.browsers){var e=this.element.getStyle("zIndex").toInt();if(!e){e=1;var n=this.element.getStyle("position");"static"!=n&&n||this.element.setStyle("position","relative"),this.element.setStyle("zIndex",e)}(e=(null!=this.options.zIndex||0===this.options.zIndex)&&e>this.options.zIndex?this.options.zIndex:e-1)<0&&(e=1),this.shim=new Element("iframe",{src:this.options.src,scrolling:"no",frameborder:0,styles:{zIndex:e,position:"absolute",border:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},class:this.options.className}).store("IframeShim",this);var r=function(){this.shim.inject(this.element,"after"),this[this.options.display?"show":"hide"](),this.fireEvent("inject")}.bind(this);t.ready?r():window.addEvent("load",r)}else this.position=this.hide=this.show=this.dispose=Function.convert(this)},position:function(){if(!t.ready||!this.shim)return this;var e=this.element.measure(function(){return this.getSize()});return void 0!=this.options.margin&&(e.x=e.x-2*this.options.margin,e.y=e.y-2*this.options.margin,this.options.offset.x+=this.options.margin,this.options.offset.y+=this.options.margin),this.shim.set({width:e.x,height:e.y}).position({relativeTo:this.element,offset:this.options.offset}),this},hide:function(){return this.shim&&this.shim.setStyle("display","none"),this},show:function(){return this.shim&&this.shim.setStyle("display","block"),this.position()},dispose:function(){return this.shim&&this.shim.dispose(),this},destroy:function(){return this.shim&&this.shim.destroy(),this}})}(),window.addEvent("load",function(){IframeShim.ready=!0}),function(){this.Mask=new Class({Implements:[Options,Events],Binds:["position"],options:{style:{},class:"mask",maskMargins:!1,useIframeShim:!0,iframeShimOptions:{}},initialize:function(e,t){this.target=document.id(e)||document.id(document.body),this.target.store("mask",this),this.setOptions(t),this.render(),this.inject()},render:function(){this.element=new Element("div",{class:this.options.class,id:this.options.id||"mask-"+String.uniqueID(),styles:Object.merge({},this.options.style,{display:"none"}),events:{click:function(e){this.fireEvent("click",e),this.options.hideOnClick&&this.hide()}.bind(this)}}),this.hidden=!0},toElement:function(){return this.element},inject:function(e,t){t=t||(this.options.inject?this.options.inject.where:"")||(this.target==document.body?"inside":"after"),e=e||this.options.inject&&this.options.inject.target||this.target,this.element.inject(e,t),this.options.useIframeShim&&(this.shim=new IframeShim(this.element,this.options.iframeShimOptions),this.addEvents({show:this.shim.show.bind(this.shim),hide:this.shim.hide.bind(this.shim),destroy:this.shim.destroy.bind(this.shim)}))},position:function(){return this.resize(this.options.width,this.options.height),this.element.position({relativeTo:this.target,position:"topLeft",ignoreMargins:!this.options.maskMargins,ignoreScroll:this.target==document.body}),this},resize:function(e,t){var n={styles:["padding","border"]};this.options.maskMargins&&n.styles.push("margin");var r=this.target.getComputedSize(n);if(this.target==document.body){this.element.setStyles({width:0,height:0});var i=window.getScrollSize();r.totalHeight<i.y&&(r.totalHeight=i.y),r.totalWidth<i.x&&(r.totalWidth=i.x)}return this.element.setStyles({width:Array.pick([e,r.totalWidth,r.x]),height:Array.pick([t,r.totalHeight,r.y])}),this},show:function(){return this.hidden?(window.addEvent("resize",this.position),this.position(),this.showMask.apply(this,arguments),this):this},showMask:function(){this.element.setStyle("display","block"),this.hidden=!1,this.fireEvent("show")},hide:function(){return this.hidden?this:(window.removeEvent("resize",this.position),this.hideMask.apply(this,arguments),this.options.destroyOnHide?this.destroy():this)},hideMask:function(){this.element.setStyle("display","none"),this.hidden=!0,this.fireEvent("hide")},toggle:function(){this[this.hidden?"show":"hide"]()},destroy:function(){this.hide(),this.element.destroy(),this.fireEvent("destroy"),this.target.eliminate("mask")}})}(),Element.Properties.mask={set:function(e){var t=this.retrieve("mask");return t&&t.destroy(),this.eliminate("mask").store("mask:options",e)},get:function(){var e=this.retrieve("mask");return e||(e=new Mask(this,this.retrieve("mask:options")),this.store("mask",e)),e}},Element.implement({mask:function(e){return e&&this.set("mask",e),this.get("mask").show(),this},unmask:function(){return this.get("mask").hide(),this}}),function(){var e=function(e){return decodeURIComponent(e.replace(/\+/g," "))};String.implement({parseQueryString:function(t,n){null==t&&(t=!0),null==n&&(n=!0);var r=this.split(/[&;]/),i={};return r.length?(r.each(function(r){var o=r.indexOf("=")+1,a=o?r.substr(o):"",s=o?r.substr(0,o-1).match(/([^\]\[]+|(\B)(?=\]))/g):[r],l=i;s&&(n&&(a=e(a)),s.each(function(n,r){t&&(n=e(n));var i=l[n];r<s.length-1?l=l[n]=i||{}:"array"==typeOf(i)?i.push(a):l[n]=null!=i?[i,a]:a}))}),i):i},cleanQueryString:function(e){return this.split("&").filter(function(t){var n=t.indexOf("="),r=n<0?"":t.substr(0,n),i=t.substr(n+1);return e?e.call(null,r,i):i||0===i}).join("&")}})}(),window.Form||(window.Form={}),Form.Request=new Class({Binds:["onSubmit","onFormValidate"],Implements:[Options,Events,Class.Occlude],options:{requestOptions:{evalScripts:!0,useSpinner:!0,emulation:!1,link:"ignore"},sendButtonClicked:!0,extraData:{},resetForm:!0},property:"form.request",initialize:function(e,t,n){if(this.element=document.id(e),this.occlude())return this.occluded;this.setOptions(n).setTarget(t).attach()},setTarget:function(e){return this.target=document.id(e),this.request?this.request.setOptions({update:this.target}):this.makeRequest(),this},toElement:function(){return this.element},makeRequest:function(){var e=this;return this.request=new Request.HTML(Object.merge({update:this.target,emulation:!1,spinnerTarget:this.element,method:this.element.get("method")||"post"},this.options.requestOptions)).addEvents({success:function(t,n,r,i){["complete","success"].each(function(o){e.fireEvent(o,[e.target,t,n,r,i])})},failure:function(){e.fireEvent("complete",arguments).fireEvent("failure",arguments)},exception:function(){e.fireEvent("failure",arguments)}}),this.attachReset()},attachReset:function(){return this.options.resetForm?(this.request.addEvent("success",function(){Function.attempt(function(){this.element.reset()}.bind(this)),window.OverText&&OverText.update()}.bind(this)),this):this},attach:function(e){var t=0!=e?"addEvent":"removeEvent";this.element[t]("click:relay(button, input[type=submit])",this.saveClickedButton.bind(this));var n=this.element.retrieve("validator");return n?n[t]("onFormValidate",this.onFormValidate):this.element[t]("submit",this.onSubmit),this},detach:function(){return this.attach(!1)},enable:function(){return this.attach()},disable:function(){return this.detach()},onFormValidate:function(e,t,n){if(n){var r=this.element.retrieve("validator");(e||r&&!r.options.stopOnFailure)&&(n.stop(),this.send())}},onSubmit:function(e){var t=this.element.retrieve("validator");if(t)return this.element.removeEvent("submit",this.onSubmit),t.addEvent("onFormValidate",this.onFormValidate),void t.validate(e);e&&e.stop(),this.send()},saveClickedButton:function(e,t){var n=t.get("name");n&&this.options.sendButtonClicked&&(this.options.extraData[n]=t.get("value")||!0,this.clickedCleaner=function(){delete this.options.extraData[n],this.clickedCleaner=function(){}}.bind(this))},clickedCleaner:function(){},send:function(){var e=this.element.toQueryString().trim(),t=Object.toQueryString(this.options.extraData);return e?e+="&"+t:e=t,this.fireEvent("send",[this.element,e.parseQueryString()]),this.request.send({data:e,url:this.options.requestOptions.url||this.element.get("action")}),this.clickedCleaner(),this}}),Element.implement("formUpdate",function(e,t){var n=this.retrieve("form.request");return n?(e&&n.setTarget(e),t&&n.setOptions(t).makeRequest()):n=new Form.Request(this,e,t),n.send(),this}),function(){var e=function(e){var t=e.options.hideInputs;if(window.OverText){var n=[null];OverText.each(function(e){n.include("."+e.options.labelClass)}),n&&(t+=n.join(", "))}return t?e.element.getElements(t):null};Fx.Reveal=new Class({Extends:Fx.Morph,options:{link:"cancel",styles:["padding","border","margin"],transitionOpacity:"opacity"in document.documentElement,mode:"vertical",display:function(){return"tr"!=this.element.get("tag")?"block":"table-row"},opacity:1,hideInputs:"opacity"in document.documentElement?null:"select, input, textarea, object, embed"},dissolve:function(){if(this.hiding||this.showing)"chain"==this.options.link?this.chain(this.dissolve.bind(this)):"cancel"!=this.options.link||this.hiding||(this.cancel(),this.dissolve());else if("none"!=this.element.getStyle("display")){this.hiding=!0,this.showing=!1,this.hidden=!0,this.cssText=this.element.style.cssText;var t=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});this.options.transitionOpacity&&(t.opacity=this.options.opacity);var n={};Object.each(t,function(e,t){n[t]=[e,0]}),this.element.setStyles({display:Function.convert(this.options.display).call(this),overflow:"hidden"});var r=e(this);r&&r.setStyle("visibility","hidden"),this.$chain.unshift(function(){this.hidden&&(this.hiding=!1,this.element.style.cssText=this.cssText,this.element.setStyle("display","none"),r&&r.setStyle("visibility","visible")),this.fireEvent("hide",this.element),this.callChain()}.bind(this)),this.start(n)}else this.callChain.delay(10,this),this.fireEvent("complete",this.element),this.fireEvent("hide",this.element);return this},reveal:function(){if(this.showing||this.hiding)"chain"==this.options.link?this.chain(this.reveal.bind(this)):"cancel"!=this.options.link||this.showing||(this.cancel(),this.reveal());else if("none"==this.element.getStyle("display")){this.hiding=!1,this.showing=!0,this.hidden=!1,this.cssText=this.element.style.cssText;var t;this.element.measure(function(){t=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode})}.bind(this)),null!=this.options.heightOverride&&(t.height=this.options.heightOverride.toInt()),null!=this.options.widthOverride&&(t.width=this.options.widthOverride.toInt()),this.options.transitionOpacity&&(this.element.setStyle("opacity",0),t.opacity=this.options.opacity);var n={height:0,display:Function.convert(this.options.display).call(this)};Object.each(t,function(e,t){n[t]=0}),n.overflow="hidden",this.element.setStyles(n);var r=e(this);r&&r.setStyle("visibility","hidden"),this.$chain.unshift(function(){this.element.style.cssText=this.cssText,this.element.setStyle("display",Function.convert(this.options.display).call(this)),this.hidden||(this.showing=!1),r&&r.setStyle("visibility","visible"),this.callChain(),this.fireEvent("show",this.element)}.bind(this)),this.start(t)}else this.callChain(),this.fireEvent("complete",this.element),this.fireEvent("show",this.element);return this},toggle:function(){return"none"==this.element.getStyle("display")?this.reveal():this.dissolve(),this},cancel:function(){return this.parent.apply(this,arguments),null!=this.cssText&&(this.element.style.cssText=this.cssText),this.hiding=!1,this.showing=!1,this}}),Element.Properties.reveal={set:function(e){return this.get("reveal").cancel().setOptions(e),this},get:function(){var e=this.retrieve("reveal");return e||(e=new Fx.Reveal(this),this.store("reveal",e)),e}},Element.Properties.dissolve=Element.Properties.reveal,Element.implement({reveal:function(e){return this.get("reveal").setOptions(e).reveal(),this},dissolve:function(e){return this.get("reveal").setOptions(e).dissolve(),this},nix:function(e){var t=Array.link(arguments,{destroy:Type.isBoolean,options:Type.isObject});return this.get("reveal").setOptions(e).dissolve().chain(function(){this[t.destroy?"destroy":"dispose"]()}.bind(this)),this},wink:function(){var e=Array.link(arguments,{duration:Type.isNumber,options:Type.isObject}),t=this.get("reveal").setOptions(e.options);t.reveal().chain(function(){(function(){t.dissolve()}).delay(e.duration||2e3)})}})}(),Form.Request.Append=new Class({Extends:Form.Request,options:{useReveal:!0,revealOptions:{},inject:"bottom"},makeRequest:function(){this.request=new Request.HTML(Object.merge({url:this.element.get("action"),method:this.element.get("method")||"post",spinnerTarget:this.element},this.options.requestOptions,{evalScripts:!1})).addEvents({success:function(e,t,n,r){var i,o=Elements.from(n);(i=1==o.length?o[0]:new Element("div",{styles:{display:"none"}}).adopt(o)).inject(this.target,this.options.inject),this.options.requestOptions.evalScripts&&Browser.exec(r),this.fireEvent("beforeEffect",i);var a=function(){this.fireEvent("success",[i,this.target,e,t,n,r])}.bind(this);this.options.useReveal?(i.set("reveal",this.options.revealOptions).get("reveal").chain(a),i.reveal()):a()}.bind(this),failure:function(e){this.fireEvent("failure",e)}.bind(this)}),this.attachReset()}}),function(){var e=function(e){return null!=e},t=Object.prototype.hasOwnProperty;Object.extend({getFromPath:function(e,n){"string"==typeof n&&(n=n.split("."));for(var r=0,i=n.length;r<i;r++){if(!t.call(e,n[r]))return null;e=e[n[r]]}return e},cleanValues:function(t,n){n=n||e;for(var r in t)n(t[r])||delete t[r];return t},erase:function(e,n){return t.call(e,n)&&delete e[n],e},run:function(e){var t=Array.slice(arguments,1);for(var n in e)e[n].apply&&e[n].apply(e,t);return e}})}(),Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(e,t){this.elements=this.subject=$$(e),this.parent(t)},compute:function(e,t,n){var r={};for(var i in e){var o=e[i],a=t[i],s=r[i]={};for(var l in o)s[l]=this.parent(o[l],a[l],n)}return r},set:function(e){for(var t in e)if(this.elements[t]){var n=e[t];for(var r in n)this.render(this.elements[t],r,n[r],this.options.unit)}return this},start:function(e){if(!this.check(e))return this;var t={},n={};for(var r in e)if(this.elements[r]){var i=e[r],o=t[r]={},a=n[r]={};for(var s in i){var l=this.prepare(this.elements[r],s,i[s]);o[s]=l.from,a[s]=l.to}}return this.parent(t,n)}}),Request.JSONP=new Class({Implements:[Chain,Events,Options],options:{onRequest:function(e){this.options.log&&window.console&&console.log&&console.log("JSONP retrieving script with url:"+e)},onError:function(e){this.options.log&&window.console&&console.warn&&console.warn("JSONP "+e+" will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs")},url:"",callbackKey:"callback",injectScript:document.head,data:"",link:"ignore",timeout:0,log:!1},initialize:function(e){this.setOptions(e)},send:function(e){if(!Request.prototype.check.call(this,e))return this;this.running=!0;var t=typeOf(e);"string"!=t&&"element"!=t||(e={data:e});var n=(e=Object.merge(this.options,e||{})).data;switch(typeOf(n)){case"element":n=document.id(n).toQueryString();break;case"object":case"hash":n=Object.toQueryString(n)}var r=this.index=Request.JSONP.counter++,i="request_"+r,o=e.url+(e.url.test("\\?")?"&":"?")+e.callbackKey+"=Request.JSONP.request_map.request_"+r+(n?"&"+n:"");o.length>2083&&this.fireEvent("error",o),Request.JSONP.request_map[i]=function(){delete Request.JSONP.request_map[i],this.success(arguments,r)}.bind(this);var a=this.getScript(o).inject(e.injectScript);return this.fireEvent("request",[o,a]),e.timeout&&this.timeout.delay(e.timeout,this),this},getScript:function(e){return this.script||(this.script=new Element("script",{type:"text/javascript",async:!0,src:e})),this.script},success:function(e){this.running&&this.clear().fireEvent("complete",e).fireEvent("success",e).callChain()},cancel:function(){return this.running&&this.clear().fireEvent("cancel"),this},isRunning:function(){return!!this.running},clear:function(){return this.running=!1,this.script&&(this.script.destroy(),this.script=null),this},timeout:function(){return this.running&&(this.running=!1,this.fireEvent("timeout",[this.script.get("src"),this.script]).fireEvent("failure").cancel()),this}}),Request.JSONP.counter=0,Request.JSONP.request_map={},Array.implement({min:function(){return Math.min.apply(null,this)},max:function(){return Math.max.apply(null,this)},average:function(){return this.length?this.sum()/this.length:0},sum:function(){var e=0,t=this.length;if(t)for(;t--;)null!=this[t]&&(e+=parseFloat(this[t]));return e},unique:function(){return[].combine(this)},shuffle:function(){for(var e=this.length;e&&--e;){var t=this[e],n=Math.floor(Math.random()*(e+1));this[e]=this[n],this[n]=t}return this},reduce:function(e,t){for(var n=0,r=this.length;n<r;n++)n in this&&(t=void 0===t?this[n]:e.call(null,t,this[n],n,this));return t},reduceRight:function(e,t){for(var n=this.length;n--;)n in this&&(t=void 0===t?this[n]:e.call(null,t,this[n],n,this));return t},pluck:function(e){return this.map(function(t){return t[e]})}}),function(){var e=this.Asset={javascript:function(e,t){t||(t={});var n=new Element("script",{src:e,type:"text/javascript"}),r=t.document||document,i=t.onload||t.onLoad;return delete t.onload,delete t.onLoad,delete t.document,i&&(n.addEventListener?n.addEvent("load",i):n.addEvent("readystatechange",function(){["loaded","complete"].contains(this.readyState)&&i.call(this)})),n.set(t).inject(r.head)},css:function(e,t){t||(t={});var n=t.onload||t.onLoad,r=t.document||document,i=t.timeout||3e3;["onload","onLoad","document"].each(function(e){delete t[e]});var o=new Element("link",{type:"text/css",rel:"stylesheet",media:"screen",href:e}).setProperties(t).inject(r.head);if(n){var a=!1,s=0,l=function(){for(var e=document.styleSheets,t=0;t<e.length;t++){var r=e[t],c=r.ownerNode?r.ownerNode:r.owningElement;if(c&&c==o)return a=!0,n.call(o)}if(!a&&++s<i/50)return setTimeout(l,50)};setTimeout(l,0)}return o},image:function(e,t){t||(t={});var n=new Image,r=document.id(n)||new Element("img");return["load","abort","error"].each(function(e){var i="on"+e,o="on"+e.capitalize(),a=t[i]||t[o]||function(){};delete t[o],delete t[i],n[i]=function(){n&&(r.parentNode||(r.width=n.width,r.height=n.height),n=n.onload=n.onabort=n.onerror=null,a.delay(1,r,r),r.fireEvent(e,r,1))}}),n.src=r.src=e,n&&n.complete&&n.onload.delay(1),r.set(t)},images:function(t,n){t=Array.convert(t);var r=function(){},i=0;return n=Object.merge({onComplete:r,onProgress:r,onError:r,properties:{}},n),new Elements(t.map(function(r,o){return e.image(r,Object.append(n.properties,{onload:function(){i++,n.onProgress.call(this,i,o,r),i==t.length&&n.onComplete()},onerror:function(){i++,n.onError.call(this,i,o,r),i==t.length&&n.onComplete()}}))}))}}}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),p=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),d=/PhantomJS/.test(e),y=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),g=y||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=y||/Mac/.test(t),b=/\bCrOS\b/.test(e),x=/win/i.test(t),w=p&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(p=!1,l=!0);var _=v&&(c||p&&(null==w||w<12.11)),k=n||a&&s>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return T(e).appendChild(t)}function M(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=M(e,t,n,r);return i.setAttribute("role","presentation"),i}var L;L=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function O(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function P(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function I(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}var N=function(e){e.select()};y?N=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(N=function(e){try{e.select()}catch(e){}});function j(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function D(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function z(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}var B=function(){this.id=null};B.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};function F(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var W=30,$={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},q={origin:"*mouse"},K={origin:"+move"};function U(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var V=[""];function G(e){for(;V.length<=e;)V.push(J(V)+" ");return V[e]}function J(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Q(){}function Y(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&D(t,n),n}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&re.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function le(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function ce(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ue(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function pe(e){if(null==e.parent)return null;for(var t=e.parent,n=F(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function he(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function fe(e,t){return t>=e.first&&t<e.first+e.size}function de(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ye(e,t,n){if(void 0===n&&(n=null),!(this instanceof ye))return new ye(e,t,n);this.line=e,this.ch=t,this.sticky=n}function me(e,t){return e.line-t.line||e.ch-t.ch}function ge(e,t){return e.sticky==t.sticky&&0==me(e,t)}function ve(e){return ye(e.line,e.ch)}function be(e,t){return me(e,t)<0?t:e}function xe(e,t){return me(e,t)<0?e:t}function we(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function _e(e,t){if(t.line<e.first)return ye(e.first,0);var n=e.first+e.size-1;return t.line>n?ye(n,se(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?ye(e.line,t):n<0?ye(e.line,0):e}(t,se(e,t.line).text.length)}function ke(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=_e(e,t[r]);return n}var Se=!1,Ce=!1;function Te(e,t,n){this.marker=e,this.from=t,this.to=n}function Ee(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Me(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ae(e,t){if(t.full)return null;var n=fe(e,t.from.line)&&se(e,t.from.line).markedSpans,r=fe(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==me(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Te(a,o.from,s?null:o.to))}}return r}(n,i,a),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Te(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),c=1==t.text.length,u=J(t.text).length+(c?i:0);if(s)for(var p=0;p<s.length;++p){var h=s[p];if(null==h.to){var f=Ee(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=i}}if(l)for(var d=0;d<l.length;++d){var y=l[d];if(null!=y.to&&(y.to+=u),null==y.from){Ee(s,y.marker)||(y.from=u,c&&(s||(s=[])).push(y))}else y.from+=u,c&&(s||(s=[])).push(y)}s&&(s=Le(s)),l&&l!=s&&(l=Le(l));var m=[s];if(!c){var g,v=t.text.length-2;if(v>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(g||(g=[])).push(new Te(s[b].marker,null,null));for(var x=0;x<v;++x)m.push(g);m.push(l)}return m}function Le(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Oe(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Pe(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Re(e){return e.inclusiveLeft?-1:0}function Ie(e){return e.inclusiveRight?1:0}function Ne(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=me(r.from,i.from)||Re(e)-Re(t);if(o)return-o;var a=me(r.to,i.to)||Ie(e)-Ie(t);return a||t.id-e.id}function je(e,t){var n,r=Ce&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ne(n,i.marker)<0)&&(n=i.marker);return n}function De(e){return je(e,!0)}function ze(e){return je(e,!1)}function Be(e,t,n,r,i){var o=se(e,t),a=Ce&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=me(c.from,n)||Re(l.marker)-Re(i),p=me(c.to,r)||Ie(l.marker)-Ie(i);if(!(u>=0&&p<=0||u<=0&&p>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?me(c.to,n)>=0:me(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?me(c.from,r)<=0:me(c.from,r)<0)))return!0}}}function Fe(e){for(var t;t=De(e);)e=t.find(-1,!0).line;return e}function We(e,t){var n=se(e,t),r=Fe(n);return n==r?t:pe(r)}function $e(e,t){if(t>e.lastLine())return t;var n,r=se(e,t);if(!He(e,r))return t;for(;n=ze(r);)r=n.find(1,!0).line;return pe(r)+1}function He(e,t){var n=Ce&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&qe(e,t,r))return!0}}function qe(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return qe(e,r.line,Ee(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&qe(e,t,i))return!0}function Ke(e){for(var t=0,n=(e=Fe(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Ue(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=De(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=ze(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Ve(e){var t=e.display,n=e.doc;t.maxLine=se(n,n.first),t.maxLineLength=Ue(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Ue(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var Ge=null;function Je(e,t,n){var r;Ge=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Ge=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Ge=i)}return null!=r?r:Ge}var Xe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(l,c){var u="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!n.test(l))return!1;for(var p=l.length,h=[],f=0;f<p;++f)h.push((d=l.charCodeAt(f))<=247?e.charAt(d):1424<=d&&d<=1524?"R":1536<=d&&d<=1785?t.charAt(d-1536):1774<=d&&d<=2220?"r":8192<=d&&d<=8203?"w":8204==d?"b":"L");for(var d,y=0,m=u;y<p;++y){var g=h[y];"m"==g?h[y]=m:m=g}for(var v=0,b=u;v<p;++v){var x=h[v];"1"==x&&"r"==b?h[v]="n":i.test(x)&&(b=x,"r"==x&&(h[v]="R"))}for(var w=1,_=h[0];w<p-1;++w){var k=h[w];"+"==k&&"1"==_&&"1"==h[w+1]?h[w]="1":","!=k||_!=h[w+1]||"1"!=_&&"n"!=_||(h[w]=_),_=k}for(var S=0;S<p;++S){var C=h[S];if(","==C)h[S]="N";else if("%"==C){var T=void 0;for(T=S+1;T<p&&"%"==h[T];++T);for(var E=S&&"!"==h[S-1]||T<p&&"1"==h[T]?"1":"N",M=S;M<T;++M)h[M]=E;S=T-1}}for(var A=0,L=u;A<p;++A){var O=h[A];"L"==L&&"1"==O?h[A]="L":i.test(O)&&(L=O)}for(var P=0;P<p;++P)if(r.test(h[P])){var R=void 0;for(R=P+1;R<p&&r.test(h[R]);++R);for(var I="L"==(P?h[P-1]:u),N=I==("L"==(R<p?h[R]:u))?I?"L":"R":u,j=P;j<R;++j)h[j]=N;P=R-1}for(var D,z=[],B=0;B<p;)if(o.test(h[B])){var F=B;for(++B;B<p&&o.test(h[B]);++B);z.push(new s(0,F,B))}else{var W=B,$=z.length;for(++B;B<p&&"L"!=h[B];++B);for(var H=W;H<B;)if(a.test(h[H])){W<H&&z.splice($,0,new s(1,W,H));var q=H;for(++H;H<B&&a.test(h[H]);++H);z.splice($,0,new s(2,q,H)),W=H}else++H;W<B&&z.splice($,0,new s(1,W,B))}return"ltr"==c&&(1==z[0].level&&(D=l.match(/^\s+/))&&(z[0].from=D[0].length,z.unshift(new s(0,0,D[0].length))),1==J(z).level&&(D=l.match(/\s+$/))&&(J(z).to-=D[0].length,z.push(new s(0,p-D[0].length,p)))),"rtl"==c?z.reverse():z}}();function Qe(e,t){var n=e.order;return null==n&&(n=e.order=Xe(e.text,t)),n}var Ye=[],Ze=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Ye).concat(n)}};function et(e,t){return e._handlers&&e._handlers[t]||Ye}function tt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=F(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function nt(e,t){var n=et(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function rt(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),nt(e,n||t.type,e,t),ct(t)||t.codemirrorIgnore}function it(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==F(n,t[r])&&n.push(t[r])}function ot(e,t){return et(e,t).length>0}function at(e){e.prototype.on=function(e,t){Ze(this,e,t)},e.prototype.off=function(e,t){tt(this,e,t)}}function st(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function lt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ut(e){st(e),lt(e)}function pt(e){return e.target||e.srcElement}function ht(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var ft,dt=function(){if(a&&s<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}();function yt(e){if(null==ft){var t=M("span","​");E(e,M("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ft=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=ft?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var mt;function gt(e){if(null!=mt)return mt;var t=E(e,document.createTextNode("AخA")),n=L(t,0,1).getBoundingClientRect(),r=L(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(mt=r.right-n.right<3)}var vt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},bt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},xt=function(){var e=M("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),wt=null;var _t={},kt={};function St(e){if("string"==typeof e&&kt.hasOwnProperty(e))e=kt[e];else if(e&&"string"==typeof e.name&&kt.hasOwnProperty(e.name)){var t=kt[e.name];"string"==typeof t&&(t={name:t}),(e=Y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return St("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return St("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ct(e,t){t=St(t);var n=_t[t.name];if(!n)return Ct(e,"text/plain");var r=n(e,t);if(Tt.hasOwnProperty(t.name)){var i=Tt[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Tt={};function Et(e,t){D(t,Tt.hasOwnProperty(e)?Tt[e]:Tt[e]={})}function Mt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function At(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Lt(e,t,n){return!e.startState||e.startState(t,n)}var Ot=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Ot.prototype.eol=function(){return this.pos>=this.string.length},Ot.prototype.sol=function(){return this.pos==this.lineStart},Ot.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ot.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ot.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ot.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ot.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ot.prototype.skipToEnd=function(){this.pos=this.string.length},Ot.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ot.prototype.backUp=function(e){this.pos-=e},Ot.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ot.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ot.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ot.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ot.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ot.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ot.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Pt=function(e,t){this.state=e,this.lookAhead=t},Rt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};Rt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Rt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Rt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Rt.fromSaved=function(e,t,n){return t instanceof Pt?new Rt(e,Mt(e.mode,t.state),n,t.lookAhead):new Rt(e,Mt(e.mode,t),n)},Rt.prototype.save=function(e){var t=!1!==e?Mt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pt(t,this.maxLookAhead):t};function It(e,t,n,r){var i=[e.state.modeGen],o={};Ht(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,c=0;n.state=!0,Ht(e,t.text,s.mode,n,function(e,t){for(var n=l;c<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Nt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=jt(e,pe(t)),i=t.text.length>e.options.maxHighlightLength&&Mt(e.doc.mode,r.state),o=It(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function jt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new Rt(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=se(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof Pt?c.lookAhead:0)<=o.modeFrontier))return s;var u=z(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}(e,t,n),a=o>r.first&&se(r,o-1).stateAfter,s=a?Rt.fromSaved(r,a,o):new Rt(r,Lt(r.mode),o);return r.iter(o,t,function(n){Dt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Dt(e,t,n,r){var i=e.doc.mode,o=new Ot(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&zt(i,n.state);!o.eol();)Bt(i,o,n.state),o.start=o.pos}function zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=At(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Bt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=At(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}var Ft=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Wt(e,t,n,r){var i,o,a=e.doc,s=a.mode,l=se(a,(t=_e(a,t)).line),c=jt(e,t.line,n),u=new Ot(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=Bt(s,u,c.state),r&&o.push(new Ft(u,i,Mt(a.mode,c.state)));return r?o:new Ft(u,i,c.state)}function $t(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Ht(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,p=new Ot(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&$t(zt(n,r.state),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(s=!1,a&&Dt(e,t,r,p.pos),p.pos=t.length,l=null):l=$t(Bt(n,p,r.state,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||u!=l){for(;c<p.start;)i(c=Math.min(p.start,c+5e3),u);u=l}p.start=p.pos}for(;c<p.pos;){var d=Math.min(p.pos,c+5e3);i(d,u),c=d}}var qt=function(e,t,n){this.text=e,Pe(this,t),this.height=n?n(this):1};qt.prototype.lineNo=function(){return pe(this)},at(qt);var Kt={},Ut={};function Vt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Ut:Kt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Gt(e,t){var n=A("span",null,null,l?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(a||l)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=Xt,gt(e.display.measure)&&(s=Qe(o,e.doc.direction))&&(r.addToken=Qt(r.addToken,s)),r.map=[];Zt(o,r,Nt(e,o,t!=e.display.externalMeasured&&pe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(yt(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return nt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function Jt(e){var t=M("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Xt(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,p=e.cm.state.specialChars,h=!1;if(p.test(t)){c=document.createDocumentFragment();for(var f=0;;){p.lastIndex=f;var d=p.exec(t),y=d?d.index-f:t.length-f;if(y){var m=document.createTextNode(u.slice(f,f+y));a&&s<9?c.appendChild(M("span",[m])):c.appendChild(m),e.map.push(e.pos,e.pos+y,m),e.col+=y,e.pos+=y}if(!d)break;f+=y+1;var g=void 0;if("\t"==d[0]){var v=e.cm.options.tabSize,b=v-e.col%v;(g=c.appendChild(M("span",G(b),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?((g=c.appendChild(M("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((g=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?c.appendChild(M("span",[g])):c.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||h||l){var x=n||"";r&&(x+=r),i&&(x+=i);var w=M("span",[c],x,l);return o&&(w.title=o),e.content.appendChild(w)}e.content.appendChild(c)}}function Qt(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var p=void 0,h=0;h<t.length&&!((p=t[h]).to>c&&p.from<=c);h++);if(p.to>=u)return e(n,r,i,o,a,s,l);e(n,r.slice(0,p.to-c),i,o,null,s,l),o=null,r=r.slice(p.to-c),c=p.to}}}function Yt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Zt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,c,u,p,h,f=i.length,d=0,y=1,m="",g=0;;){if(g==d){l=c=u=p=s="",h=null,g=1/0;for(var v=[],b=void 0,x=0;x<r.length;++x){var w=r[x],_=w.marker;"bookmark"==_.type&&w.from==d&&_.widgetNode?v.push(_):w.from<=d&&(null==w.to||w.to>d||_.collapsed&&w.to==d&&w.from==d)?(null!=w.to&&w.to!=d&&g>w.to&&(g=w.to,c=""),_.className&&(l+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&w.from==d&&(u+=" "+_.startStyle),_.endStyle&&w.to==g&&(b||(b=[])).push(_.endStyle,w.to),_.title&&!p&&(p=_.title),_.collapsed&&(!h||Ne(h.marker,_)<0)&&(h=w)):w.from>d&&g>w.from&&(g=w.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==g&&(c+=" "+b[k]);if(!h||h.from==d)for(var S=0;S<v.length;++S)Yt(t,0,v[S]);if(h&&(h.from||0)==d){if(Yt(t,(null==h.to?f+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=f)break;for(var C=Math.min(f,g);;){if(m){var T=d+m.length;if(!h){var E=T>C?m.slice(0,C-d):m;t.addToken(t,E,a?a+l:l,u,d+E.length==g?c:"",p,s)}if(T>=C){m=m.slice(C-d),d=C;break}d=T,u=""}m=i.slice(o,o=n[y++]),a=Vt(n[y++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,i.slice(o,o=n[M]),Vt(n[M+1],t.cm.options))}function en(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=ze(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?pe(J(this.rest))-n+1:1,this.node=this.text=null,this.hidden=He(e,t)}function tn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new en(e.doc,se(e.doc,o),o);r=o+a.size,i.push(a)}return i}var nn=null;var rn=null;function on(e,t){var n=et(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);nn?r=nn.delayedCallbacks:rn?r=rn:(r=rn=[],setTimeout(an,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function an(){var e=rn;rn=null;for(var t=0;t<e.length;++t)e[t]()}function sn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?un(e,t):"gutter"==o?hn(e,t,n,r):"class"==o?pn(e,t):"widget"==o&&fn(e,t,r)}t.changes=null}function ln(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function cn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Gt(e,t)}function un(e,t){var n=t.text.className,r=cn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,pn(e,t)):n&&(t.text.className=n)}function pn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=ln(t);t.background=r.insertBefore(M("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ln(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function hn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ln(t);t.gutterBackground=M("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ln(t),s=t.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(M("div",de(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(M("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function fn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);yn(e,t,n)}function dn(e,t,n,r){var i=cn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),pn(e,t),hn(e,t,n,r),yn(e,t,r),t.node}function yn(e,t,n){if(mn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)mn(e,t.rest[r],t,n,!1)}function mn(e,t,n,r,i){if(t.widgets)for(var o=ln(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=M("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),gn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),on(l,"redraw")}}function gn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function vn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!O(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,M("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function bn(e,t){for(var n=pt(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function xn(e){return e.lineSpace.offsetTop}function wn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function _n(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,M("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function kn(e){return W-e.display.nativeBarWidth}function Sn(e){return e.display.scroller.clientWidth-kn(e)-e.display.barWidth}function Cn(e){return e.display.scroller.clientHeight-kn(e)-e.display.barHeight}function Tn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(pe(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function En(e,t,n,r){return Ln(e,An(e,t),n,r)}function Mn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[or(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function An(e,t){var n=pe(t),r=Mn(e,n);r&&!r.text?r=null:r&&r.changes&&(sn(e,r,n,er(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=pe(t=Fe(t)),r=e.display.externalMeasured=new en(e.doc,t,n);r.lineN=n;var i=r.built=Gt(e,r);return r.text=i.pre,E(e.display.lineMeasure,i.pre),r}(e,t));var i=Tn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ln(e,t,n,r,i){t.before&&(n=-1);var o,l=n+(r||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,n){var r=e.options.lineWrapping,i=r&&Sn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Pn(t.map,n,r),l=o.node,c=o.start,u=o.end,p=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&ie(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+u));)++u;if((i=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Rn(L(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,p="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=wt)return wt;var t=E(e,M("span","x")),n=t.getBoundingClientRect(),r=L(t,0,1).getBoundingClientRect();return wt=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{c>0&&(p=r="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var d=l.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+Zn(e.display),top:d.top,bottom:d.bottom}:On}for(var y=i.top-t.rect.top,m=i.bottom-t.rect.top,g=(y+m)/2,v=t.view.measure.heights,b=0;b<v.length-1&&!(g<v[b]);b++);var x=b?v[b-1]:0,w=v[b],_={left:("right"==p?i.right:i.left)-t.rect.left,right:("left"==p?i.left:i.right)-t.rect.left,top:x,bottom:w};i.left||i.right||(_.bogus=!0);e.options.singleCursorHeightPerLine||(_.rtop=y,_.rbottom=m);return _}(e,t,n,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var On={left:0,right:0,top:0,bottom:0};function Pn(e,t,n){for(var r,i,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(i=0,o=1,a="left"):t<l?o=(i=t-s)+1:(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],a="left";if("right"==n&&i==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Rn(e,t){var n=On;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function In(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Nn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)In(e.display.view[t])}function jn(e){Nn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Dn(){return u&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function zn(){return u&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Bn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=vn(e.widgets[n]));return t}function Fn(e,t,n,r,i){if(!i){var o=Bn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ke(t);if("local"==r?a+=xn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:zn());var l=s.left+("window"==r?0:Dn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Wn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Dn(),i-=zn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function $n(e,t,n,r,i){return r||(r=se(e.doc,t.line)),Fn(e,r,En(e,r,t.ch,i),n)}function Hn(e,t,n,r,i,o){r=r||se(e.doc,t.line),i||(i=An(e,r));function a(t,a){var s=Ln(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Fn(e,r,s,n)}var s=Qe(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,t,n){var r=1==s[t].level;return a(n?e-1:e,r!=n)}var p=Je(s,l,c),h=Ge,f=u(l,p,"before"==c);return null!=h&&(f.other=u(l,h,"before"!=c)),f}function qn(e,t){var n=0;t=_e(e.doc,t),e.options.lineWrapping||(n=Zn(e.display)*t.ch);var r=se(e.doc,t.line),i=Ke(r)+xn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Kn(e,t,n,r,i){var o=ye(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function Un(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Kn(r.first,0,null,!0,-1);var i=he(r,n),o=r.first+r.size-1;if(i>o)return Kn(r.first+r.size-1,se(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=se(r,i);;){var s=Xn(e,a,i,t,n),l=ze(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=pe(a=c.to.line)}}function Vn(e,t,n,r){r-=Bn(t);var i=t.text.length,o=ae(function(t){return Ln(e,n,t-1).bottom<=r},i,0);return{begin:o,end:i=ae(function(t){return Ln(e,n,t).top>r},o,i)}}function Gn(e,t,n,r){n||(n=An(e,t));return Vn(e,t,n,Fn(e,t,Ln(e,n,r),"line").top)}function Jn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Xn(e,t,n,r,i){i-=Ke(t);var o=An(e,t),a=Bn(t),s=0,l=t.text.length,c=!0,u=Qe(t,e.doc.direction);if(u){var p=(e.options.lineWrapping?function(e,t,n,r,i,o,a){var s=Vn(e,t,r,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,p=null,h=0;h<i.length;h++){var f=i[h];if(!(f.from>=c||f.to<=l)){var d=1!=f.level,y=Ln(e,r,d?Math.min(c,f.to)-1:Math.max(l,f.from)).right,m=y<o?o-y+1e9:y-o;(!u||p>m)&&(u=f,p=m)}}u||(u=i[i.length-1]);u.from<l&&(u={from:l,to:u.to,level:u.level});u.to>c&&(u={from:u.from,to:c,level:u.level});return u}:function(e,t,n,r,i,o,a){var s=ae(function(s){var l=i[s],c=1!=l.level;return Jn(Hn(e,ye(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,u=Hn(e,ye(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Jn(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l})(e,t,n,o,u,r,i);s=(c=1!=p.level)?p.from:p.to-1,l=c?p.to:p.from-1}var h,f,d=null,y=null,m=ae(function(t){var n=Ln(e,o,t);return n.top+=a,n.bottom+=a,!!Jn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(d=t,y=n),!0)},s,l),g=!1;if(y){var v=r-y.left<y.right-r,b=v==c;m=d+(b?0:1),f=b?"after":"before",h=v?y.left:y.right}else{c||m!=l&&m!=s||m++,f=0==m?"after":m==t.text.length?"before":Ln(e,o,m-(c?1:0)).bottom+a<=i==c?"after":"before";var x=Hn(e,ye(n,m,f),"line",t,o);h=x.left,g=i<x.top||i>=x.bottom}return Kn(n,m=oe(t.text,m,1),f,g,r-h)}var Qn;function Yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Qn){Qn=M("pre");for(var t=0;t<49;++t)Qn.appendChild(document.createTextNode("x")),Qn.appendChild(M("br"));Qn.appendChild(document.createTextNode("x"))}E(e.measure,Qn);var n=Qn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function Zn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M("span","xxxxxxxxxx"),n=M("pre",[t]);E(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function er(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:tr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function tr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function nr(e){var t=Yn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Zn(e.display)-3);return function(i){if(He(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function rr(e){var t=e.doc,n=nr(e);t.iter(function(e){var t=n(e);t!=e.height&&ue(e,t)})}function ir(e,t,n,r){var i=e.display;if(!n&&"true"==pt(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=Un(e,o,a);if(r&&1==c.xRel&&(l=se(e.doc,c.line).text).length==c.ch){var u=z(l,l.length,e.options.tabSize)-l.length;c=ye(c.line,Math.max(0,Math.round((o-_n(e.display).left)/Zn(e.display))-u))}return c}function or(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function ar(e){e.display.input.showSelection(e.display.input.prepareSelection())}function sr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&lr(e,s.head,i),l||ur(e,s,o)}}return r}function lr(e,t,n){var r=Hn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(M("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function cr(e,t){return e.top-t.top||e.left-t.left}function ur(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=_n(e.display),s=a.left,l=Math.max(r.sizerWidth,Sn(e)-r.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function p(t,n,r){var o,a,p=se(i,t),h=p.text.length;function f(n,r){return $n(e,ye(t,n),"div",p,r)}function d(t,n,r){var i=Gn(e,p,null,t),o="ltr"==n==("after"==r)?"left":"right";return f("after"==r?i.begin:i.end-(/\s/.test(p.text.charAt(i.end-1))?2:1),o)[o]}var y=Qe(p,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(y,n||0,null==r?h:r,function(e,t,i,p){var m="ltr"==i,g=f(e,m?"left":"right"),v=f(t-1,m?"right":"left"),b=null==n&&0==e,x=null==r&&t==h,w=0==p,_=!y||p==y.length-1;if(v.top-g.top<=3){var k=(c?x:b)&&_,S=(c?b:x)&&w?s:(m?g:v).left,C=k?l:(m?v:g).right;u(S,g.top,C-S,g.bottom)}else{var T,E,M,A;m?(T=c&&b&&w?s:g.left,E=c?l:d(e,i,"before"),M=c?s:d(t,i,"after"),A=c&&x&&_?l:v.right):(T=c?d(e,i,"before"):s,E=!c&&b&&w?l:g.right,M=!c&&x&&_?s:v.left,A=c?d(t,i,"after"):l),u(T,g.top,E-T,g.bottom),g.bottom<v.top&&u(s,g.bottom,null,v.top),u(M,v.top,A-M,v.bottom)}(!o||cr(g,o)<0)&&(o=g),cr(v,o)<0&&(o=v),(!a||cr(g,a)<0)&&(a=g),cr(v,a)<0&&(a=v)}),{start:o,end:a}}var h=t.from(),f=t.to();if(h.line==f.line)p(h.line,h.ch,f.ch);else{var d=se(i,h.line),y=se(i,f.line),m=Fe(d)==Fe(y),g=p(h.line,h.ch,m?d.text.length+1:null).end,v=p(f.line,m?0:null,f.ch).start;m&&(g.top<v.top-2?(u(g.right,g.top,null,g.bottom),u(s,v.top,v.left,v.bottom)):u(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&u(s,g.bottom,null,v.top)}n.appendChild(o)}function pr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function hr(e){e.state.focused||(e.display.input.focus(),dr(e))}function fr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yr(e))},100)}function dr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(nt(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),pr(e))}function yr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(nt(e,"blur",e,t),e.state.focused=!1,C(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function mr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(a&&s<8){var l=i.node.offsetTop+i.node.offsetHeight;o=l-n,n=l}else{var c=i.node.getBoundingClientRect();o=c.bottom-c.top}var u=i.line.height-o;if(o<2&&(o=Yn(t)),(u>.005||u<-.005)&&(ue(i.line,o),gr(i.line),i.rest))for(var p=0;p<i.rest.length;p++)gr(i.rest[p])}}}function gr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function vr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-xn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=he(t,r),a=he(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=he(t,Ke(se(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=he(t,Ke(se(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function br(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=tr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function xr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=de(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",oi(e),!0}return!1}function wr(e,t){var n=e.display,r=Yn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Cn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+wn(n),l=t.top<r,c=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=i&&(a.scrollTop=u)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Sn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>h;return f&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<p?a.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>h+p-3&&(a.scrollLeft=t.right+(f?0:10)-h),a}function _r(e,t){null!=t&&(Cr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function kr(e){Cr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Sr(e,t,n){null==t&&null==n||Cr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Cr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;Tr(e,qn(e,t.from),qn(e,t.to),t.margin)}}function Tr(e,t,n,r){var i=wr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Sr(e,i.scrollLeft,i.scrollTop)}function Er(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||ii(e,{top:t}),Mr(e,t,!0),n&&ii(e),Zr(e,100))}function Mr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ar(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,br(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Lr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+wn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Or=function(e,t,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Ze(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Ze(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Or.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Or.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Or.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Or.prototype.zeroWidthHack=function(){var e=v&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Or.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto";t.set(1e3,function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)})},Or.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Pr=function(){};Pr.prototype.update=function(){return{bottom:0,right:0}},Pr.prototype.setScrollLeft=function(){},Pr.prototype.setScrollTop=function(){},Pr.prototype.clear=function(){};function Rr(e,t){t||(t=Lr(e));var n=e.display.barWidth,r=e.display.barHeight;Ir(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&mr(e),Ir(e,Lr(e)),n=e.display.barWidth,r=e.display.barHeight}function Ir(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var Nr={native:Or,null:Pr};function jr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&C(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Nr[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ze(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Ar(e,t):Er(e,t)},e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var Dr=0;function zr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Dr},t=e.curOp,nn?nn.ops.push(t):t.ownsGroup=nn={ops:[t],delayedCallbacks:[]};var t}function Br(e){!function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{nn=null,t(n)}}(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Fr(t[n]);for(var r=0;r<t.length;r++)(i=t[r]).updatedDisplay=i.mustUpdate&&ni(i.cm,i.update);var i;for(var o=0;o<t.length;o++)Wr(t[o]);for(var a=0;a<t.length;a++)$r(t[a]);for(var s=0;s<t.length;s++)Hr(t[s])}(e)})}function Fr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=kn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ve(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ti(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Wr(e){var t=e.cm,n=t.display;e.updatedDisplay&&mr(t),e.barMeasure=Lr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=En(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Sn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function $r(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ar(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==P();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Rr(t,e.barMeasure),e.updatedDisplay&&ai(t,e.barMeasure),e.selectionChanged&&pr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&hr(e.cm)}function Hr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&ri(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Mr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Ar(t,e.scrollLeft,!0,!0),e.scrollToPos){!function(e,t){if(!rt(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=M("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-xn(e.display))+"px;\n                         height: "+(t.bottom-t.top+kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?ye(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ye(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Hn(e,t),l=n&&n!=t?Hn(e,n):s,c=wr(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),u=e.doc.scrollTop,p=e.doc.scrollLeft;if(null!=c.scrollTop&&(Er(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(Ar(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-p)>1&&(a=!0)),!a)break}return i}(t,_e(r,e.scrollToPos.from),_e(r,e.scrollToPos.to),e.scrollToPos.margin))}var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||nt(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&nt(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&nt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function qr(e,t){if(e.curOp)return t();zr(e);try{return t()}finally{Br(e)}}function Kr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);zr(e);try{return t.apply(e,arguments)}finally{Br(e)}}}function Ur(e){return function(){if(this.curOp)return e.apply(this,arguments);zr(this);try{return e.apply(this,arguments)}finally{Br(this)}}}function Vr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);zr(t);try{return e.apply(this,arguments)}finally{Br(t)}}}function Gr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ce&&We(e.doc,t)<i.viewTo&&Xr(e);else if(n<=i.viewFrom)Ce&&$e(e.doc,n+r)>i.viewFrom?Xr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Xr(e);else if(t<=i.viewFrom){var o=Qr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Xr(e)}else if(n>=i.viewTo){var a=Qr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Xr(e)}else{var s=Qr(e,t,t,-1),l=Qr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(tn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Xr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Jr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[or(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==F(a,n)&&a.push(n)}}}function Xr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Qr(e,t,n,r){var i,o=or(e,t),a=e.display.view;if(!Ce||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;We(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Yr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Zr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,j(ei,e))}function ei(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=jt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Mt(t.mode,r.state):null,l=It(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var p=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!p&&h<a.length;++h)p=a[h]!=o.styles[h];p&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Dt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Zr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&qr(e,function(){for(var t=0;t<i.length;t++)Jr(e,i[t],"text")})}}var ti=function(e,t,n){var r=e.display;this.viewport=t,this.visible=vr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Sn(e),this.force=n,this.dims=er(e),this.events=[]};ti.prototype.signal=function(e,t){ot(e,t)&&this.events.push(arguments)},ti.prototype.finish=function(){for(var e=0;e<this.events.length;e++)nt.apply(null,this.events[e])};function ni(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Xr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Yr(e))return!1;xr(e)&&(Xr(e),t.dims=er(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Ce&&(o=We(e.doc,o),a=$e(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=tn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=tn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(or(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(tn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,or(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=Ke(se(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=Yr(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=P();if(!t||!O(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&O(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,p=0;p<c.length;p++){var h=c[p];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var f=i&&null!=t&&t<=u&&h.lineNumber;h.changes&&(F(h.changes,"gutter")>-1&&(f=!1),sn(e,h,u,n)),f&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(de(e.options,u)))),a=h.node.nextSibling}else{var d=dn(e,h,u,n);o.insertBefore(d,a)}u+=h.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=P()&&(e.activeElt.focus(),e.anchorNode&&O(document.body,e.anchorNode)&&O(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Zr(e,400)),n.updateLineNumbers=null,!0}function ri(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Sn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+wn(e.display)-Cn(e),n.top)}),t.visible=vr(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&ni(e,t);r=!1){mr(e);var i=Lr(e);ar(e),Rr(e,i),ai(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ii(e,t){var n=new ti(e,t);if(ni(e,n)){mr(e),ri(e,n);var r=Lr(e);ar(e),Rr(e,r),ai(e,r),n.finish()}}function oi(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function ai(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+kn(e)+"px"}function si(e){var t=e.display.gutters,n=e.options.gutters;T(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(M("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",oi(e)}function li(e){var t=F(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}var ci=0,ui=null;a?ui=-.53:n?ui=15:u?ui=-.7:h&&(ui=-1/3);function pi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function hi(e){var t=pi(e);return t.x*=ui,t.y*=ui,t}function fi(e,t){var r=pi(t),i=r.x,o=r.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(i&&c||o&&u){if(o&&v&&l)e:for(var h=t.target,f=a.view;h!=s;h=h.parentNode)for(var d=0;d<f.length;d++)if(f[d].node==h){e.display.currentWheelTarget=h;break e}if(i&&!n&&!p&&null!=ui)return o&&u&&Er(e,Math.max(0,s.scrollTop+o*ui)),Ar(e,Math.max(0,s.scrollLeft+i*ui)),(!o||o&&u)&&st(t),void(a.wheelStartX=null);if(o&&null!=ui){var y=o*ui,m=e.doc.scrollTop,g=m+a.wrapper.clientHeight;y<0?m=Math.max(0,m+y-50):g=Math.min(e.doc.height,g+y+50),ii(e,{top:m,bottom:g})}ci<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(ui=(ui*ci+n)/(ci+1),++ci)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}var di=function(e,t){this.ranges=e,this.primIndex=t};di.prototype.primary=function(){return this.ranges[this.primIndex]},di.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ge(n.anchor,r.anchor)||!ge(n.head,r.head))return!1}return!0},di.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new yi(ve(this.ranges[t].anchor),ve(this.ranges[t].head));return new di(e,this.primIndex)},di.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},di.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(me(t,r.from())>=0&&me(e,r.to())<=0)return n}return-1};var yi=function(e,t){this.anchor=e,this.head=t};yi.prototype.from=function(){return xe(this.anchor,this.head)},yi.prototype.to=function(){return be(this.anchor,this.head)},yi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function mi(e,t){var n=e[t];e.sort(function(e,t){return me(e.from(),t.from())}),t=F(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(me(o.to(),i.from())>=0){var a=xe(o.from(),i.from()),s=be(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new yi(l?s:a,l?a:s))}}return new di(e,t)}function gi(e,t){return new di([new yi(e,t||e)],0)}function vi(e){return e.text?ye(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function bi(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return vi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=vi(t).ch-t.to.ch),ye(n,r)}function xi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new yi(bi(i.anchor,t),bi(i.head,t)))}return mi(n,e.sel.primIndex)}function wi(e,t,n){return e.line==t.line?ye(n.line,e.ch-t.ch+n.ch):ye(n.line+(e.line-t.line),e.ch)}function _i(e){e.doc.mode=Ct(e.options,e.doc.modeOption),ki(e)}function ki(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Zr(e,100),e.state.modeGen++,e.curOp&&Gr(e)}function Si(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ci(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Oe(e),Pe(e,n);var i=r?r(e):1;i!=e.height&&ue(e,i)}(e,n,i,r),on(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new qt(c[o],i(o),r));return n}var s=t.from,l=t.to,c=t.text,u=se(e,s.line),p=se(e,l.line),h=J(c),f=i(c.length-1),d=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Si(e,t)){var y=a(0,c.length-1);o(p,p.text,f),d&&e.remove(s.line,d),y.length&&e.insert(s.line,y)}else if(u==p)if(1==c.length)o(u,u.text.slice(0,s.ch)+h+u.text.slice(l.ch),f);else{var m=a(1,c.length-1);m.push(new qt(h+u.text.slice(l.ch),f,r)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),e.insert(s.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+p.text.slice(l.ch),i(0)),e.remove(s.line+1,d);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(p,h+p.text.slice(l.ch),f);var g=a(1,c.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,g)}on(e,"change",e,t)}function Ti(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,r,l))}}}(e,null,!0)}function Ei(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,rr(e),_i(e),Mi(e),e.options.lineWrapping||Ve(e),e.options.mode=t.modeOption,Gr(e)}function Mi(e){("rtl"==e.doc.direction?R:C)(e.display.lineDiv,"CodeMirror-rtl")}function Ai(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Li(e,t){var n={from:ve(t.from),to:vi(t),text:le(e,t.from,t.to)};return Ni(e,n,t.from.line,t.to.line+1),Ti(e,function(e){return Ni(e,n,t.from.line,t.to.line+1)},!0),n}function Oi(e){for(;e.length;){if(!J(e).ranges)break;e.pop()}}function Pi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(c=i,u=i.lastOp==r,o=u?(Oi(c.done),J(c.done)):c.done.length&&!J(c.done).ranges?J(c.done):c.done.length>1&&!c.done[c.done.length-2].ranges?(c.done.pop(),J(c.done)):void 0))a=J(o.changes),0==me(t.from,t.to)&&0==me(t.from,a.to)?a.to=vi(t):o.changes.push(Li(e,t));else{var l=J(i.done);for(l&&l.ranges||Ii(e.sel,i.done),o={changes:[Li(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}var c,u;i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||nt(e,"historyAdded")}function Ri(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,J(i.done),t))?i.done[i.done.length-1]=t:Ii(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Oi(i.undone)}function Ii(e,t){var n=J(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ni(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function ji(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Di(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(ji(n[i]));return r}(e,t),r=Ae(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function zi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?di.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var p in c)(u=p.match(/^spans_(\d+)$/))&&F(t,Number(u[1]))>-1&&(J(s)[p]=c[p],delete c[p])}}}return r}function Bi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=me(t,i)<0;o!=me(n,i)<0?(i=t,t=n):o!=me(t,n)<0&&(t=n)}return new yi(i,t)}return new yi(n||t,t)}function Fi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ki(e,new di([Bi(e.sel.primary(),t,n,i)],0),r)}function Wi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Bi(e.sel.ranges[o],t[o],null,i);Ki(e,mi(r,e.sel.primIndex),n)}function $i(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ki(e,mi(i,e.sel.primIndex),r)}function Hi(e,t,n,r){Ki(e,gi(t,n),r)}function qi(e,t,n){var r=e.history.done,i=J(r);i&&i.ranges?(r[r.length-1]=t,Ui(e,t,n)):Ki(e,t,n)}function Ki(e,t,n){Ui(e,t,n),Ri(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ui(e,t,n){(ot(e,"beforeSelectionChange")||e.cm&&ot(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new yi(_e(e,t[n].anchor),_e(e,t[n].head))},origin:n&&n.origin};return nt(e,"beforeSelectionChange",e,r),e.cm&&nt(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?mi(r.ranges,r.ranges.length-1):t}(e,t,n));Vi(e,Ji(e,t,n&&n.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||kr(e.cm)}function Vi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,it(e.cm)),on(e,"cursorActivity",e))}function Gi(e){Vi(e,Ji(e,e.sel,null,!1))}function Ji(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Qi(e,a.anchor,s&&s.anchor,n,r),c=Qi(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new yi(l,c))}return i?mi(i,t.primIndex):t}function Xi(e,t,n,r,i){var o=se(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(nt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c=l.find(r<0?1:-1),u=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Yi(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=me(c,n))&&(r<0?u<0:u>0))return Xi(e,c,t,r,i)}var p=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(p=Yi(e,p,r,p.line==t.line?o:null)),p?Xi(e,p,t,r,i):null}}return t}function Qi(e,t,n,r,i){var o=r||1,a=Xi(e,t,n,o,i)||!i&&Xi(e,t,n,o,!0)||Xi(e,t,n,-o,i)||!i&&Xi(e,t,n,-o,!0);return a||(e.cantEdit=!0,ye(e.first,0))}function Yi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?_e(e,ye(t.line-1)):null:n>0&&t.ch==(r||se(e,t.line)).text.length?t.line<e.first+e.size-1?ye(t.line+1,0):null:new ye(t.line,t.ch+n)}function Zi(e){e.setSelection(ye(e.firstLine(),0),ye(e.lastLine()),H)}function eo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=_e(e,t)),n&&(r.to=_e(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),nt(e,"beforeChange",e,r),e.cm&&nt(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function to(e,t,n){if(e.cm){if(!e.cm.curOp)return Kr(e.cm,to)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ot(e,"beforeChange")||e.cm&&ot(e.cm,"beforeChange"))||(t=eo(e,t,!0))){var r=Se&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=F(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(me(c.to,s.from)<0||me(c.from,s.to)>0)){var u=[l,1],p=me(c.from,s.from),h=me(c.to,s.to);(p<0||!a.inclusiveLeft&&!p)&&u.push({from:c.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)no(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else no(e,t)}}function no(e,t){if(1!=t.text.length||""!=t.text[0]||0!=me(t.from,t.to)){var n=xi(e,t);Pi(e,t,n,e.cm?e.cm.curOp.id:NaN),oo(e,t,n,Ae(e,t));var r=[];Ti(e,function(e,n){n||-1!=F(r,e.history)||(co(e.history,t),r.push(e.history)),oo(e,t,null,Ae(e,t))})}}function ro(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;(r=a.pop()).ranges;){if(Ii(r,s),n&&!r.equals(e.sel))return void Ki(e,r,{clearRedo:!1});o=r}var c=[];Ii(o,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=ot(e,"beforeChange")||e.cm&&ot(e.cm,"beforeChange"),p=function(n){var i=r.changes[n];if(i.origin=t,u&&!eo(e,i,!1))return a.length=0,{};c.push(Li(e,i));var o=n?xi(e,i):J(a);oo(e,i,o,Di(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:vi(i)});var s=[];Ti(e,function(e,t){t||-1!=F(s,e.history)||(co(e.history,i),s.push(e.history)),oo(e,i,null,Di(e,i))})},h=r.changes.length-1;h>=0;--h){var f=p(h);if(f)return f.v}}}}function io(e,t){if(0!=t&&(e.first+=t,e.sel=new di(X(e.sel.ranges,function(e){return new yi(ye(e.anchor.line+t,e.anchor.ch),ye(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Gr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Jr(e.cm,r,"gutter")}}function oo(e,t,n,r){if(e.cm&&!e.cm.curOp)return Kr(e.cm,oo)(e,t,n,r);if(t.to.line<e.first)io(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);io(e,i),t={from:ye(e.first,0),to:ye(t.to.line+i,t.to.ch),text:[J(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ye(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=le(e,t.from,t.to),n||(n=xi(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=pe(Fe(se(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0}));r.sel.contains(t.from,t.to)>-1&&it(e);Ci(r,t,n,nr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=Ue(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=se(e,r).stateAfter;if(i&&(!(i instanceof Pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}})(r,o.line),Zr(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?Gr(e):o.line!=a.line||1!=t.text.length||Si(e.doc,t)?Gr(e,o.line,a.line+1,c):Jr(e,o.line,"text");var u=ot(e,"changes"),p=ot(e,"change");if(p||u){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&on(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,r):Ci(e,t,r),Ui(e,n,H)}}function ao(e,t,n,r,i){if(r||(r=n),me(r,n)<0){var o;n=(o=[r,n])[0],r=o[1]}"string"==typeof t&&(t=e.splitLines(t)),to(e,{from:n,to:r,text:t,origin:i})}function so(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function lo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)so(o.ranges[s].anchor,t,n,r),so(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=ye(c.from.line+r,c.from.ch),c.to=ye(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function co(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;lo(e.done,n,r,i),lo(e.undone,n,r,i)}function uo(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=se(e,we(e,t)):i=pe(t),null==i?null:(r(o,i)&&e.cm&&Jr(e.cm,i,n),o)}function po(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}po.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,(o=i).parent=null,Oe(o),on(i,"delete")}var o;this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function ho(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}ho.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof po))){var s=[];this.collapse(s),this.children=[new po(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new po(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ho(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=F(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ho(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var fo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};fo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=pe(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=vn(this);ue(n,Math.max(0,n.height-o)),e&&(qr(e,function(){yo(e,n,-o),Jr(e,r,"widget")}),on(e,"lineWidgetCleared",e,this,r))}},fo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=vn(this)-t;i&&(ue(r,r.height+i),n&&qr(n,function(){n.curOp.forceUpdate=!0,yo(n,r,i),on(n,"lineWidgetChanged",n,e,pe(r))}))},at(fo);function yo(e,t,n){Ke(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&_r(e,n)}var mo=0,go=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++mo};go.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&zr(e),ot(this,"clear")){var n=this.find();n&&on(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Ee(a.markedSpans,this);e&&!this.collapsed?Jr(e,pe(a),"text"):e&&(null!=s.to&&(i=pe(a)),null!=s.from&&(r=pe(a))),a.markedSpans=Me(a.markedSpans,s),null==s.from&&this.collapsed&&!He(this.doc,a)&&e&&ue(a,Yn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Fe(this.lines[l]),u=Ue(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Gr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Gi(e.doc)),e&&on(e,"markerCleared",e,this,r,i),t&&Br(e),this.parent&&this.parent.clear()}},go.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ee(o.markedSpans,this);if(null!=a.from&&(n=ye(t?o:pe(o),a.from),-1==e))return n;if(null!=a.to&&(r=ye(t?o:pe(o),a.to),1==e))return r}return n&&{from:n,to:r}},go.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&qr(r,function(){var i=t.line,o=pe(t.line),a=Mn(r,o);if(a&&(In(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!He(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=vn(n)-s;l&&ue(i,i.height+l)}on(r,"markerChanged",r,e)})},go.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},go.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},at(go);function vo(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=D(r)).shared=!1;var o=[vo(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Ti(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(vo(e,_e(e,t),_e(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=J(o)}),new bo(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Kr(e.cm,vo)(e,t,n,r,i);var o=new go(e,i),a=me(t,n);if(r&&D(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Be(e,t.line,t,n,o)||t.line!=n.line&&Be(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&Pi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&Fe(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&ue(e,0),r=e,i=new Te(o,l==t.line?t.ch:null,l==n.line?n.ch:null),r.markedSpans=r.markedSpans?r.markedSpans.concat([i]):[i],i.marker.attachLine(r);var r,i;++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){He(e,t)&&ue(t,0)}),o.clearOnEnter&&Ze(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Se=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++mo,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)Gr(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)Jr(c,u,"text");o.atomic&&Gi(c.doc),on(c,"markerAdded",c,o)}return o}var bo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();on(this,"clear")}},bo.prototype.find=function(e,t){return this.primary.find(e,t)},at(bo);function xo(e){return e.findMarks(ye(e.first,0),e.clipPos(ye(e.lastLine())),function(e){return e.parent})}function wo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Ti(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==F(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}var _o=0,ko=function(e,t,n,r,i){if(!(this instanceof ko))return new ko(e,t,n,r,i);null==n&&(n=0),ho.call(this,[new po([new qt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ye(n,0);this.sel=gi(o),this.history=new Ai(null),this.id=++_o,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ci(this,{from:o,to:o,text:e}),Ki(this,gi(o),H)};ko.prototype=Y(ho.prototype,{constructor:ko,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ce(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Vr(function(e){var t=ye(this.first,0),n=this.first+this.size-1;to(this,{from:t,to:ye(n,se(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Sr(this.cm,0,0),Ki(this,gi(t),H)}),replaceRange:function(e,t,n,r){ao(this,e,t=_e(this,t),n=n?_e(this,n):t,r)},getRange:function(e,t,n){var r=le(this,_e(this,e),_e(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(fe(this,e))return se(this,e)},getLineNumber:function(e){return pe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),Fe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return _e(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Vr(function(e,t,n){Hi(this,_e(this,"number"==typeof e?ye(e,t||0):e),null,n)}),setSelection:Vr(function(e,t,n){Hi(this,_e(this,e),_e(this,t||e),n)}),extendSelection:Vr(function(e,t,n){Fi(this,_e(this,e),t&&_e(this,t),n)}),extendSelections:Vr(function(e,t){Wi(this,ke(this,e),t)}),extendSelectionsBy:Vr(function(e,t){Wi(this,ke(this,X(this.sel.ranges,e)),t)}),setSelections:Vr(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new yi(_e(this,e[i].anchor),_e(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ki(this,mi(r,t),n)}}),addSelection:Vr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new yi(_e(this,e),_e(this,t||e))),Ki(this,mi(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=le(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=le(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Vr(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=ye(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=wi(s.from,i,o),c=wi(vi(s),i,o);if(i=s.to,o=c,"around"==n){var u=e.sel.ranges[a],p=me(u.head,u.anchor)<0;r[a]=new yi(p?c:l,p?l:c)}else r[a]=new yi(l,l)}return new di(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)to(this,r[l]);s?qi(this,s):this.cm&&kr(this.cm)}),undo:Vr(function(){ro(this,"undo")}),redo:Vr(function(){ro(this,"redo")}),undoSelection:Vr(function(){ro(this,"undo",!0)}),redoSelection:Vr(function(){ro(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Ai(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:zi(this.history.done),undone:zi(this.history.undone)}},setHistory:function(e){var t=this.history=new Ai(this.history.maxGeneration);t.done=zi(e.done.slice(0),null,!0),t.undone=zi(e.undone.slice(0),null,!0)},setGutterMarker:Vr(function(e,t,n){return uo(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ne(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Vr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&uo(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!fe(this,e))return null;if(t=e,!(e=se(this,e)))return null}else if(null==(t=pe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Vr(function(e,t,n){return uo(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(S(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Vr(function(e,t,n){return uo(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(S(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Vr(function(e,t,n){return function(e,t,n,r){var i=new fo(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),uo(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!He(e,t)){var r=Ke(t)<e.scrollTop;ue(t,t.height+vn(i)),r&&_r(o,i.height),o.curOp.forceUpdate=!0}return!0}),on(o,"lineWidgetAdded",o,i,"number"==typeof t?t:pe(t)),i}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return vo(this,_e(this,e),_e(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return vo(this,e=_e(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=se(this,(e=_e(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=_e(this,e),t=_e(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),_e(this,ye(n,t))},indexFromPos:function(e){var t=(e=_e(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new ko(ce(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ko(ce(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(me(o,a)){var s=vo(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,xo(this)),r},unlinkDoc:function(e){if(e instanceof xa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),wo(xo(this));break}}if(e.history==this.history){var n=[e.id];Ti(e,function(e){return n.push(e.id)},!0),e.history=new Ai(null),e.history.done=zi(this.history.done,n),e.history.undone=zi(this.history.undone,n)}},iterLinkedDocs:function(e){Ti(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):vt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Vr(function(e){if("rtl"!=e&&(e="ltr"),e!=this.direction){this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&qr(t=this.cm,function(){Mi(t),Gr(t)});var t}})}),ko.prototype.eachLine=ko.prototype.iter;var So=0;function Co(e){var t=this;if(To(t),!rt(t,e)&&!bn(t.display,e)){st(e),a&&(So=+new Date);var n=ir(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(e,r){if(!t.options.allowDropFileTypes||-1!=F(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Kr(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){var l={from:n=_e(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};to(t.doc,l),qi(t.doc,gi(n,vi(l)))}}),a.readAsText(e)}},c=0;c<i;++c)l(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),Ui(t.doc,gi(n,n)),p)for(var h=0;h<p.length;++h)ao(t.doc,"",p[h].anchor,p[h].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function To(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}var Mo=!1;function Ao(){Mo||(!function(){var e;Ze(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Eo(Lo)},100))}),Ze(window,"blur",function(){return Eo(yr)})}(),Mo=!0)}function Lo(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}for(var Oo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Po=0;Po<10;Po++)Oo[Po+48]=Oo[Po+96]=String(Po);for(var Ro=65;Ro<=90;Ro++)Oo[Ro]=String.fromCharCode(Ro);for(var Io=1;Io<=12;Io++)Oo[Io+111]=Oo[Io+63235]="F"+Io;var No={};No.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},No.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},No.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},No.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},No.default=v?No.macDefault:No.pcDefault;function jo(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Do(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),jo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function zo(e,t,n,r){var i=(t=$o(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return zo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=zo(e,t.fallthrough[o],n,r);if(a)return a}}}function Bo(e){var t="string"==typeof e?e:Oo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Fo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Wo(e,t){if(p&&34==e.keyCode&&e.char)return!1;var n=Oo[e.keyCode];return null!=n&&!e.altGraphKey&&Fo(n,e,t)}function $o(e){return"string"==typeof e?No[e]:e}function Ho(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&me(o.from,J(r).to)<=0;){var a=r.pop();if(me(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}qr(e,function(){for(var t=r.length-1;t>=0;t--)ao(e.doc,"",r[t].from,r[t].to,"+delete");kr(e)})}function qo(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ko(e,t,n){var r=qo(e,t.ch,n);return null==r?null:new ye(t.line,r,n<0?"after":"before")}function Uo(e,t,n,r,i){if(e){var o=Qe(n,t.doc.direction);if(o){var a,s=i<0?J(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=An(t,n);a=i<0?n.text.length-1:0;var u=Ln(t,c,a).top;a=ae(function(e){return Ln(t,c,e).top==u},i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=qo(n,a,1))}else a=i<0?s.to:s.from;return new ye(r,a,l)}}return new ye(r,i<0?n.text.length:0,i<0?"before":"after")}var Vo={selectAll:Zi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return Ho(e,function(t){if(t.empty()){var n=se(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ye(t.head.line+1,0)}:{from:t.head,to:ye(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Ho(e,function(t){return{from:ye(t.from().line,0),to:_e(e.doc,ye(t.to().line+1,0))}})},delLineLeft:function(e){return Ho(e,function(e){return{from:ye(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Ho(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ye(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ye(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Go(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=se(e.doc,t),r=function(e){for(var t;t=ze(e);)e=t.find(1,!0).line;return e}(n);r!=n&&(t=pe(r));return Uo(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},K)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},K)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Jo(e,t.head):r},K)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=z(e.getLine(o.line),o.ch,r);t.push(G(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return qr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=se(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ye(i.line,i.ch-1)),i.ch>0)i=new ye(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ye(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=se(e.doc,i.line-1).text;a&&(i=new ye(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ye(i.line-1,a.length-1),i,"+transpose"))}n.push(new yi(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return qr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);kr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Go(e,t){var n=se(e.doc,t),r=Fe(n);return r!=n&&(t=pe(r)),Uo(!0,e,r,t,1)}function Jo(e,t){var n=Go(e,t.line),r=se(e.doc,n.line),i=Qe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ye(n.line,a?0:o,n.sticky)}return n}function Xo(e,t,n){if("string"==typeof t&&!(t=Vo[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=$}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var Qo=new B;function Yo(e,t,n,r){var i=e.state.keySeq;if(i){if(Bo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Qo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Zo(e,i+" "+t,n,r))return!0}return Zo(e,t,n,r)}function Zo(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=zo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&zo(t,e.options.extraKeys,n,e)||zo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&on(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(st(n),pr(e)),!!i}function ea(e,t){var n=Wo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Yo(e,"Shift-"+n,t,function(t){return Xo(e,t,!0)})||Yo(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Xo(e,t)}):Yo(e,n,t,function(t){return Xo(e,t)}))}var ta=null;function na(e){if(this.curOp.focus=P(),!rt(this,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var n=ea(this,e);p&&(ta=n?t:null,!n&&88==t&&!xt&&(v?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||function(e){var t=e.display.lineDiv;R(t,"CodeMirror-crosshair");function n(e){18!=e.keyCode&&e.altKey||(C(t,"CodeMirror-crosshair"),tt(document,"keyup",n),tt(document,"mouseover",n))}Ze(document,"keyup",n),Ze(document,"mouseover",n)}(this)}}function ra(e){16==e.keyCode&&(this.doc.sel.shift=!1),rt(this,e)}function ia(e){if(!(bn(this.display,e)||rt(this,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var t=e.keyCode,n=e.charCode;if(p&&t==ta)return ta=null,void st(e);if(!p||e.which&&!(e.which<10)||!ea(this,e)){var r=String.fromCharCode(null==n?t:n);if("\b"!=r&&!Yo(i=this,"'"+r+"'",e,function(e){return Xo(i,e,!0)})){var i;this.display.input.onKeyPress(e)}}}}var oa=function(e,t,n){this.time=e,this.pos=t,this.button=n};oa.prototype.compare=function(e,t,n){return this.time+400>e&&0==me(t,this.pos)&&n==this.button};var aa,sa;function la(e){var t=this.display;if(!(rt(this,e)||t.activeTouch&&t.input.supportsTouch()))if(t.input.ensurePolled(),t.shift=e.shiftKey,bn(t,e))l||(t.scroller.draggable=!1,setTimeout(function(){return t.scroller.draggable=!0},100));else if(!pa(this,e)){var n=ir(this,e),r=ht(e),i=n?function(e,t){var n=+new Date;return sa&&sa.compare(n,e,t)?(aa=sa=null,"triple"):aa&&aa.compare(n,e,t)?(sa=new oa(n,e,t),aa=null,"double"):(aa=new oa(n,e,t),sa=null,"single")}(n,r):"single";window.focus(),1==r&&this.state.selectingText&&this.state.selectingText(e),n&&function(e,t,n,r,i){var o="Click";"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o);return Yo(e,Fo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Vo[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=$}finally{e.state.suppressEdits=!1}return r})}(this,r,n,i,e)||(1==r?n?function(e,t,n,r){a?setTimeout(j(hr,e),0):e.curOp.focus=P();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey);null==i.addNew&&(i.addNew=v?n.metaKey:n.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(v?n.altKey:n.ctrlKey));return i}(e,n,r),c=e.doc.sel;e.options.dragDrop&&dt&&!e.isReadOnly()&&"single"==n&&(i=c.contains(t))>-1&&(me((i=c.ranges[i]).from(),t)<0||t.xRel>0)&&(me(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,c=Kr(e,function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,tt(document,"mouseup",c),tt(document,"mousemove",u),tt(i.scroller,"dragstart",p),tt(i.scroller,"drop",c),o||(st(t),r.addNew||Fi(e.doc,n,null,null,r.extend),l||a&&9==s?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},p=function(){return o=!0};l&&(i.scroller.draggable=!0);e.state.draggingText=c,c.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop();Ze(document,"mouseup",c),Ze(document,"mousemove",u),Ze(i.scroller,"dragstart",p),Ze(i.scroller,"drop",c),fr(e),setTimeout(function(){return i.input.focus()},20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;st(t);var a,s,l=o.sel,c=l.ranges;r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?c[s]:new yi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex);if("rectangle"==r.unit)r.addNew||(a=new yi(n,n)),n=ir(e,t,!0,!0),s=-1;else{var u=ca(e,n,r.unit);a=r.extend?Bi(a,u.anchor,u.head,r.extend):u}r.addNew?-1==s?(s=c.length,Ki(o,mi(c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==r.unit&&!r.extend?(Ki(o,mi(c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):$i(o,s,a,q):(s=0,Ki(o,new di([a],0),q),l=o.sel);var p=n;function h(t){if(0!=me(p,t))if(p=t,"rectangle"==r.unit){for(var i=[],c=e.options.tabSize,u=z(se(o,n.line).text,n.ch,c),h=z(se(o,t.line).text,t.ch,c),f=Math.min(u,h),d=Math.max(u,h),y=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));y<=m;y++){var g=se(o,y).text,v=U(g,f,c);f==d?i.push(new yi(ye(y,v),ye(y,v))):g.length>v&&i.push(new yi(ye(y,v),ye(y,U(g,d,c))))}i.length||i.push(new yi(n,n)),Ki(o,mi(l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,x=a,w=ca(e,t,r.unit),_=x.anchor;me(w.anchor,_)>0?(b=w.head,_=xe(x.from(),w.anchor)):(b=w.anchor,_=be(x.to(),w.head));var k=l.ranges.slice(0);k[s]=function(e,t){var n=t.anchor,r=t.head,i=se(e.doc,n.line);if(0==me(n,r)&&n.sticky==r.sticky)return t;var o=Qe(i);if(!o)return t;var a=Je(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;var c;if(r.line!=n.line)c=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=Je(o,r.ch,r.sticky),p=u-a||(r.ch-n.ch)*(1==s.level?-1:1);c=u==l-1||u==l?p<0:p>0}var h=o[l+(c?-1:0)],f=c==(1==h.level),d=f?h.from:h.to,y=f?"after":"before";return n.ch==d&&n.sticky==y?t:new yi(new ye(n.line,d,y),r)}(e,new yi(_e(o,_),b)),Ki(o,mi(k,s),q)}}var f=i.wrapper.getBoundingClientRect(),d=0;function y(t){e.state.selectingText=!1,d=1/0,st(t),i.input.focus(),tt(document,"mousemove",m),tt(document,"mouseup",g),o.history.lastSelOrigin=null}var m=Kr(e,function(t){ht(t)?function t(n){var a=++d;var s=ir(e,n,!0,"rectangle"==r.unit);if(!s)return;if(0!=me(s,p)){e.curOp.focus=P(),h(s);var l=vr(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Kr(e,function(){d==a&&t(n)}),150)}else{var c=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;c&&setTimeout(Kr(e,function(){d==a&&(i.scroller.scrollTop+=c,t(n))}),50)}}(t):y(t)}),g=Kr(e,y);e.state.selectingText=g,Ze(document,"mousemove",m),Ze(document,"mouseup",g)}(e,r,t,o)}(this,n,i,e):pt(e)==t.scroller&&st(e):2==r?(n&&Fi(this.doc,n),setTimeout(function(){return t.input.focus()},20)):3==r&&(k?ha(this,e):fr(this)))}}function ca(e,t,n){if("char"==n)return new yi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new yi(ye(t.line,0),_e(e.doc,ye(t.line+1,0)));var r=n(e,t);return new yi(r.from,r.to)}function ua(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&st(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ot(e,n))return ct(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){return nt(e,n,e,he(e.doc,o),e.options.gutters[l],t),ct(t)}}}function pa(e,t){return ua(e,t,"gutterClick",!0)}function ha(e,t){bn(e.display,t)||function(e,t){if(!ot(e,"gutterContextMenu"))return!1;return ua(e,t,"gutterContextMenu",!1)}(e,t)||rt(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function fa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jn(e)}var da={toString:function(){return"CodeMirror.Init"}},ya={},ma={};function ga(e){si(e),Gr(e),br(e)}function va(e,t,n){if(!t!=!(n&&n!=da)){var r=e.display.dragFunctions,i=t?Ze:tt;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function ba(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(C(e.display.wrapper,"CodeMirror-wrap"),Ve(e)),rr(e),Gr(e),jn(e),setTimeout(function(){return Rr(e)},100)}function xa(e,t){var r=this;if(!(this instanceof xa))return new xa(e,t);this.options=t=t?D(t):{},D(ya,t,!1),li(t);var i=t.value;"string"==typeof i&&(i=new ko(i,t.mode,null,t.lineSeparator,t.direction)),this.doc=i;var o=new xa.inputStyles[t.inputStyle](this),c=this.display=new function(e,t,r){this.input=r,this.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),this.scrollbarFiller.setAttribute("cm-not-content","true"),this.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),this.gutterFiller.setAttribute("cm-not-content","true"),this.lineDiv=A("div",null,"CodeMirror-code"),this.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),this.cursorDiv=M("div",null,"CodeMirror-cursors"),this.measure=M("div",null,"CodeMirror-measure"),this.lineMeasure=M("div",null,"CodeMirror-measure"),this.lineSpace=A("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var i=A("div",[this.lineSpace],"CodeMirror-lines");this.mover=M("div",[i],null,"position: relative"),this.sizer=M("div",[this.mover],"CodeMirror-sizer"),this.sizerWidth=null,this.heightForcer=M("div",null,null,"position: absolute; height: "+W+"px; width: 1px;"),this.gutters=M("div",null,"CodeMirror-gutters"),this.lineGutter=null,this.scroller=M("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll"),this.scroller.setAttribute("tabIndex","-1"),this.wrapper=M("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror"),a&&s<8&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0),l||n&&g||(this.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(this.wrapper):e(this.wrapper)),this.viewFrom=this.viewTo=t.first,this.reportedViewFrom=this.reportedViewTo=t.first,this.view=[],this.renderedView=null,this.externalMeasured=null,this.viewOffset=0,this.lastWrapHeight=this.lastWrapWidth=0,this.updateLineNumbers=null,this.nativeBarWidth=this.barHeight=this.barWidth=0,this.scrollbarsClipped=!1,this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null,this.alignWidgets=!1,this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null,this.maxLine=null,this.maxLineLength=0,this.maxLineChanged=!1,this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null,this.shift=!1,this.selForContextMenu=null,this.activeTouch=null,r.init(this)}(e,i,o);c.wrapper.CodeMirror=this,si(this),fa(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!g&&c.input.focus(),a&&s<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(e){var t=e.display;Ze(t.scroller,"mousedown",Kr(e,la)),Ze(t.scroller,"dblclick",a&&s<11?Kr(e,function(t){if(!rt(e,t)){var n=ir(e,t);if(n&&!pa(e,t)&&!bn(e.display,t)){st(t);var r=e.findWordAt(n);Fi(e.doc,r.anchor,r.head)}}}):function(t){return rt(e,t)||st(t)});k||Ze(t.scroller,"contextmenu",function(t){return ha(e,t)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}Ze(t.scroller,"touchstart",function(i){if(!rt(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!pa(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),Ze(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Ze(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!bn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new yi(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new yi(ye(s.line,0),_e(e.doc,ye(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),st(n)}i()}),Ze(t.scroller,"touchcancel",i),Ze(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Er(e,t.scroller.scrollTop),Ar(e,t.scroller.scrollLeft,!0),nt(e,"scroll",e))}),Ze(t.scroller,"mousewheel",function(t){return fi(e,t)}),Ze(t.scroller,"DOMMouseScroll",function(t){return fi(e,t)}),Ze(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){rt(e,t)||ut(t)},over:function(t){rt(e,t)||(!function(e,t){var n=ir(e,t);if(n){var r=document.createDocumentFragment();lr(e,n,r),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,r)}}(e,t),ut(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-So<100))ut(t);else if(!rt(e,t)&&!bn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}(e,t)},drop:Kr(e,Co),leave:function(t){rt(e,t)||To(e)}};var l=t.input.getField();Ze(l,"keyup",function(t){return ra.call(e,t)}),Ze(l,"keydown",Kr(e,na)),Ze(l,"keypress",Kr(e,ia)),Ze(l,"focus",function(t){return dr(e,t)}),Ze(l,"blur",function(t){return yr(e,t)})}(this),Ao(),zr(this),this.curOp.forceUpdate=!0,Ei(this,i),t.autofocus&&!g||this.hasFocus()?setTimeout(j(dr,this),20):yr(this);for(var u in ma)ma.hasOwnProperty(u)&&ma[u](r,t[u],da);xr(this),t.finishInit&&t.finishInit(this);for(var f=0;f<wa.length;++f)wa[f](r);Br(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}xa.defaults=ya,xa.optionHandlers=ma;var wa=[];xa.defineInitHook=function(e){return wa.push(e)};function _a(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=jt(e,t).state:n="prev");var a=e.options.tabSize,s=se(o,t),l=z(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(i,s.text.slice(u.length),s.text))==$||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?z(se(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var p="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/a);f;--f)h+=a,p+="\t";if(h<c&&(p+=G(c-h)),p!=u)return ao(o,p,ye(t,0),ye(t,u.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var y=o.sel.ranges[d];if(y.head.line==t&&y.head.ch<u.length){var m=ye(t,u.length);$i(o,d,new yi(m,m));break}}}var ka=null;function Sa(e){ka=e}function Ca(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=vt(t),l=null;if(a&&r.ranges.length>1)if(ka&&ka.text.join("\n")==t){if(r.ranges.length%ka.text.length==0){l=[];for(var c=0;c<ka.text.length;c++)l.push(o.splitLines(ka.text[c]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(l=X(s,function(e){return[e]}));for(var u,p=r.ranges.length-1;p>=0;p--){var h=r.ranges[p],f=h.from(),d=h.to();h.empty()&&(n&&n>0?f=ye(f.line,f.ch-n):e.state.overwrite&&!a?d=ye(d.line,Math.min(se(o,d.line).text.length,d.ch+J(s).length)):ka&&ka.lineWise&&ka.text.join("\n")==t&&(f=d=ye(f.line,0))),u=e.curOp.updateInput;var y={from:f,to:d,text:l?l[p%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};to(e.doc,y),on(e,"inputRead",e,y)}t&&!a&&Ea(e,t),kr(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Ta(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||qr(t,function(){return Ca(t,n,0,null,"paste")}),!0}function Ea(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=_a(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=_a(e,i.head.line,"smart"));a&&on(e,"electricInput",e,i.head.line)}}}function Ma(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ye(i,0),head:ye(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Aa(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function La(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),y&&(e.style.border="1px solid black"),Aa(e),t}function Oa(e,t,n,r,i){var o=t,a=n,s=se(e,t.line);function l(r){var o;if(null==(o=i?function(e,t,n,r){var i=Qe(t,e.doc.direction);if(!i)return Ko(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Je(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ko(t,n,r);var s,l=function(e,n){return qo(t,e instanceof ye?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||An(e,t),Gn(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var p=1==a.level==r<0,h=l(n,p?1:-1);if(null!=h&&(p?h<=a.to&&h<=u.end:h>=a.from&&h>=u.begin)){var f=p?"before":"after";return new ye(n.line,h,f)}}var d=function(e,t,r){for(var o=function(e,t){return t?new ye(n.line,l(e,1),"before"):new ye(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),c=s?r.begin:l(r.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),r.begin<=c&&c<r.end)return o(c,s)}},y=d(o+r,r,u);if(y)return y;var m=r>0?u.end:l(u.begin,-1);return null==m||r>0&&m==t.text.length||!(y=d(r>0?0:i.length-1,r,c(m)))?null:y}(e.cm,s,t,n):Ko(s,t,n))){if(r||!function(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new ye(r,t.ch,t.sticky),s=se(e,r))}())return!1;t=Uo(i,e.cm,s,t.line,n)}else t=o;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var c=null,u="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||l(!h);h=!1){var f=s.text.charAt(t.ch)||"\n",d=te(f,p)?"w":u&&"\n"==f?"n":!u||/\s/.test(f)?null:"p";if(!u||h||d||(d="s"),c&&c!=d){n<0&&(n=1,l(),t.sticky="after");break}if(d&&(c=d),n>0&&!l(!h))break}var y=Qi(e,t,o,a,!0);return ge(o,y)&&(y.hitSide=!0),y}function Pa(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*Yn(e.display),3);i=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var c;(c=Un(e,a,i)).outside;){if(n<0?i<=0:i>=o.height){c.hitSide=!0;break}i+=5*n}return c}var Ra=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ra.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;Aa(i,r.options.spellcheck),Ze(i,"paste",function(e){rt(r,e)||Ta(e,r)||s<=11&&setTimeout(Kr(r,function(){return t.updateFromDOM()}),20)}),Ze(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),Ze(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),Ze(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Ze(i,"touchstart",function(){return n.forceCompositionEnd()}),Ze(i,"input",function(){t.composing||t.readFromDOMSoon()});function o(e){if(!rt(r,e)){if(r.somethingSelected())Sa({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ma(r);Sa({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,H),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=ka.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=La(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=ka.text.join("\n");var l=document.activeElement;N(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&n.showPrimarySelection()},50)}}Ze(i,"copy",o),Ze(i,"cut",o)},Ra.prototype.prepareSelection=function(){var e=sr(this.cm,!1);return e.focus=this.cm.state.focused,e},Ra.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ra.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=ja(t,e.anchorNode,e.anchorOffset),s=ja(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=me(xe(a,s),i)||0!=me(be(a,s),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&Ia(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Ia(t,o);if(!u){var p=l[l.length-1].measure,h=p.maps?p.maps[p.maps.length-1]:p.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var f,d=e.rangeCount&&e.getRangeAt(0);try{f=L(c.node,c.offset,u.offset,u.node)}catch(e){}f&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),d&&null==e.anchorNode?e.addRange(d):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ra.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ra.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Ra.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ra.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return O(this.div,t)},Ra.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ra.prototype.blur=function(){this.div.blur()},Ra.prototype.getField=function(){return this.div},Ra.prototype.supportsTouch=function(){return!0},Ra.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():qr(this.cm,function(){return e.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ra.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ra.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(m&&u&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ja(t,e.anchorNode,e.anchorOffset),r=ja(t,e.focusNode,e.focusOffset);n&&r&&qr(t,function(){Ki(t.doc,gi(n,r),H),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ra.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=ye(r.line-1,se(e.doc,r.line-1).length)),i.ch==se(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=ye(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,s;r.line==t.viewFrom||0==(o=or(e,r.line))?(a=pe(t.view[0].line),s=t.view[0].node):(a=pe(t.view[o].line),s=t.view[o-1].node.nextSibling);var l,c,u=or(e,i.line);if(u==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=pe(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling),!s)return!1;for(var p=e.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator();function l(){a&&(o+=s,a=!1)}function c(e){e&&(l(),o+=e)}function u(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void c(n||t.textContent.replace(/\u200b/g,""));var o,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(ye(r,0),ye(i+1,0),(y=+p,function(e){return e.id==y}));return void(h.length&&(o=h[0].find(0))&&c(le(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p)$/i.test(t.nodeName);f&&l();for(var d=0;d<t.childNodes.length;d++)u(t.childNodes[d]);f&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue);var y}for(;u(t),t!=n;)t=t.nextSibling;return o}(e,s,c,a,l)),h=le(e.doc,ye(a,0),ye(l,se(e.doc,l).text.length));p.length>1&&h.length>1;)if(J(p)==J(h))p.pop(),h.pop(),l--;else{if(p[0]!=h[0])break;p.shift(),h.shift(),a++}for(var f=0,d=0,y=p[0],m=h[0],g=Math.min(y.length,m.length);f<g&&y.charCodeAt(f)==m.charCodeAt(f);)++f;for(var v=J(p),b=J(h),x=Math.min(v.length-(1==p.length?f:0),b.length-(1==h.length?f:0));d<x&&v.charCodeAt(v.length-d-1)==b.charCodeAt(b.length-d-1);)++d;if(1==p.length&&1==h.length&&a==r.line)for(;f&&f>r.ch&&v.charCodeAt(v.length-d-1)==b.charCodeAt(b.length-d-1);)f--,d++;p[p.length-1]=v.slice(0,v.length-d).replace(/^\u200b+/,""),p[0]=p[0].slice(f).replace(/\u200b+$/,"");var w=ye(a,f),_=ye(l,h.length?J(h).length-d:0);return p.length>1||p[0]||me(w,_)?(ao(e.doc,p,w,_,"+input"),!0):void 0},Ra.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ra.prototype.reset=function(){this.forceCompositionEnd()},Ra.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ra.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ra.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||qr(this.cm,function(){return Gr(e.cm)})},Ra.prototype.setUneditable=function(e){e.contentEditable="false"},Ra.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||Kr(this.cm,Ca)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ra.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ra.prototype.onContextMenu=function(){},Ra.prototype.resetPosition=function(){},Ra.prototype.needsContentAttribute=!0;function Ia(e,t){var n=Mn(e,t.line);if(!n||n.hidden)return null;var r=se(e.doc,t.line),i=Tn(n,r,t.line),o=Qe(r,e.doc.direction),a="left";if(o){a=Je(o,t.ch)%2?"right":"left"}var s=Pn(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Na(e,t){return t&&(e.bad=!0),e}function ja(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Na(e.clipPos(ye(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Da(o,t,n)}}function Da(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!O(r,t))return Na(ye(pe(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?J(e.rest):e.line;return Na(ye(pe(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=pe(i<0?e.line:e.rest[i]),p=o[a]+r;return(r<0||s!=t)&&(p=o[a+(r?1:0)]),ye(u,p)}}}var p=u(a,s,n);if(p)return Na(p,i);for(var h=s.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(p=u(h,h.firstChild,0))return Na(ye(p.line,p.ch-f),i);f+=h.textContent.length}for(var d=s.previousSibling,y=n;d;d=d.previousSibling){if(p=u(d,d.firstChild,-1))return Na(ye(p.line,p.ch+y),i);y+=d.textContent.length}}var za=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};za.prototype.init=function(e){var t=this,n=this,r=this.cm,i=this.wrapper=La(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),y&&(o.style.width="0px"),Ze(o,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),Ze(o,"paste",function(e){rt(r,e)||Ta(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())});function l(e){if(!rt(r,e)){if(r.somethingSelected())Sa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ma(r);Sa({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,H):(n.prevInput="",o.value=t.text.join("\n"),N(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}Ze(o,"cut",l),Ze(o,"copy",l),Ze(e.scroller,"paste",function(t){bn(e,t)||rt(r,t)||(r.state.pasteIncoming=!0,n.focus())}),Ze(e.lineSpace,"selectstart",function(t){bn(e,t)||st(t)}),Ze(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Ze(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},za.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=sr(e);if(e.options.moveInputWithCursor){var i=Hn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},za.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},za.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&N(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},za.prototype.getField=function(){return this.textarea},za.prototype.supportsTouch=function(){return!1},za.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||P()!=this.textarea))try{this.textarea.focus()}catch(e){}},za.prototype.blur=function(){this.textarea.blur()},za.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},za.prototype.receivedFocus=function(){this.slowPoll()},za.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},za.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},za.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||bt(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||v&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return qr(t,function(){Ca(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},za.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},za.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},za.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea,o=ir(n,e),c=r.scroller.scrollTop;if(o&&!p){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Kr(n,Ki)(n.doc,gi(o),H);var u=i.style.cssText,h=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var f=t.wrapper.getBoundingClientRect();i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(l&&(d=window.scrollY),r.input.focus(),l&&window.scrollTo(null,d),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&m(),k){ut(e);var y=function(){tt(window,"mouseup",y),setTimeout(g,20)};Ze(window,"mouseup",y)}else setTimeout(g,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function g(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=h,i.style.cssText=u,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart){(!a||a&&s<9)&&m();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Kr(n,Zi)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},za.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},za.prototype.setUneditable=function(){},za.prototype.needsContentAttribute=!1;!function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=da&&i(e,t,n)}:i)}e.defineOption=n,e.Init=da,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,_i(e)},!0),n("indentUnit",2,_i,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){ki(e),jn(e),Gr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(ye(r,o))}r++});for(var i=n.length-1;i>=0;i--)ao(e.doc,t,n[i],ye(n[i].line,n[i].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=da&&e.refresh()}),n("specialCharPlaceholder",Jt,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",g?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){fa(e),ga(e)},!0),n("keyMap","default",function(e,t,n){var r=$o(t),i=n!=da&&$o(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,ba,!0),n("gutters",[],function(e){li(e.options),ga(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?tr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Rr(e)},!0),n("scrollbarStyle","native",function(e){jr(e),Rr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){li(e.options),ga(e)},!0),n("firstLineNumber",1,ga,!0),n("lineNumberFormatter",function(e){return e},ga,!0),n("showCursorWhenSelecting",!1,ar,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("readOnly",!1,function(e,t){"nocursor"==t&&(yr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,va),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,ar,!0),n("singleCursorHeightPerLine",!0,ar,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,ki,!0),n("addModeClass",!1,ki,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,ki,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(xa),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Kr(this,t[e])(this,n,i),nt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"]($o(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ur(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Gr(this)}),removeOverlay:Ur(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Gr(this)}}),indentLine:Ur(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),fe(this.doc,e)&&_a(this,e,t,n)}),indentSelection:Ur(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(_a(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&kr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)_a(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&$i(this.doc,r,new yi(o,c[r].to()),H)}}}),getTokenAt:function(e,t){return Wt(this,e,t)},getLineTokens:function(e,t){return Wt(this,ye(e),t,!0)},getTokenTypeAt:function(e){e=_e(this.doc,e);var t,n=Nt(this,se(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==F(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return jt(this,(e=we(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Hn(this,null==e?n.head:"object"==typeof e?_e(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return $n(this,_e(this.doc,e),t||"page")},coordsChar:function(e,t){return Un(this,(e=Wn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Wn(this,{top:e,left:0},t||"page").top,he(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=se(this.doc,e)}else r=e;return Fn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Ke(r):0)},defaultTextHeight:function(){return Yn(this.display)},defaultCharWidth:function(){return Zn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=Hn(this,_e(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&function(e,t){var n=wr(e,t);null!=n.scrollTop&&Er(e,n.scrollTop),null!=n.scrollLeft&&Ar(e,n.scrollLeft)}(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Ur(na),triggerOnKeyPress:Ur(ia),triggerOnKeyUp:ra,triggerOnMouseDown:Ur(la),execCommand:function(e){if(Vo.hasOwnProperty(e))return Vo[e].call(null,this)},triggerElectric:Ur(function(e){Ea(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=_e(this.doc,e),a=0;a<t&&!(o=Oa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Ur(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Oa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},K)}),deleteH:Ur(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Ho(this,function(n){var i=Oa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=_e(this.doc,e),s=0;s<t;++s){var l=Hn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Pa(this,l,i,n)).hitSide)break}return a},moveV:Ur(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=Hn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Pa(n,s,e,t);return"page"==t&&a==r.sel.primary()&&_r(n,$n(n,l,"div").top-s.top),l},K),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=se(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new yi(ye(e.line,n),ye(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),nt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ur(function(e,t){Sr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-kn(this)-this.display.barHeight,width:e.scrollWidth-kn(this)-this.display.barWidth,clientHeight:Cn(this),clientWidth:Sn(this)}},scrollIntoView:Ur(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ye(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(r=e,Cr(n=this),n.curOp.scrollToPos=r):Tr(this,e.from,e.to,e.margin);var n,r}),setSize:Ur(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Nn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Jr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,nt(this,"refresh",this)}),operation:function(e){return qr(this,e)},startOperation:function(){return zr(this)},endOperation:function(){return Br(this)},refresh:Ur(function(){var e=this.display.cachedTextHeight;Gr(this),this.curOp.forceUpdate=!0,jn(this),Sr(this,this.doc.scrollLeft,this.doc.scrollTop),oi(this),(null==e||Math.abs(e-Yn(this.display))>.5)&&rr(this),nt(this,"refresh",this)}),swapDoc:Ur(function(e){var t=this.doc;return t.cm=null,Ei(this,e),jn(this),this.display.input.reset(),Sr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,on(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(xa);var Ba="iter insert remove copy getEditor constructor".split(" ");for(var Fa in ko.prototype)ko.prototype.hasOwnProperty(Fa)&&F(Ba,Fa)<0&&(xa.prototype[Fa]=function(e){return function(){return e.apply(this.doc,arguments)}}(ko.prototype[Fa]));at(ko),xa.inputStyles={textarea:za,contenteditable:Ra},xa.defineMode=function(e){xa.defaults.mode||"null"==e||(xa.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),_t[e]=t}.apply(this,arguments)},xa.defineMIME=function(e,t){kt[e]=t},xa.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),xa.defineMIME("text/plain","null"),xa.defineExtension=function(e,t){xa.prototype[e]=t},xa.defineDocExtension=function(e,t){ko.prototype[e]=t},xa.fromTextArea=function(e,t){if((t=t?D(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=P();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(Ze(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(tt(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=xa(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},(Wa=xa).off=tt,Wa.on=Ze,Wa.wheelEventPixels=hi,Wa.Doc=ko,Wa.splitLines=vt,Wa.countColumn=z,Wa.findColumn=U,Wa.isWordChar=ee,Wa.Pass=$,Wa.signal=nt,Wa.Line=qt,Wa.changeEnd=vi,Wa.scrollbarModel=Nr,Wa.Pos=ye,Wa.cmpPos=me,Wa.modes=_t,Wa.mimeModes=kt,Wa.resolveMode=St,Wa.getMode=Ct,Wa.modeExtensions=Tt,Wa.extendMode=Et,Wa.copyState=Mt,Wa.startState=Lt,Wa.innerMode=At,Wa.commands=Vo,Wa.keyMap=No,Wa.keyName=Wo,Wa.isModifierKey=Bo,Wa.lookupKey=zo,Wa.normalizeKeyMap=Do,Wa.StringStream=Ot,Wa.SharedTextMarker=bo,Wa.TextMarker=go,Wa.LineWidget=fo,Wa.e_preventDefault=st,Wa.e_stopPropagation=lt,Wa.e_stop=ut,Wa.addClass=R,Wa.contains=O,Wa.rmClass=C,Wa.keyNames=Oo;var Wa;return xa.version="5.32.0",xa}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){var r=t.indentUnit,i=n.statementIndent,o=n.jsonld,a=n.json||o,s=n.typescript,l=n.wordCharacters||/[\w$\xa1-\uffff]/,c=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"},l={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r};if(s){var c={type:"variable",style:"type"},u={interface:e("class"),implements:r,namespace:r,public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),readonly:e("modifier"),string:c,number:c,boolean:c,any:c};for(var p in u)l[p]=u[p]}return l}(),u=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;var h,f;function d(e,t,n){return h=e,f=n,t}function y(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=(a=n,function(e,t){var n,r=!1;if(o&&"@"==e.peek()&&e.match(p))return t.tokenize=y,d("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=a||r);)r=!r&&"\\"==n;return r||(t.tokenize=y),d("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return d("number","number");if("."==n&&e.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return d(n);if("="==n&&e.eat(">"))return d("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),d("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),d("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),d("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),d("number","number");if("/"==n)return e.eat("*")?(t.tokenize=m,m(e,t)):e.eat("/")?(e.skipToEnd(),d("comment","comment")):ze(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),d("regexp","string-2")):(e.eat("="),d("operator","operator",e.current()));if("`"==n)return t.tokenize=g,g(e,t);if("#"==n)return e.skipToEnd(),d("error","error");if(u.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),d("operator","operator",e.current());if(l.test(n)){e.eatWhile(l);var r=e.current();if("."!=t.lastType){if(c.propertyIsEnumerable(r)){var i=c[r];return d(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return d("async","keyword",r)}return d("variable","variable",r)}var a}function m(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=y;break}r="*"==n}return d("comment","comment")}function g(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=y;break}r=!r&&"\\"==n}return d("quasi","string-2",e.current())}var v="([{}])";function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(s){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var c=e.string.charAt(a),u=v.indexOf(c);if(u>=0&&u<3){if(!i){++a;break}if(0==--i){"("==c&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(l.test(c))o=!0;else{if(/["'\/]/.test(c))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function _(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}var k={state:null,column:null,marked:null,cc:null};function S(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function C(){return S.apply(null,arguments),!0}function T(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=k.state;if(k.marked="def",r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}var E={name:"this",next:{name:"arguments"}};function M(){k.state.context={prev:k.state.context,vars:k.state.localVars},k.state.localVars=E}function A(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function L(e,t){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new w(r,k.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function O(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}O.lex=!0;function P(e){return function t(n){return n==e?C():";"==e?S():C(t)}}function R(e,t){return"var"==e?C(L("vardef",t.length),he,P(";"),O):"keyword a"==e?C(L("form"),j,R,O):"keyword b"==e?C(L("form"),R,O):"keyword d"==e?k.stream.match(/^\s*$/,!1)?C():C(L("stat"),z,P(";"),O):"debugger"==e?C(P(";")):"{"==e?C(L("}"),ee,O):";"==e?C():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==O&&k.state.cc.pop()(),C(L("form"),j,R,O,ge)):"function"==e?C(ke):"for"==e?C(L("form"),ve,R,O):"variable"==e?s&&"type"==t?(k.marked="keyword",C(ie,P("operator"),ie,P(";"))):s&&"declare"==t?(k.marked="keyword",C(R)):s&&("module"==t||"enum"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword",C(L("form"),fe,P("{"),L("}"),ee,O,O)):C(L("stat"),V):"switch"==e?C(L("form"),j,P("{"),L("}","switch"),ee,O,O):"case"==e?C(I,P(":")):"default"==e?C(P(":")):"catch"==e?C(L("form"),M,P("("),Se,P(")"),R,O,A):"class"==e?C(L("form"),Te,O):"export"==e?C(L("stat"),Le,O):"import"==e?C(L("stat"),Pe,O):"async"==e?C(R):"@"==t?C(I,R):S(L("stat"),I,P(";"),O)}function I(e){return D(e,!1)}function N(e){return D(e,!0)}function j(e){return"("!=e?S():C(L(")"),I,P(")"),O)}function D(e,t){if(k.state.fatArrowAt==k.stream.start){var n=t?q:H;if("("==e)return C(M,L(")"),Y(Se,")"),O,P("=>"),n,A);if("variable"==e)return S(M,fe,P("=>"),n,A)}var r=t?F:B;if(x.hasOwnProperty(e))return C(r);if("function"==e)return C(ke,r);if("class"==e)return C(L("form"),Ce,O);if("keyword c"==e||"async"==e)return C(t?N:I);if("("==e)return C(L(")"),z,P(")"),O,r);if("operator"==e||"spread"==e)return C(t?N:I);if("["==e)return C(L("]"),De,O,r);if("{"==e)return Z(J,"}",null,r);if("quasi"==e)return S(W,r);if("new"==e)return C((i=t,function(e){return"."==e?C(i?U:K):"variable"==e&&s?C(ce,i?F:B):S(i?N:I)}));var i;return C()}function z(e){return e.match(/[;\}\)\],]/)?S():S(I)}function B(e,t){return","==e?C(I):F(e,t,!1)}function F(e,t,n){var r=0==n?B:F,i=0==n?I:N;return"=>"==e?C(M,n?q:H,A):"operator"==e?/\+\+|--/.test(t)||s&&"!"==t?C(r):s&&"<"==t&&k.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?C(L(">"),Y(ie,">"),O,r):"?"==t?C(I,P(":"),i):C(i):"quasi"==e?S(W,r):";"!=e?"("==e?Z(N,")","call",r):"."==e?C(G,r):"["==e?C(L("]"),z,P("]"),O,r):s&&"as"==t?(k.marked="keyword",C(ie,r)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),C(i)):void 0:void 0}function W(e,t){return"quasi"!=e?S():"${"!=t.slice(t.length-2)?C(W):C(I,$)}function $(e){if("}"==e)return k.marked="string-2",k.state.tokenize=g,C(W)}function H(e){return b(k.stream,k.state),S("{"==e?R:I)}function q(e){return b(k.stream,k.state),S("{"==e?R:N)}function K(e,t){if("target"==t)return k.marked="keyword",C(B)}function U(e,t){if("target"==t)return k.marked="keyword",C(F)}function V(e){return":"==e?C(O,R):S(B,P(";"),O)}function G(e){if("variable"==e)return k.marked="property",C()}function J(e,t){if("async"==e)return k.marked="property",C(J);if("variable"==e||"keyword"==k.style){if(k.marked="property","get"==t||"set"==t)return C(X);var n;return s&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),C(Q)}return"number"==e||"string"==e?(k.marked=o?"property":k.style+" property",C(Q)):"jsonld-keyword"==e?C(Q):"modifier"==e?C(J):"["==e?C(I,P("]"),Q):"spread"==e?C(N,Q):"*"==t?(k.marked="keyword",C(J)):":"==e?S(Q):void 0}function X(e){return"variable"!=e?S(Q):(k.marked="property",C(ke))}function Q(e){return":"==e?C(N):"("==e?S(ke):void 0}function Y(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),C(function(n,r){return n==t||r==t?S():S(e)},r)}return i==t||o==t?C():C(P(t))}return function(n,i){return n==t||i==t?C():S(e,r)}}function Z(e,t,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return C(L(t,n),Y(e,t),O)}function ee(e){return"}"==e?C():S(R,ee)}function te(e,t){if(s){if(":"==e)return C(ie);if("?"==t)return C(te)}}function ne(e){if(s&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?C(I,re,ie):C(ie)}function re(e,t){if("is"==t)return k.marked="keyword",C()}function ie(e,t){return"variable"==e||"void"==t?"keyof"==t?(k.marked="keyword",C(ie)):(k.marked="type",C(le)):"string"==e||"number"==e||"atom"==e?C(le):"["==e?C(L("]"),Y(ie,"]",","),O,le):"{"==e?C(L("}"),Y(ae,"}",",;"),O,le):"("==e?C(Y(se,")"),oe):void 0}function oe(e){if("=>"==e)return C(ie)}function ae(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",C(ae)):"?"==t?C(ae):":"==e?C(ie):"["==e?C(I,te,P("]"),ae):void 0}function se(e){return"variable"==e?C(se):":"==e?C(ie):void 0}function le(e,t){return"<"==t?C(L(">"),Y(ie,">"),O,le):"|"==t||"."==e?C(ie):"["==e?C(P("]"),le):"extends"==t?C(ie):void 0}function ce(e,t){if("<"==t)return C(L(">"),Y(ie,">"),O,le)}function ue(){return S(ie,pe)}function pe(e,t){if("="==t)return C(ie)}function he(){return S(fe,te,ye,me)}function fe(e,t){return"modifier"==e?C(fe):"variable"==e?(T(t),C()):"spread"==e?C(fe):"["==e?Z(fe,"]"):"{"==e?Z(de,"}"):void 0}function de(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?C(fe):"}"==e?S():C(P(":"),fe,ye)):(T(t),C(ye))}function ye(e,t){if("="==t)return C(N)}function me(e){if(","==e)return C(he)}function ge(e,t){if("keyword b"==e&&"else"==t)return C(L("form","else"),R,O)}function ve(e){if("("==e)return C(L(")"),be,P(")"),O)}function be(e){return"var"==e?C(he,P(";"),we):";"==e?C(we):"variable"==e?C(xe):S(I,P(";"),we)}function xe(e,t){return"in"==t||"of"==t?(k.marked="keyword",C(I)):C(B,we)}function we(e,t){return";"==e?C(_e):"in"==t||"of"==t?(k.marked="keyword",C(I)):S(I,P(";"),_e)}function _e(e){")"!=e&&C(I)}function ke(e,t){return"*"==t?(k.marked="keyword",C(ke)):"variable"==e?(T(t),C(ke)):"("==e?C(M,L(")"),Y(Se,")"),O,ne,R,A):s&&"<"==t?C(L(">"),Y(ue,">"),O,ke):void 0}function Se(e,t){return"@"==t&&C(I,Se),"spread"==e||"modifier"==e?C(Se):S(fe,te,ye)}function Ce(e,t){return"variable"==e?Te(e,t):Ee(e,t)}function Te(e,t){if("variable"==e)return T(t),C(Ee)}function Ee(e,t){return"<"==t?C(L(">"),Y(ue,">"),O,Ee):"extends"==t||"implements"==t||s&&","==e?C(s?ie:I,Ee):"{"==e?C(L("}"),Me,O):void 0}function Me(e,t){return"modifier"==e||"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t)&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",C(Me)):"variable"==e||"keyword"==k.style?(k.marked="property",C(s?Ae:ke,Me)):"["==e?C(I,P("]"),s?Ae:ke,Me):"*"==t?(k.marked="keyword",C(Me)):";"==e?C(Me):"}"==e?C():"@"==t?C(I,Me):void 0}function Ae(e,t){return"?"==t?C(Ae):":"==e?C(ie,ye):"="==t?C(N):S(ke)}function Le(e,t){return"*"==t?(k.marked="keyword",C(je,P(";"))):"default"==t?(k.marked="keyword",C(I,P(";"))):"{"==e?C(Y(Oe,"}"),je,P(";")):S(R)}function Oe(e,t){return"as"==t?(k.marked="keyword",C(P("variable"))):"variable"==e?S(N,Oe):void 0}function Pe(e){return"string"==e?C():S(Re,Ie,je)}function Re(e,t){return"{"==e?Z(Re,"}"):("variable"==e&&T(t),"*"==t&&(k.marked="keyword"),C(Ne))}function Ie(e){if(","==e)return C(Re,Ie)}function Ne(e,t){if("as"==t)return k.marked="keyword",C(Re)}function je(e,t){if("from"==t)return k.marked="keyword",C(I)}function De(e){return"]"==e?C():S(Y(N,"]"))}function ze(e,t,n){return t.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return{startState:function(e){var t={tokenize:y,lastType:"sof",cc:[],lexical:new w((e||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=m&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==h?n:(t.lastType="operator"!=h||"++"!=f&&"--"!=f?h:"incdec",function(e,t,n,r,i){var o=e.cc;for(k.state=e,k.stream=i,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():a?I:R)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&_(e,r)?"variable-2":t}}(t,n,h,f,e))},indent:function(t,o){if(t.tokenize==m)return e.Pass;if(t.tokenize!=y)return 0;var a,s=o&&o.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(o))for(var c=t.cc.length-1;c>=0;--c){var p=t.cc[c];if(p==O)l=l.prev;else if(p!=ge)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(a=t.cc[t.cc.length-1])&&(a==B||a==F)&&!/^[,\.=+\-*:?[\(]/.test(o));)l=l.prev;i&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,f=s==h;return"vardef"==h?l.indented+("operator"==t.lastType||","==t.lastType?l.info+1:0):"form"==h&&"{"==s?l.indented:"form"==h?l.indented+r:"stat"==h?l.indented+(d=t,g=o,"operator"==d.lastType||","==d.lastType||u.test(g.charAt(0))||/[,.]/.test(g.charAt(0))?i||r:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:r):l.indented+(/^(?:case|default)\b/.test(o)?r:2*r);var d,g},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:ze,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=I&&t!=N||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,r){this.state=e,this.mode=t,this.depth=n,this.prev=r}e.defineMode("jsx",function(n,r){var i=e.getMode(n,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1}),o=e.getMode(n,r&&r.base||"javascript");function a(e){var t=e.tagName;e.tagName=null;var n=i.indent(e,"");return e.tagName=t,n}function s(r,l){return l.context.mode==i?function(r,l,c){if(2==c.depth)return r.match(/^.*?\*\//)?c.depth=1:r.skipToEnd(),"comment";if("{"==r.peek()){i.skipAttribute(c.state);var u=a(c.state),p=c.state.context;if(p&&r.match(/^[^>]*>\s*$/,!1)){for(;p.prev&&!p.startOfLine;)p=p.prev;p.startOfLine?u-=n.indentUnit:c.prev.state.lexical&&(u=c.prev.state.lexical.indented)}else 1==c.depth&&(u+=n.indentUnit);return l.context=new t(e.startState(o,u),o,0,l.context),null}if(1==c.depth){if("<"==r.peek())return i.skipAttribute(c.state),l.context=new t(e.startState(i,a(c.state)),i,0,l.context),null;if(r.match("//"))return r.skipToEnd(),"comment";if(r.match("/*"))return c.depth=2,s(r,l)}var h,f=i.token(r,c.state),d=r.current();/\btag\b/.test(f)?/>$/.test(d)?c.state.context?c.depth=0:l.context=l.context.prev:/^</.test(d)&&(c.depth=1):!f&&(h=d.indexOf("{"))>-1&&r.backUp(d.length-h);return f}(r,l,l.context):function(n,r,a){if("<"==n.peek()&&o.expressionAllowed(n,a.state))return o.skipExpression(a.state),r.context=new t(e.startState(i,o.indent(a.state,"")),i,0,r.context),null;var s=o.token(n,a.state);if(!s&&null!=a.depth){var l=n.current();"{"==l?a.depth++:"}"==l&&0==--a.depth&&(r.context=r.context.prev)}return s}(r,l,l.context)}return{startState:function(){return{context:new t(e.startState(o),o)}},copyState:function(n){return{context:function n(r){return new t(e.copyState(r.mode,r.state),r.mode,r.depth,r.prev&&n(r.prev))}(n.context)}},token:s,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("css",function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,a=t.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},p=n.mediaValueKeywords||{},h=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},d=n.fontProperties||{},y=n.counterDescriptors||{},m=n.colorKeywords||{},g=n.valueKeywords||{},v=n.allowNested,b=n.lineComment,x=!0===n.supportsAtComponent;function w(e,t){return i=t,e}function _(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),w("string","string")}}function k(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=_(")"),w(null,"(")}function S(e,t,n){this.type=e,this.indent=t,this.prev=n}function C(e,t,n,r){return e.context=new S(n,t.indentation()+(!1===r?0:a),e.context),n}function T(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function E(e,t,n){return L[n.context.type](e,t,n)}function M(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return E(e,t,n)}function A(e){var t=e.current().toLowerCase();o=g.hasOwnProperty(t)?"atom":m.hasOwnProperty(t)?"keyword":"variable"}var L={};return L.top=function(e,t,n){if("{"==e)return C(n,t,"block");if("}"==e&&n.context.prev)return T(n);if(x&&/@component/.test(e))return C(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return C(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return C(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return C(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return C(n,t,"interpolation");if(":"==e)return"pseudo";if(v&&"("==e)return C(n,t,"parens")}return n.context.type},L.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return h.hasOwnProperty(r)?(o="property","maybeprop"):f.hasOwnProperty(r)?(o="string-2","maybeprop"):v?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":v||"hash"!=e&&"qualifier"!=e?L.top(e,t,n):(o="error","block")},L.maybeprop=function(e,t,n){return":"==e?C(n,t,"prop"):E(e,t,n)},L.prop=function(e,t,n){if(";"==e)return T(n);if("{"==e&&v)return C(n,t,"propBlock");if("}"==e||"{"==e)return M(e,t,n);if("("==e)return C(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)A(t);else if("interpolation"==e)return C(n,t,"interpolation")}else o+=" error";return"prop"},L.propBlock=function(e,t,n){return"}"==e?T(n):"word"==e?(o="property","maybeprop"):n.context.type},L.parens=function(e,t,n){return"{"==e||"}"==e?M(e,t,n):")"==e?T(n):"("==e?C(n,t,"parens"):"interpolation"==e?C(n,t,"interpolation"):("word"==e&&A(t),"parens")},L.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):E(e,t,n)},L.documentTypes=function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(o="tag",n.context.type):L.atBlock(e,t,n)},L.atBlock=function(e,t,n){if("("==e)return C(n,t,"atBlock_parens");if("}"==e||";"==e)return M(e,t,n);if("{"==e)return T(n)&&C(n,t,v?"block":"top");if("interpolation"==e)return C(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":p.hasOwnProperty(r)?"keyword":h.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?"string-2":g.hasOwnProperty(r)?"atom":m.hasOwnProperty(r)?"keyword":"error"}return n.context.type},L.atComponentBlock=function(e,t,n){return"}"==e?M(e,t,n):"{"==e?T(n)&&C(n,t,v?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},L.atBlock_parens=function(e,t,n){return")"==e?T(n):"{"==e||"}"==e?M(e,t,n,2):L.atBlock(e,t,n)},L.restricted_atBlock_before=function(e,t,n){return"{"==e?C(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):E(e,t,n)},L.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,T(n)):"word"==e?(o="@font-face"==n.stateArg&&!d.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!y.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},L.keyframes=function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?C(n,t,"top"):E(e,t,n)},L.at=function(e,t,n){return";"==e?T(n):"{"==e||"}"==e?M(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},L.interpolation=function(e,t,n){return"}"==e?T(n):"{"==e||";"==e?M(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new S(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||function(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),w("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?w(null,"compare"):'"'==n||"'"==n?(t.tokenize=_(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),w("atom","hash")):"!"==n?(e.match(/^\s*\w*/),w("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),w("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?w(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?w("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?w(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=k,w("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),w("property","word")):w(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),w("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?w("variable-2","variable-definition"):w("variable-2","variable")):e.match(/^\w+-/)?w("meta","meta"):void 0})(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,"comment"!=i&&(t.state=L[t.state](i,e,t)),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-a)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:b,fold:"brace"}});function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(u),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(h),d=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),y=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],g=t(m),v=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=t(v),x=n.concat(i).concat(a).concat(l).concat(u).concat(h).concat(m).concat(v);e.registerHelper("hintWords","css",x);function w(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:d,counterDescriptors:y,colorKeywords:g,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w,w(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:g,valueKeywords:b,fontProperties:d,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w,w(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:g,valueKeywords:b,fontProperties:d,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w,w(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:s,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:d,counterDescriptors:y,colorKeywords:g,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w,w(e,t))}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){var o=r.indentUnit,a={},s=i.htmlMode?t:n;for(var l in s)a[l]=s[l];for(var l in i)a[l]=i[l];var c,u;function p(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(f("atom","]]>")):null:e.match("--")?n(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=p;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(c=e.eat("/")?"closeTag":"openTag",t.tokenize=h,"tag bracket");if("&"==r){return(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}return e.eatWhile(/[^&<]/),null}p.isInText=!0;function h(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=p,c=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return c="equals",null;if("<"==n){t.tokenize=p,t.state=m,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=h;break}return"string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=p;break}n.next()}return e}}function d(e){e.context&&(e.context=e.context.prev)}function y(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!a.contextGrabbers.hasOwnProperty(n)||!a.contextGrabbers[n].hasOwnProperty(t))return;d(e)}}function m(e,t,n){return"openTag"==e?(n.tagStart=t.column(),g):"closeTag"==e?v:m}function g(e,t,n){return"word"==e?(n.tagName=t.current(),u="tag",w):(u="error",g)}function v(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&a.implicitlyClosed.hasOwnProperty(n.context.tagName)&&d(n),n.context&&n.context.tagName==r||!1===a.matchClosing?(u="tag",b):(u="tag error",x)}return u="error",x}function b(e,t,n){return"endTag"!=e?(u="error",b):(d(n),m)}function x(e,t,n){return u="error",b(e,0,n)}function w(e,t,n){if("word"==e)return u="attribute",_;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||a.autoSelfClosers.hasOwnProperty(r)?y(n,r):(y(n,r),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,r,i==n.indented)),m}return u="error",w}function _(e,t,n){return"equals"==e?k:(a.allowMissing||(u="error"),w(e,0,n))}function k(e,t,n){return"string"==e?S:"word"==e&&a.allowUnquoted?(u="string",w):(u="error",w(e,0,n))}function S(e,t,n){return"string"==e?S:w(e,0,n)}return{startState:function(e){var t={tokenize:p,state:m,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;c=null;var n=t.tokenize(e,t);return(n||c)&&"comment"!=n&&(u=null,t.state=t.state(c||n,e,t),u&&(n="error"==u?n+" error":u)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+o;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=h&&t.tokenize!=p)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==a.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+o*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!a.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var l=a.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+o:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){e.state==k&&(e.state=w)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var n={};function r(e,t){var r=e.match(function(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}e.defineMode("htmlmixed",function(n,a){var s=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:a.multilineTagIndentFactor,multilineTagIndentPastTag:a.multilineTagIndentPastTag}),l={},c=a&&a.tags,u=a&&a.scriptTypes;if(o(t,l),c&&o(c,l),u)for(var p=u.length-1;p>=0;p--)l.script.unshift(["type",u[p].matches,u[p].mode]);function h(t,o){var a,c=s.token(t,o.htmlState),u=/\btag\b/.test(c);if(u&&!/[<>\s\/]/.test(t.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&u&&/>$/.test(t.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var f=">"==t.current()&&function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}(l[p[1]],p[2]),d=e.getMode(n,f),y=i(p[1],!0),m=i(p[1],!1);o.token=function(e,t){return e.match(y,!1)?(t.token=h,t.localState=t.localMode=null,null):function(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}(e,m,t.localMode.token(e,t.localState))},o.localMode=d,o.localState=e.startState(d,s.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return c}return{startState:function(){return{token:h,inTag:null,localMode:null,localState:null,htmlState:e.startState(s)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){var n="error";function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var i=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,o=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,a=/^[_A-Za-z$][_A-Za-z$0-9]*/,s=/^@[_A-Za-z$][_A-Za-z$0-9]*/,l=r(["and","or","not","is","isnt","in","instanceof","typeof"]),c=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],u=r(c.concat(["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"]));c=r(c);var p=/^('{3}|\"{3}|['\"])/,h=/^(\/{3}|\/)/,f=r(["Infinity","NaN","undefined","null","true","false","on","off","yes","no"]);function d(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var r=t.scope.offset;if(e.eatSpace()){var c=e.indentation();return c>r&&"coffee"==t.scope.type?"indent":c<r?"dedent":null}r>0&&v(e,t)}if(e.eatSpace())return null;var d=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=m,t.tokenize(e,t);if("#"===d)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var g=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(g=!0),e.match(/^-?\d+\.\d*/)&&(g=!0),e.match(/^-?\.\d+/)&&(g=!0),g)return"."==e.peek()&&e.backUp(1),"number";var b=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(b=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(b=!0),e.match(/^-?0(?![\dx])/i)&&(b=!0),b)return"number"}if(e.match(p))return t.tokenize=y(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(h)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=y(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(i)||e.match(l)?"operator":e.match(o)?"punctuation":e.match(f)?"atom":e.match(s)||t.prop&&e.match(a)?"property":e.match(u)?"keyword":e.match(a)?"variable":(e.next(),n)}function y(e,r,i){return function(o,a){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),r&&o.eol())return i}else{if(o.match(e))return a.tokenize=d,i;o.eat(/['"\/]/)}return r&&(t.singleLineStringErrors?i=n:a.tokenize=d),i}}function m(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=d;break}e.eatWhile("#")}return"comment"}function g(t,n,r){r=r||"coffee";for(var i=0,o=!1,a=null,s=n.scope;s;s=s.prev)if("coffee"===s.type||"}"==s.type){i=s.offset+e.indentUnit;break}"coffee"!==r?(o=null,a=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:a}}function v(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}return{startState:function(e){return{tokenize:d,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var r=null===t.scope.align&&t.scope;r&&e.sol()&&(r.align=!1);var i=function(e,t){var r=t.tokenize(e,t),i=e.current();"return"===i&&(t.dedent=!0),(("->"===i||"=>"===i)&&e.eol()||"indent"===r)&&g(e,t);var o="[({".indexOf(i);if(-1!==o&&g(e,t,"])}".slice(o,o+1)),c.exec(i)&&g(e,t),"then"==i&&v(e,t),"dedent"===r&&v(e,t))return n;if(-1!==(o="])}".indexOf(i))){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==i&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),r}(e,t);return i&&"comment"!=i&&(r&&(r.align=!0),t.prop="punctuation"==i&&"."==e.current()),i},indent:function(e,t){if(e.tokenize!=d)return 0;var n=e.scope,r=t&&"])}".indexOf(t.charAt(0))>-1;if(r)for(;"coffee"==n.type&&n.prev;)n=n.prev;var i=r&&n.type===t.charAt(0);return n.align?n.alignOffset-(i?1:0):(i?n.prev:n).offset},lineComment:"#",fold:"indent"}}),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t=e.Pos;function n(e){return e.global?e:new RegExp(e.source,function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e)+"g")}function r(e,r,i){r=n(r);for(var o=i.line,a=i.ch,s=e.lastLine();o<=s;o++,a=0){r.lastIndex=a;var l=e.getLine(o),c=r.exec(l);if(c)return{from:t(o,c.index),to:t(o,c.index+c[0].length),match:c}}}function i(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if((r=(n=i).index+(n[0].length||1))==e.length)return n}}var o,a;String.prototype.normalize?(o=function(e){return e.normalize("NFD").toLowerCase()},a=function(e){return e.normalize("NFD")}):(o=function(e){return e.toLowerCase()},a=function(e){return e});function s(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function l(e,l,c,u){this.atOccurrence=!1,this.doc=e,c=c?e.clipPos(c):t(0,0),this.pos={from:c,to:c};var p;"object"==typeof u?p=u.caseFold:(p=u,u=null),"string"==typeof l?(null==p&&(p=!1),this.matches=function(n,r){return(n?function(e,n,r,i){if(!n.length)return null;var l=i?o:a,c=l(n).split(/\r|\n\r?/);e:for(var u=r.line,p=r.ch,h=e.firstLine()-1+c.length;u>=h;u--,p=-1){var f=e.getLine(u);p>-1&&(f=f.slice(0,p));var d=l(f);if(1==c.length){var y=d.lastIndexOf(c[0]);if(-1==y)continue e;return{from:t(u,s(f,d,y,l)),to:t(u,s(f,d,y+c[0].length,l))}}var m=c[c.length-1];if(d.slice(0,m.length)==m){var g=1;for(r=u-c.length+1;g<c.length-1;g++)if(l(e.getLine(r+g))!=c[g])continue e;var v=e.getLine(u+1-c.length),b=l(v);if(b.slice(b.length-c[0].length)==c[0])return{from:t(u+1-c.length,s(v,b,v.length-c[0].length,l)),to:t(u,s(f,d,m.length,l))}}}}:function(e,n,r,i){if(!n.length)return null;var l=i?o:a,c=l(n).split(/\r|\n\r?/);e:for(var u=r.line,p=r.ch,h=e.lastLine()+1-c.length;u<=h;u++,p=0){var f=e.getLine(u).slice(p),d=l(f);if(1==c.length){var y=d.indexOf(c[0]);if(-1==y)continue e;return r=s(f,d,y,l)+p,{from:t(u,s(f,d,y,l)+p),to:t(u,s(f,d,y+c[0].length,l)+p)}}var m=d.length-c[0].length;if(d.slice(m)==c[0]){for(var g=1;g<c.length-1;g++)if(l(e.getLine(u+g))!=c[g])continue e;var v=e.getLine(u+c.length-1),b=l(v),x=c[c.length-1];if(b.slice(0,x.length)==x)return{from:t(u,s(f,d,m,l)+p),to:t(u+c.length-1,s(v,b,x.length,l))}}}})(e,l,r,p)}):(l=n(l),u&&!1===u.multiline?this.matches=function(o,a){return(o?function(e,r,o){r=n(r);for(var a=o.line,s=o.ch,l=e.firstLine();a>=l;a--,s=-1){var c=e.getLine(a);s>-1&&(c=c.slice(0,s));var u=i(c,r);if(u)return{from:t(a,u.index),to:t(a,u.index+u[0].length),match:u}}}:r)(e,l,a)}:this.matches=function(o,a){return(o?function(e,r,o){r=n(r);for(var a,s=1,l=o.line,c=e.firstLine();l>=c;){for(var u=0;u<s;u++){var p=e.getLine(l--);a=null==a?p.slice(0,o.ch):p+"\n"+a}s*=2;var h=i(a,r);if(h){var f=a.slice(0,h.index).split("\n"),d=h[0].split("\n"),y=l+f.length,m=f[f.length-1].length;return{from:t(y,m),to:t(y+d.length-1,1==d.length?m+d[0].length:d[d.length-1].length),match:h}}}}:function(e,i,o){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(i.source))return r(e,i,o);i=n(i);for(var a,s=1,l=o.line,c=e.lastLine();l<=c;){for(var u=0;u<s;u++){var p=e.getLine(l++);a=null==a?p:a+"\n"+p}s*=2,i.lastIndex=o.ch;var h=i.exec(a);if(h){var f=a.slice(0,h.index).split("\n"),d=h[0].split("\n"),y=o.line+f.length-1,m=f[f.length-1].length;return{from:t(y,m),to:t(y+d.length-1,1==d.length?m+d[0].length:d[d.length-1].length),match:h}}}})(e,l,a)})}l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(n){for(var r=this.matches(n,this.doc.clipPos(n?this.pos.from:this.pos.to));r&&0==e.cmpPos(r.from,r.to);)n?r.from.ch?r.from=t(r.from.line,r.from.ch-1):r=r.from.line==this.doc.firstLine()?null:this.matches(n,this.doc.clipPos(t(r.from.line-1))):r.to.ch<this.doc.getLine(r.to.line).length?r.to=t(r.to.line,r.to.ch+1):r=r.to.line==this.doc.lastLine()?null:this.matches(n,t(r.to.line+1,0));if(r)return this.pos=r,this.atOccurrence=!0,this.pos.match||!0;var i=t(n?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(n,r){if(this.atOccurrence){var i=e.splitLines(n);this.doc.replaceRange(i,this.pos.from,this.pos.to,r),this.pos.to=t(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new l(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new l(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function i(e,t,i){var a=e.getLineHandle(t.line),s=t.ch-1,l=i&&i.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=!l&&s>=0&&r[a.text.charAt(s)]||r[a.text.charAt(++s)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(i&&i.strict&&u>0!=(s==t.ch))return null;var p=e.getTokenTypeAt(n(t.line,s+1)),h=o(e,n(t.line,s+(u>0?1:0)),u,p||null,i);return null==h?null:{from:n(t.line,s),to:h&&h.pos,match:h&&h.ch==c.charAt(0),forward:u>0}}function o(e,t,i,o,a){for(var s=a&&a.maxScanLineLength||1e4,l=a&&a.maxScanLines||1e3,c=[],u=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,p=i>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=p;h+=i){var f=e.getLine(h);if(f){var d=i>0?0:f.length-1,y=i>0?f.length:-1;if(!(f.length>s))for(h==t.line&&(d=t.ch-(i<0?1:0));d!=y;d+=i){var m=f.charAt(d);if(u.test(m)&&(void 0===o||e.getTokenTypeAt(n(h,d+1))==o)){if(">"==r[m].charAt(1)==i>0)c.push(m);else{if(!c.length)return{pos:n(h,d),ch:m};c.pop()}}}}}return h-i!=(i>0?e.lastLine():e.firstLine())&&null}function a(e,r,o){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&i(e,l[c].head,o);if(u&&e.getLine(u.from.line).length<=a){var p=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,n(u.from.line,u.from.ch+1),{className:p})),u.to&&e.getLine(u.to.line).length<=a&&s.push(e.markText(u.to,n(u.to.line,u.to.ch+1),{className:p}))}}if(s.length){t&&e.state.focused&&e.focus();var h=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!r)return h;setTimeout(h,800)}}var s=null;function l(e){e.operation(function(){s&&(s(),s=null),s=a(e,!1,e.state.matchBrackets)})}e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",l),s&&(s(),s=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",l))}),e.defineExtension("matchBrackets",function(){a(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),i(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,r){return o(this,e,t,n,r)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){e.defineOption("autoCloseTags",!1,function(a,s,l){if(l!=e.Init&&l&&a.removeKeyMap("autoCloseTags"),s){var c={name:"autoCloseTags"};("object"!=typeof s||s.whenClosing)&&(c["'/'"]=function(t){return(n=t).getOption("disableInput")?e.Pass:r(n,!0);var n}),("object"!=typeof s||s.whenOpening)&&(c["'>'"]=function(r){return function(r){if(r.getOption("disableInput"))return e.Pass;for(var a=r.listSelections(),s=[],l=0;l<a.length;l++){if(!a[l].empty())return e.Pass;var c=a[l].head,u=r.getTokenAt(c),p=e.innerMode(r.getMode(),u.state),h=p.state;if("xml"!=p.mode.name||!h.tagName)return e.Pass;var f=r.getOption("autoCloseTags"),d="html"==p.mode.configuration,y="object"==typeof f&&f.dontCloseTags||d&&t,m="object"==typeof f&&f.indentTags||d&&n,g=h.tagName;u.end>c.ch&&(g=g.slice(0,g.length-u.end+c.ch));var v=g.toLowerCase();if(!g||"string"==u.type&&(u.end!=c.ch||!/[\"\']/.test(u.string.charAt(u.string.length-1))||1==u.string.length)||"tag"==u.type&&"closeTag"==h.type||u.string.indexOf("/")==u.string.length-1||y&&i(y,v)>-1||o(r,g,c,h,!0))return e.Pass;var b=m&&i(m,v)>-1;s[l]={indent:b,text:">"+(b?"\n\n":"")+"</"+g+">",newPos:b?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}for(var l=a.length-1;l>=0;l--){var x=s[l];r.replaceRange(x.text,a[l].head,a[l].anchor,"+insert");var w=r.listSelections().slice(0);w[l]={head:x.newPos,anchor:x.newPos},r.setSelections(w),x.indent&&(r.indentLine(x.newPos.line,null,!0),r.indentLine(x.newPos.line+1,null,!0))}}(r)}),a.addKeyMap(c)}});var t=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function r(t,n){for(var r=t.listSelections(),i=[],a=n?"/":"</",s=0;s<r.length;s++){if(!r[s].empty())return e.Pass;var l=r[s].head,c=t.getTokenAt(l),u=e.innerMode(t.getMode(),c.state),p=u.state;if(n&&("string"==c.type||"<"!=c.string.charAt(0)||c.start!=l.ch-1))return e.Pass;var h;if("xml"!=u.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==u.mode.name)h=a+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=u.mode.name)return e.Pass;h=a+"style"}else{if(!p.context||!p.context.tagName||o(t,p.context.tagName,l,p))return e.Pass;h=a+p.context.tagName}">"!=t.getLine(l.line).charAt(c.end)&&(h+=">"),i[s]=h}t.replaceSelections(i),r=t.listSelections();for(s=0;s<r.length;s++)(s==r.length-1||r[s].head.line<r[s+1].head.line)&&t.indentLine(r[s].head.line)}e.commands.closeTag=function(e){return r(e)};function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var a=Math.min(t.lastLine()+1,r.line+500),s=e.scanForClosingTag(t,r,null,a);if(!s||s.tag!=n)return!1;for(var l=i.context,c=o?1:0;l&&l.tagName==n;l=l.prev)++c;r=s.to;for(var u=1;u<c;u++){var p=e.scanForClosingTag(t,r,null,a);if(!p||p.tag!=n)return!1;r=p.to}return!0}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){var t={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},n=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,a){a&&a!=e.Init&&(t.removeKeyMap(i),t.state.closeBrackets=null),n&&(o(r(n,"pairs")),t.state.closeBrackets=n,t.addKeyMap(i))});function r(e,n){return"pairs"==n&&"string"==typeof e?e:"object"==typeof e&&null!=e[n]?e[n]:t[n]}var i={Backspace:function(t){var i=s(t);if(!i||t.getOption("disableInput"))return e.Pass;for(var o=r(i,"pairs"),a=t.listSelections(),l=0;l<a.length;l++){if(!a[l].empty())return e.Pass;var c=u(t,a[l].head);if(!c||o.indexOf(c)%2!=0)return e.Pass}for(var l=a.length-1;l>=0;l--){var p=a[l].head;t.replaceRange("",n(p.line,p.ch-1),n(p.line,p.ch+1),"+delete")}},Enter:function(t){var n=s(t),i=n&&r(n,"explode");if(!i||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return e.Pass;var l=u(t,o[a].head);if(!l||i.indexOf(l)%2!=0)return e.Pass}t.operation(function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),t.execCommand("goCharLeft"),o=t.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;t.indentLine(r,null,!0),t.indentLine(r+1,null,!0)}})}};function o(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r="'"+n+"'";i[r]||(i[r]=a(n))}}o(t.pairs+"`");function a(t){return function(i){return function(t,i){var o=s(t);if(!o||t.getOption("disableInput"))return e.Pass;var a=r(o,"pairs"),u=a.indexOf(i);if(-1==u)return e.Pass;for(var h,f=r(o,"triples"),d=a.charAt(u+1)==i,y=t.listSelections(),m=u%2==0,g=0;g<y.length;g++){var v,b=y[g],x=b.head,w=t.getRange(x,n(x.line,x.ch+1));if(m&&!b.empty())v="surround";else if(!d&&m||w!=i)if(d&&x.ch>1&&f.indexOf(i)>=0&&t.getRange(n(x.line,x.ch-2),x)==i+i&&(x.ch<=2||t.getRange(n(x.line,x.ch-3),n(x.line,x.ch-2))!=i))v="addFour";else if(d){var _=0==x.ch?" ":t.getRange(n(x.line,x.ch-1),x);if(e.isWordChar(w)||_==i||e.isWordChar(_))return e.Pass;v="both"}else{if(!m||t.getLine(x.line).length!=x.ch&&!c(w,a)&&!/\s/.test(w))return e.Pass;v="both"}else v=d&&p(t,x)?"both":f.indexOf(i)>=0&&t.getRange(x,n(x.line,x.ch+3))==i+i+i?"skipThree":"skip";if(h){if(h!=v)return e.Pass}else h=v}var k=u%2?a.charAt(u-1):i,S=u%2?i:a.charAt(u+1);t.operation(function(){if("skip"==h)t.execCommand("goCharRight");else if("skipThree"==h)for(var e=0;e<3;e++)t.execCommand("goCharRight");else if("surround"==h){for(var n=t.getSelections(),e=0;e<n.length;e++)n[e]=k+n[e]+S;t.replaceSelections(n,"around"),n=t.listSelections().slice();for(var e=0;e<n.length;e++)n[e]=l(n[e]);t.setSelections(n)}else"both"==h?(t.replaceSelection(k+S,null),t.triggerElectric(k+S),t.execCommand("goCharLeft")):"addFour"==h&&(t.replaceSelection(k+k+k+k,"before"),t.execCommand("goCharRight"))})}(i,t)}}function s(e){var t=e.state.closeBrackets;if(!t||t.override)return t;return e.getModeAt(e.getCursor()).closeBrackets||t}function l(t){var r=e.cmpPos(t.anchor,t.head)>0;return{anchor:new n(t.anchor.line,t.anchor.ch+(r?-1:1)),head:new n(t.head.line,t.head.ch+(r?1:-1))}}function c(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function u(e,t){var r=e.getRange(n(t.line,t.ch-1),n(t.line,t.ch+1));return 2==r.length?r:null}function p(e,t){var r=e.getTokenAt(n(t.line,t.ch+1));return/\bstring/.test(r.type)&&r.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t=e.Pos;function n(e,t){return e.line==t.line&&e.ch==t.ch}var r=[];function i(e){r.push(e),r.length>50&&r.shift()}function o(e){return r[r.length-(e?Math.min(e,1):1)]||""}var a=null;function s(e,t,o,s,l){null==l&&(l=e.getRange(t,o)),"grow"==s&&a&&a.cm==e&&n(t,a.pos)&&e.isClean(a.gen)?function(e){if(!r.length)return i(e);r[r.length-1]+=e}(l):!1!==s&&i(l),e.replaceRange("",t,o,"+delete"),a="grow"==s?{cm:e,pos:t,gen:e.changeGeneration()}:null}function l(e,t,n){return e.findPosH(t,n,"char",!0)}function c(e,t,n){return e.findPosH(t,n,"word",!0)}function u(e,t,n){return e.findPosV(t,n,"line",e.doc.sel.goalColumn)}function p(e,t,n){return e.findPosV(t,n,"page",e.doc.sel.goalColumn)}function h(e,n,r){for(var i=n.line,o=e.getLine(i),a=/\S/.test(r<0?o.slice(0,n.ch):o.slice(n.ch)),s=e.firstLine(),l=e.lastLine();;){if((i+=r)<s||i>l)return e.clipPos(t(i-r,r<0?0:null));o=e.getLine(i);if(/\S/.test(o))a=!0;else if(a)return t(i,0)}}function f(e,n,r){for(var i=n.line,o=n.ch,a=e.getLine(n.line),s=!1;;){var l=a.charAt(o+(r<0?-1:0));if(l){if(s&&/[!?.]/.test(l))return t(i,o+(r>0?1:0));s||(s=/\w/.test(l)),o+=r}else{if(i==(r<0?e.firstLine():e.lastLine()))return t(i,o);if(a=e.getLine(i+r),!/\S/.test(a))return t(i,o);i+=r,o=r<0?a.length:0}}}function d(e,r,i){var o;if(e.findMatchingBracket&&(o=e.findMatchingBracket(r,{strict:!0}))&&o.match&&(o.forward?1:-1)==i)return i>0?t(o.to.line,o.to.ch+1):o.to;for(var a=!0;;a=!1){var s=e.getTokenAt(r),l=t(r.line,i<0?s.start:s.end);if(!(a&&i>0&&s.end==r.ch)&&/\w/.test(s.string))return l;var c=e.findPosH(l,i,"char");if(n(l,c))return r;r=c}}function y(e,t){var n=e.state.emacsPrefix;return n?(S(e),"-"==n?-1:Number(n)):t?null:1}function m(e){var t="string"==typeof e?function(t){t.execCommand(e)}:e;return function(e){var n=y(e);t(e);for(var r=1;r<n;++r)t(e)}}function g(e,t,r,i){var o=y(e);o<0&&(i=-i,o=-o);for(var a=0;a<o;++a){var s=r(e,t,i);if(n(s,t))break;t=s}return t}function v(e,t){var n=function(n){n.extendSelection(g(n,n.getCursor(),e,t))};return n.motion=!0,n}function b(e,t,n,r){for(var i,o=e.listSelections(),a=o.length;a--;)s(e,i=o[a].head,g(e,i,t,n),r)}function x(e,t){if(e.somethingSelected()){for(var n,r=e.listSelections(),i=r.length;i--;)s(e,(n=r[i]).anchor,n.head,t);return!0}}function w(e,t){e.state.emacsPrefix?"-"!=t&&(e.state.emacsPrefix+=t):(e.state.emacsPrefix=t,e.on("keyHandled",k),e.on("inputRead",C))}var _={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0};function k(e,t){e.state.emacsPrefixMap||_.hasOwnProperty(t)||S(e)}function S(e){e.state.emacsPrefix=null,e.off("keyHandled",k),e.off("inputRead",C)}function C(e,t){var n=y(e);if(n>1&&"+input"==t.origin){for(var r=t.text.join("\n"),i="",o=1;o<n;++o)i+=r;e.replaceSelection(i)}}function T(e,t){("string"!=typeof t||!/^\d$/.test(t)&&"Ctrl-U"!=t)&&(e.removeKeyMap(O),e.state.emacsPrefixMap=!1,e.off("keyHandled",T),e.off("inputRead",T))}function E(e){e.setCursor(e.getCursor()),e.setExtending(!e.getExtending()),e.on("change",function(){e.setExtending(!1)})}function M(e){e.setExtending(!1),e.setCursor(e.getCursor())}function A(e,t){var n=e.getCursor(),r=e.findPosH(n,1,"word");e.replaceRange(t(e.getRange(n,r)),n,r),e.setCursor(r)}e.emacs={kill:s,killRegion:x,repeated:m};var L=e.keyMap.emacs=e.normalizeKeyMap({"Ctrl-W":function(e){s(e,e.getCursor("start"),e.getCursor("end"),!0)},"Ctrl-K":m(function(e){var n=e.getCursor(),r=e.clipPos(t(n.line)),i=e.getRange(n,r);/\S/.test(i)||(i+="\n",r=t(n.line+1,0)),s(e,n,r,"grow",i)}),"Alt-W":function(e){i(e.getSelection()),M(e)},"Ctrl-Y":function(e){var t=e.getCursor();e.replaceRange(o(y(e)),t,t,"paste"),e.setSelection(t,e.getCursor())},"Alt-Y":function(e){e.replaceSelection((r.length>1&&r.pop(),o()),"around","paste")},"Ctrl-Space":E,"Ctrl-Shift-2":E,"Ctrl-F":v(l,1),"Ctrl-B":v(l,-1),Right:v(l,1),Left:v(l,-1),"Ctrl-D":function(e){b(e,l,1,!1)},Delete:function(e){x(e,!1)||b(e,l,1,!1)},"Ctrl-H":function(e){b(e,l,-1,!1)},Backspace:function(e){x(e,!1)||b(e,l,-1,!1)},"Alt-F":v(c,1),"Alt-B":v(c,-1),"Alt-D":function(e){b(e,c,1,"grow")},"Alt-Backspace":function(e){b(e,c,-1,"grow")},"Ctrl-N":v(u,1),"Ctrl-P":v(u,-1),Down:v(u,1),Up:v(u,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":v(p,-1),"Ctrl-V":v(p,1),PageUp:v(p,-1),PageDown:v(p,1),"Ctrl-Up":v(h,-1),"Ctrl-Down":v(h,1),"Alt-A":v(f,-1),"Alt-E":v(f,1),"Alt-K":function(e){b(e,f,1,"grow")},"Ctrl-Alt-K":function(e){b(e,d,1,"grow")},"Ctrl-Alt-Backspace":function(e){b(e,d,-1,"grow")},"Ctrl-Alt-F":v(d,1),"Ctrl-Alt-B":v(d,-1),"Shift-Ctrl-Alt-2":function(e){var t=e.getCursor();e.setSelection(g(e,t,d,1),t)},"Ctrl-Alt-T":function(e){var t=d(e,e.getCursor(),-1),n=d(e,t,1),r=d(e,n,1),i=d(e,r,-1);e.replaceRange(e.getRange(i,r)+e.getRange(n,i)+e.getRange(t,n),t,r)},"Ctrl-Alt-U":m(function(e){for(var n=e.getCursor(),r=n.line,i=n.ch,o=[];r>=e.firstLine();){for(var a=e.getLine(r),s=null==i?a.length:i;s>0;)if(")"==(i=a.charAt(--s)))o.push("(");else if("]"==i)o.push("[");else if("}"==i)o.push("{");else if(/[\(\{\[]/.test(i)&&(!o.length||o.pop()!=i))return e.extendSelection(t(r,s));--r,i=null}}),"Alt-Space":function(e){for(var n=e.getCursor(),r=n.ch,i=n.ch,o=e.getLine(n.line);r&&/\s/.test(o.charAt(r-1));)--r;for(;i<o.length&&/\s/.test(o.charAt(i));)++i;e.replaceRange(" ",t(n.line,r),t(n.line,i))},"Ctrl-O":m(function(e){e.replaceSelection("\n","start")}),"Ctrl-T":m(function(e){e.execCommand("transposeChars")}),"Alt-C":m(function(e){A(e,function(e){var t=e.search(/\w/);return-1==t?e:e.slice(0,t)+e.charAt(t).toUpperCase()+e.slice(t+1).toLowerCase()})}),"Alt-U":m(function(e){A(e,function(e){return e.toUpperCase()})}),"Alt-L":m(function(e){A(e,function(e){return e.toLowerCase()})}),"Alt-;":"toggleComment","Ctrl-/":m("undo"),"Shift-Ctrl--":m("undo"),"Ctrl-Z":m("undo"),"Cmd-Z":m("undo"),"Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findPersistentNext","Ctrl-R":"findPersistentPrev","Ctrl-G":function(e){e.execCommand("clearSearch"),M(e)},"Shift-Alt-5":"replace","Alt-/":"autocomplete",Enter:"newlineAndIndent","Ctrl-J":m(function(e){e.replaceSelection("\n","end")}),Tab:"indentAuto","Alt-G G":function(e){var t=y(e,!0);if(null!=t&&t>0)return e.setCursor(t-1);r="Goto line",i=function(t){var n;t&&!isNaN(n=Number(t))&&n==(0|n)&&n>0&&e.setCursor(n-1)},(n=e).openDialog?n.openDialog(r+': <input type="text" style="width: 10em"/>',i,{bottom:!0}):i(prompt(r,""));var n,r,i},"Ctrl-X Tab":function(e){e.indentSelection(y(e,!0)||e.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(e){e.setSelection(e.getCursor("head"),e.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":m("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(e){s(e,e.getCursor(),f(e,e.getCursor(),1),"grow")},"Ctrl-X H":"selectAll","Ctrl-Q Tab":m("insertTab"),"Ctrl-U":function(e){e.state.emacsPrefixMap=!0,e.addKeyMap(O),e.on("keyHandled",T),e.on("inputRead",T)}}),O={"Ctrl-G":S};function P(e){O[e]=function(t){w(t,e)},L["Ctrl-"+e]=function(t){w(t,e)},_["Ctrl-"+e]=!0}for(var R=0;R<10;++R)P(String(R));P("-")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";var t=e.commands,n=e.Pos;function r(t,r){t.extendSelectionsBy(function(i){return t.display.shift||t.doc.extend||i.empty()?function(t,r,i){if(i<0&&0==r.ch)return t.clipPos(n(r.line-1));var o=t.getLine(r.line);if(i>0&&r.ch>=o.length)return t.clipPos(n(r.line+1,0));for(var a,s="start",l=r.ch,c=i<0?0:o.length,u=0;l!=c;l+=i,u++){var p=o.charAt(i<0?l-1:l),h="_"!=p&&e.isWordChar(p)?"w":"o";if("w"==h&&p.toUpperCase()==p&&(h="W"),"start"==s)"o"!=h&&(s="in",a=h);else if("in"==s&&a!=h){if("w"==a&&"W"==h&&i<0&&l--,"W"==a&&"w"==h&&i>0){a="w";continue}break}}return n(r.line,l)}(t.doc,i.head,r):r<0?i.from():i.to()})}t.goSubwordLeft=function(e){r(e,-1)},t.goSubwordRight=function(e){r(e,1)},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)for(var o=t[i].from(),a=t[i].to(),s=o.line;s<=a.line;++s)a.line>o.line&&s==a.line&&0==a.ch||r.push({anchor:s==o.line?o:n(s,0),head:s==a.line?a:n(s)});e.setSelections(r,0)},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},t.selectLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){var o=t[i];r.push({anchor:n(o.from().line,0),head:n(o.to().line+1,0)})}e.setSelections(r)};function i(t,r){if(t.isReadOnly())return e.Pass;t.operation(function(){for(var e=t.listSelections().length,i=[],o=-1,a=0;a<e;a++){var s=t.listSelections()[a].head;if(!(s.line<=o)){var l=n(s.line+(r?0:1),0);t.replaceRange("\n",l,null,"+insertLine"),t.indentLine(l.line,null,!0),i.push({head:l,anchor:l}),o=s.line+1}}t.setSelections(i)}),t.execCommand("indentAuto")}t.insertLineAfter=function(e){return i(e,!1)},t.insertLineBefore=function(e){return i(e,!0)};function o(t,r){for(var i=r.ch,o=i,a=t.getLine(r.line);i&&e.isWordChar(a.charAt(i-1));)--i;for(;o<a.length&&e.isWordChar(a.charAt(o));)++o;return{from:n(r.line,i),to:n(r.line,o),word:a.slice(i,o)}}t.selectNextOccurrence=function(t){var r=t.getCursor("from"),i=t.getCursor("to"),a=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(r,i)){var s=o(t,r);if(!s.word)return;t.setSelection(s.from,s.to),a=!0}else{var l=t.getRange(r,i),c=a?new RegExp("\\b"+l+"\\b"):l,u=t.getSearchCursor(c,i),p=u.findNext();if(p||(p=(u=t.getSearchCursor(c,n(t.firstLine(),0))).findNext()),!p||function(e,t,n){for(var r=0;r<e.length;r++)if(e[r].from()==t&&e[r].to()==n)return!0;return!1}(t.listSelections(),u.from(),u.to()))return e.Pass;t.addSelection(u.from(),u.to())}a&&(t.state.sublimeFindFullWord=t.doc.sel)};function a(e,t){for(var n=e.listSelections(),r=[],i=0;i<n.length;i++){var o=n[i],a={anchor:e.findPosV(o.anchor,t,"line"),head:e.findPosV(o.head,t,"line")};r.push(o),r.push(a)}e.setSelections(r)}t.addCursorToPrevLine=function(e){a(e,-1)},t.addCursorToNextLine=function(e){a(e,1)};var s="(){}[]";function l(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){var o=t[i].head,a=e.scanForBracket(o,-1);if(!a)return!1;for(;;){var l=e.scanForBracket(o,1);if(!l)return!1;if(l.ch==s.charAt(s.indexOf(a.ch)+1)){r.push({anchor:n(a.pos.line,a.pos.ch+1),head:l.pos});break}o=n(l.pos.line,l.pos.ch+1)}}return e.setSelections(r),!0}t.selectScope=function(e){l(e)||e.execCommand("selectAll")},t.selectBetweenBrackets=function(t){if(!l(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy(function(r){var i=t.scanForBracket(r.head,1);if(i&&0!=e.cmpPos(i.pos,r.head))return i.pos;var o=t.scanForBracket(r.head,-1);return o&&n(o.pos.line,o.pos.ch+1)||r.head})},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.firstLine()-1,a=[],s=0;s<r.length;s++){var l=r[s],c=l.from().line-1,u=l.to().line;a.push({anchor:n(l.anchor.line-1,l.anchor.ch),head:n(l.head.line-1,l.head.ch)}),0!=l.to().ch||l.empty()||--u,c>o?i.push(c,u):i.length&&(i[i.length-1]=u),o=u}t.operation(function(){for(var e=0;e<i.length;e+=2){var r=i[e],o=i[e+1],s=t.getLine(r);t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+s,n(t.lastLine()),null,"+swapLine"):t.replaceRange(s+"\n",n(o,0),null,"+swapLine")}t.setSelections(a),t.scrollIntoView()})},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.lastLine()+1,a=r.length-1;a>=0;a--){var s=r[a],l=s.to().line+1,c=s.from().line;0!=s.to().ch||s.empty()||l--,l<o?i.push(l,c):i.length&&(i[i.length-1]=c),o=c}t.operation(function(){for(var e=i.length-2;e>=0;e-=2){var r=i[e],o=i[e+1],a=t.getLine(r);r==t.lastLine()?t.replaceRange("",n(r-1),n(r),"+swapLine"):t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),t.replaceRange(a+"\n",n(o,0),null,"+swapLine")}t.scrollIntoView()})},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},t.joinLines=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){for(var o=t[i],a=o.from(),s=a.line,l=o.to().line;i<t.length-1&&t[i+1].from().line==l;)l=t[++i].to().line;r.push({start:s,end:l,anchor:!o.empty()&&a})}e.operation(function(){for(var t=0,i=[],o=0;o<r.length;o++){for(var a,s=r[o],l=s.anchor&&n(s.anchor.line-t,s.anchor.ch),c=s.start;c<=s.end;c++){var u=c-t;c==s.end&&(a=n(u,e.getLine(u).length+1)),u<e.lastLine()&&(e.replaceRange(" ",n(u),n(u+1,/^\s*/.exec(e.getLine(u+1))[0].length)),++t)}i.push({anchor:l||a,head:a})}e.setSelections(i,0)})},t.duplicateLine=function(e){e.operation(function(){for(var t=e.listSelections().length,r=0;r<t;r++){var i=e.listSelections()[r];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",n(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()})};function c(t,r){if(t.isReadOnly())return e.Pass;for(var i,o=t.listSelections(),a=[],s=0;s<o.length;s++){var l=o[s];if(!l.empty()){for(var c=l.from().line,u=l.to().line;s<o.length-1&&o[s+1].from().line==u;)u=o[++s].to().line;o[s].to().ch||u--,a.push(c,u)}}a.length?i=!0:a.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],o=0;o<a.length;o+=2){var s=a[o],l=a[o+1],c=n(s,0),u=n(l),p=t.getRange(c,u,!1);r?p.sort():p.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1}),t.replaceRange(p,c,u),i&&e.push({anchor:c,head:n(l+1,0)})}i&&t.setSelections(e,0)})}t.sortLines=function(e){c(e,!0)},t.sortLinesInsensitive=function(e){c(e,!1)},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},t.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),a=e.findMarks(i,o),s=0;s<a.length;s++)if(a[s].sublimeBookmark){a[s].clear();for(var l=0;l<n.length;l++)n[l]==a[s]&&n.splice(l--,1);break}s==a.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)};function u(t,n){t.operation(function(){for(var r=t.listSelections(),i=[],a=[],s=0;s<r.length;s++){(c=r[s]).empty()?(i.push(s),a.push("")):a.push(n(t.getRange(c.from(),c.to())))}t.replaceSelections(a,"around","case");var l;for(s=i.length-1;s>=0;s--){var c=r[i[s]];if(!(l&&e.cmpPos(c.head,l)>0)){var u=o(t,c.head);l=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation(function(){for(var r=t.listSelections(),i=t.getOption("indentUnit"),o=r.length-1;o>=0;o--){var a=r[o].head,s=t.getRange({line:a.line,ch:0},a),l=e.countColumn(s,null,t.getOption("tabSize")),c=t.findPosH(a,-1,"char",!1);if(s&&!/\S/.test(s)&&l%i==0){var u=new n(a.line,e.findColumn(s,l-i,i));u.ch!=a.ch&&(c=u)}t.replaceRange("",c,a,"+delete")}})},t.delLineRight=function(e){e.operation(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange("",t[r].anchor,n(t[r].to().line),"+delete");e.scrollIntoView()})},t.upcaseAtCursor=function(e){u(e,function(e){return e.toUpperCase()})},t.downcaseAtCursor=function(e){u(e,function(e){return e.toLowerCase()})},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},t.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},t.selectLinesUpward=function(e){e.operation(function(){for(var t=e.listSelections(),r=0;r<t.length;r++){var i=t[r];i.head.line>e.firstLine()&&e.addSelection(n(i.head.line-1,i.head.ch))}})},t.selectLinesDownward=function(e){e.operation(function(){for(var t=e.listSelections(),r=0;r<t.length;r++){var i=t[r];i.head.line<e.lastLine()&&e.addSelection(n(i.head.line+1,i.head.ch))}})};function p(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=o(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function h(e,t){var r=p(e);if(r){var i=r.query,o=e.getSearchCursor(i,t?r.to:r.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(i,t?n(e.firstLine(),0):e.clipPos(n(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):r.word&&e.setSelection(r.from,r.to))}}t.findUnder=function(e){h(e,!0)},t.findUnderPrevious=function(e){h(e,!1)},t.findAllUnder=function(e){var t=p(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}};var f=e.keyMap;f.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Up":"addCursorToPrevLine","Shift-Cmd-Down":"addCursorToNextLine","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F9:"sortLines","Cmd-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"selectLinesUpward","Ctrl-Shift-Down":"selectLinesDownward","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(f.macSublime),f.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Alt-CtrlUp":"addCursorToPrevLine","Alt-CtrlDown":"addCursorToNextLine","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Ctrl-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"selectLinesUpward","Ctrl-Alt-Down":"selectLinesDownward","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(f.pcSublime);var d=f.default==f.macDefault;f.sublime=d?f.macSublime:f.pcSublime}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/dialog/dialog"),require("../addon/edit/matchbrackets.js")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/dialog/dialog","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";var t=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],n=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],r=e.Pos;e.Vim=function(){function i(t,n){this==e.keyMap.vim&&(e.rmClass(t.getWrapperElement(),"cm-fat-cursor"),"contenteditable"==t.getOption("inputStyle")&&null!=document.body.style.caretColor&&(function(e){var t=e.state.fatCursorMarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();e.state.fatCursorMarks=null,e.off("cursorActivity",s)}(t),t.getInputField().style.caretColor="")),n&&n.attach==o||(r=t,r.setOption("disableInput",!1),r.off("cursorActivity",Ve),e.off(r.getInputField(),"paste",p(r)),r.state.vim=null);var r}function o(t,n){this==e.keyMap.vim&&(e.addClass(t.getWrapperElement(),"cm-fat-cursor"),"contenteditable"==t.getOption("inputStyle")&&null!=document.body.style.caretColor&&((r=t).state.fatCursorMarks=a(r),r.on("cursorActivity",s),t.getInputField().style.caretColor="transparent"));var r;n&&n.attach==o||(i=t,i.setOption("disableInput",!0),i.setOption("showCursorWhenSelecting",!1),e.signal(i,"vim-mode-change",{mode:"normal"}),i.on("cursorActivity",Ve),R(i),e.on(i.getInputField(),"paste",p(i)));var i}function a(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var o=t[i];if(o.empty())if(o.anchor.ch<e.getLine(o.anchor.line).length)n.push(e.markText(o.anchor,r(o.anchor.line,o.anchor.ch+1),{className:"cm-fat-cursor-mark"}));else{var a=document.createElement("span");a.textContent=" ",a.className="cm-fat-cursor-mark",n.push(e.setBookmark(o.anchor,{widget:a}))}}return n}function s(e){var t=e.state.fatCursorMarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();e.state.fatCursorMarks=a(e)}e.defineOption("vimMode",!1,function(t,n,r){n&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!n&&r!=e.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")});function l(t,n){if(n){if(this[t])return this[t];var r=function(e){if("'"==e.charAt(0))return e.charAt(1);var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var r=!1,i=0;i<t.length;i++){var o=t[i];o in c?t[i]=c[o]:r=!0,o in u&&(t[i]=u[o])}return!!r&&(k(n)&&(t[t.length-1]=n.toLowerCase()),"<"+t.join("-")+">")}(t);if(!r)return!1;var i=e.Vim.findKey(n,r);return"function"==typeof i&&e.signal(n,"vim-keypress",r),i}}var c={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},u={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};function p(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(X(e.getCursor(),0,1)),V.enterInsertMode(e,{},t))}),t.onPasteFn}var h=/[\d]/,f=[e.isWordChar,function(t){return t&&!e.isWordChar(t)&&!/\s/.test(t)}],d=[function(e){return/\S/.test(e)}];function y(e,t){for(var n=[],r=e;r<e+t;r++)n.push(String.fromCharCode(r));return n}var m=y(65,26),g=y(97,26),v=y(48,10),b=[].concat(m,g,v,["<",">"]),x=[].concat(m,g,v,["-",'"',".",":","/"]);function w(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function _(e){return/^[a-z]$/.test(e)}function k(e){return/^[A-Z]$/.test(e)}function S(e){return/^\s*$/.test(e)}function C(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}var T={};function E(e,t,n,r,i){if(void 0===t&&!i)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),T[e]={type:n,defaultValue:t,callback:i},r)for(var o=0;o<r.length;o++)T[r[o]]=T[e];t&&M(e,t)}function M(e,t,n,r){var i=T[e],o=(r=r||{}).scope;if(!i)return new Error("Unknown option: "+e);if("boolean"==i.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}i.callback?("local"!==o&&i.callback(t,void 0),"global"!==o&&n&&i.callback(t,n)):("local"!==o&&(i.value="boolean"==i.type?!!t:t),"global"!==o&&n&&(n.state.vim.options[e]={value:t}))}function A(e,t,n){var r=T[e],i=(n=n||{}).scope;if(!r)return new Error("Unknown option: "+e);if(!r.callback)return((o="global"!==i&&t&&t.state.vim.options[e])||"local"!==i&&r||{}).value;var o=t&&r.callback(void 0,t);return"global"!==i&&void 0!==o?o:"local"!==i?r.callback():void 0}E("filetype",void 0,"string",["ft"],function(e,t){if(void 0!==t){if(void 0===e)return"null"==(n=t.getOption("mode"))?"":n;var n=""==e?"null":e;t.setOption("mode",n)}});var L=function(){var e=100,t=-1,n=0,r=0,i=new Array(e);return{cachedCursor:void 0,add:function(o,a,s){var l=i[t%e];function c(n){var r=++t%e,a=i[r];a&&a.clear(),i[r]=o.setBookmark(n)}if(l){var u=l.find();u&&!ee(u,a)&&c(a)}else c(a);c(s),n=t,(r=t-e+1)<0&&(r=0)},move:function(o,a){(t+=a)>n?t=n:t<r&&(t=r);var s=i[(e+t)%e];if(s&&!s.find()){var l,c=a>0?1:-1,u=o.getCursor();do{if((s=i[(e+(t+=c))%e])&&(l=s.find())&&!ee(u,l))break}while(t<n&&t>r)}return s}}},O=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function P(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=O()}P.prototype={exitMacroRecordMode:function(){var e=I.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=I.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};function R(e){return e.state.vim||(e.state.vim={inputState:new z,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}var I;function N(){I={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:L(),macroModeState:new P,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new W({}),searchHistoryController:new $,exCommandHistoryController:new $};for(var e in T){var t=T[e];t.value=t.defaultValue}}var j,D={buildKeyMap:function(){},getRegisterController:function(){return I.registerController},resetVimGlobalState_:N,getVimGlobalState_:function(){return I},maybeInitVimState_:R,suppressErrorLogging:!1,InsertModeKey:Je,map:function(e,t,n){$e.map(e,t,n)},unmap:function(e,t){$e.unmap(e,t)},setOption:M,getOption:A,defineOption:E,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;We[e]=n,$e.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var r=this.findKey(e,t,n);if("function"==typeof r)return r()},findKey:function(n,r,i){var o=R(n);function a(){var e=I.macroModeState;if(e.isRecording){if("q"==r)return e.exitMacroRecordMode(),B(n),!0;"mapping"!=i&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,r=I.registerController.getRegister(n);r&&r.pushText(t)}}(e,r)}}function s(){if("<Esc>"==r)return B(n),o.visualMode?fe(n):o.insertMode&&He(n),!0}var l;return!1===(l=o.insertMode?function(){if(s())return!0;for(var e=o.inputState.keyBuffer=o.inputState.keyBuffer+r,i=1==r.length,a=H.matchCommand(e,t,o.inputState,"insert");e.length>1&&"full"!=a.type;){e=o.inputState.keyBuffer=e.slice(1);var l=H.matchCommand(e,t,o.inputState,"insert");"none"!=l.type&&(a=l)}if("none"==a.type)return B(n),!1;if("partial"==a.type)return j&&window.clearTimeout(j),j=window.setTimeout(function(){o.insertMode&&o.inputState.keyBuffer&&B(n)},A("insertModeEscKeysTimeout")),!i;if(j&&window.clearTimeout(j),i){for(var c=n.listSelections(),u=0;u<c.length;u++){var p=c[u].head;n.replaceRange("",X(p,0,-(e.length-1)),p,"+input")}I.macroModeState.lastInsertModeChanges.changes.pop()}return B(n),a.command}():function(){if(a()||s())return!0;var e=o.inputState.keyBuffer=o.inputState.keyBuffer+r;if(/^[1-9]\d*$/.test(e))return!0;if(!(c=/^(\d*)(.*)$/.exec(e)))return B(n),!1;var i=o.visualMode?"visual":"normal",l=H.matchCommand(c[2]||c[1],t,o.inputState,i);if("none"==l.type)return B(n),!1;if("partial"==l.type)return!0;o.inputState.keyBuffer="";var c;return(c=/^(\d*)(.*)$/.exec(e))[1]&&"0"!=c[1]&&o.inputState.pushRepeatDigit(c[1]),l.command}())?void 0:!0===l?function(){return!0}:function(){return n.operation(function(){n.curOp.isVimOp=!0;try{"keyToKey"==l.type?function(t){for(var i;t;)i=/<\w+-.+?>|<\w+>|./.exec(t),r=i[0],t=t.substring(i.index+r.length),e.Vim.handleKey(n,r,"mapping")}(l.toKeys):H.processCommand(n,o,l)}catch(t){throw n.state.vim=void 0,R(n),e.Vim.suppressErrorLogging||console.log(t),t}return!0})}},handleEx:function(e,t){$e.processCommand(e,t)},defineMotion:function(e,t){q[e]=t},defineAction:function(e,t){V[e]=t},defineOperator:function(e,t){U[e]=t},mapCommand:function(e,t,n,r,i){var o={keys:e,type:t};o[t]=n,o[t+"Args"]=r;for(var a in i)o[a]=i[a];qe(o)},_mapCommand:qe,defineRegister:function(e,t){var n=I.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,x.push(e)},exitVisualMode:fe,exitInsertMode:He};function z(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}z.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},z.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e};function B(t,n){t.state.vim.inputState=new z,e.signal(t,"vim-command-done",n)}function F(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}F.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(O(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function W(e){this.registers=e,this.unnamedRegister=e['"']=new F,e["."]=new F,e[":"]=new F,e["/"]=new F}W.prototype={pushText:function(e,t,n,r,i){r&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(o)k(e)?o.pushText(n,r):o.setText(n,r,i),this.unnamedRegister.setText(o.toString(),r);else{switch(t){case"yank":this.registers[0]=new F(n,r,i);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new F(n,r):(this.shiftNumericRegisters_(),this.registers[1]=new F(n,r))}this.unnamedRegister.setText(n,r,i)}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new F),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&C(e,x)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}};function $(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}$.prototype={nextMatch:function(e,t){var n=this.historyBuffer,r=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var i=this.iterator+r;t?i>=0:i<n.length;i+=r)for(var o=n[i],a=0;a<=o.length;a++)if(this.initialPrefix==o.substring(0,a))return this.iterator=i,o;return i>=n.length?(this.iterator=n.length,this.initialPrefix):i<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var H={matchCommand:function(e,t,n,r){var i=function(e,t,n,r){for(var i,o=[],a=[],s=0;s<t.length;s++){var l=t[s];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||r.operator&&"action"==l.type||!(i=Q(e,l.keys))||("partial"==i&&o.push(l),"full"==i&&a.push(l))}return{partial:o.length&&o,full:a.length&&a}}(e,t,r,n);if(!i.full&&!i.partial)return{type:"none"};if(!i.full&&i.partial)return{type:"partial"};for(var o,a=0;a<i.full.length;a++){var s=i.full[a];o||(o=s)}if("<character>"==o.keys.slice(-11)){var l=function(e){var t=/^.*(<[^>]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" ";break;default:n=""}return n}(e);if(!l)return{type:"none"};n.selectedCharacter=l}return{type:"full",command:o}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=J(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var r=t.inputState;if(r.operator){if(r.operator==n.operator)return r.motion="expandToLine",r.motionArgs={linewise:!0},void this.evalInput(e,t);B(e)}r.operator=n.operator,r.operatorArgs=J(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var r=t.visualMode,i=J(n.operatorMotionArgs);i&&r&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),r||this.processMotion(e,t,n)},processAction:function(e,t,n){var r=t.inputState,i=r.getRepeat(),o=!!i,a=J(n.actionArgs)||{};r.selectedCharacter&&(a.selectedCharacter=r.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),a.repeat=i||1,a.repeatIsExplicit=o,a.registerName=r.registerName,B(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,r,n),V[n.action](e,a,t)},processSearch:function(t,n,r){if(t.getSearchCursor){var i=r.searchArgs.forward,o=r.searchArgs.wholeWordOnly;Te(t).setReversed(!i);var a=i?"/":"?",s=Te(t).getQuery(),l=t.getScrollInfo();switch(r.searchArgs.querySrc){case"prompt":var c=I.macroModeState;c.isPlaying?f(h=c.replaySearchQueries.shift(),!0,!1):Re(t,{onClose:d,prefix:a,desc:Pe,onKeyUp:y,onKeyDown:m});break;case"wordUnderCursor":var u=ye(t,!1,0,!1,!0),p=!0;if(u||(u=ye(t,!1,0,!1,!1),p=!1),!u)return;var h=t.getLine(u.start.line).substring(u.start.ch,u.end.ch);h=p&&o?"\\b"+h+"\\b":h.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1"),I.jumpList.cachedCursor=t.getCursor(),t.setCursor(u.start),f(h,!0,!1)}}function f(e,i,o){I.searchHistoryController.pushInput(e),I.searchHistoryController.reset();try{Ie(t,e,i,o)}catch(n){return Oe(t,"Invalid regex: "+e),void B(t)}H.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:r.searchArgs.toJumplist}})}function d(e){t.scrollTo(l.left,l.top),f(e,!0,!0);var n=I.macroModeState;n.isRecording&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,r=I.registerController.getRegister(n);r&&r.pushSearchQuery&&r.pushSearchQuery(t)}}(n,e)}function y(n,r,o){var a,s,c=e.keyName(n);"Up"==c||"Down"==c?(a="Up"==c,s=n.target?n.target.selectionEnd:0,o(r=I.searchHistoryController.nextMatch(r,a)||""),s&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(s,n.target.value.length))):"Left"!=c&&"Right"!=c&&"Ctrl"!=c&&"Alt"!=c&&"Shift"!=c&&I.searchHistoryController.reset();var u;try{u=Ie(t,r,!0,!0)}catch(n){}u?t.scrollIntoView(je(t,!i,u),30):(De(t),t.scrollTo(l.left,l.top))}function m(n,r,i){var o=e.keyName(n);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==r?(I.searchHistoryController.pushInput(r),I.searchHistoryController.reset(),Ie(t,s),De(t),t.scrollTo(l.left,l.top),e.e_stop(n),B(t),i(),t.focus()):"Up"==o||"Down"==o?e.e_stop(n):"Ctrl-U"==o&&(e.e_stop(n),i(""))}},processEx:function(t,n,r){function i(e){I.exCommandHistoryController.pushInput(e),I.exCommandHistoryController.reset(),$e.processCommand(t,e)}function o(n,r,i){var o,a,s=e.keyName(n);("Esc"==s||"Ctrl-C"==s||"Ctrl-["==s||"Backspace"==s&&""==r)&&(I.exCommandHistoryController.pushInput(r),I.exCommandHistoryController.reset(),e.e_stop(n),B(t),i(),t.focus()),"Up"==s||"Down"==s?(e.e_stop(n),o="Up"==s,a=n.target?n.target.selectionEnd:0,i(r=I.exCommandHistoryController.nextMatch(r,o)||""),a&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(a,n.target.value.length))):"Ctrl-U"==s?(e.e_stop(n),i("")):"Left"!=s&&"Right"!=s&&"Ctrl"!=s&&"Alt"!=s&&"Shift"!=s&&I.exCommandHistoryController.reset()}"keyToEx"==r.type?$e.processCommand(t,r.exArgs.input):n.visualMode?Re(t,{onClose:i,prefix:":",value:"'<,'>",onKeyDown:o}):Re(t,{onClose:i,prefix:":",onKeyDown:o})},evalInput:function(e,t){var n,i,o,a=t.inputState,s=a.motion,l=a.motionArgs||{},c=a.operator,u=a.operatorArgs||{},p=a.registerName,h=t.sel,f=Z(t.visualMode?G(e,h.head):e.getCursor("head")),d=Z(t.visualMode?G(e,h.anchor):e.getCursor("anchor")),y=Z(f),m=Z(d);if(c&&this.recordLastEdit(t,a),(o=void 0!==a.repeatOverride?a.repeatOverride:a.getRepeat())>0&&l.explicitRepeat?l.repeatIsExplicit=!0:(l.noRepeat||!l.explicitRepeat&&0===o)&&(o=1,l.repeatIsExplicit=!1),a.selectedCharacter&&(l.selectedCharacter=u.selectedCharacter=a.selectedCharacter),l.repeat=o,B(e),s){var g=q[s](e,f,l,t);if(t.lastMotion=q[s],!g)return;if(l.toJumplist){var v=I.jumpList,b=v.cachedCursor;b?(me(e,b,g),delete v.cachedCursor):me(e,f,g)}g instanceof Array?(i=g[0],n=g[1]):n=g,n||(n=Z(f)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=G(e,n,t.visualBlock)),i&&(i=G(e,i,!0)),i=i||m,h.anchor=i,h.head=n,pe(e),_e(e,t,"<",te(i,n)?i:n),_e(e,t,">",te(i,n)?n:i)):c||(n=G(e,n),e.setCursor(n.line,n.ch))}if(c){if(u.lastSel){i=m;var x=u.lastSel,w=Math.abs(x.head.line-x.anchor.line),_=Math.abs(x.head.ch-x.anchor.ch);n=x.visualLine?r(m.line+w,m.ch):x.visualBlock?r(m.line+w,m.ch+_):x.head.line==x.anchor.line?r(m.line,m.ch+_):r(m.line+w,m.ch),t.visualMode=!0,t.visualLine=x.visualLine,t.visualBlock=x.visualBlock,h=t.sel={anchor:i,head:n},pe(e)}else t.visualMode&&(u.lastSel={anchor:Z(h.anchor),head:Z(h.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var k,C,T,E,M;if(t.visualMode){if(k=ne(h.head,h.anchor),C=re(h.head,h.anchor),T=t.visualLine||u.linewise,M=he(e,{anchor:k,head:C},E=t.visualBlock?"block":T?"line":"char"),T){var A=M.ranges;if("block"==E)for(var L=0;L<A.length;L++)A[L].head.ch=oe(e,A[L].head.line);else"line"==E&&(A[0].head=r(A[0].head.line+1,0))}}else{if(k=Z(i||m),te(C=Z(n||y),k)){var O=k;k=C,C=O}(T=l.linewise||u.linewise)?(R=C,k.ch=0,R.ch=0,R.line++):l.forward&&function(e,t,n){var r=e.getRange(t,n);if(/\n\s*$/.test(r)){var i=r.split("\n");i.pop();for(var o=i.pop();i.length>0&&o&&S(o);o=i.pop())n.line--,n.ch=0;o?(n.line--,n.ch=oe(e,n.line)):n.ch=0}}(e,k,C),M=he(e,{anchor:k,head:C},E="char",!l.inclusive||T)}e.setSelections(M.ranges,M.primary),t.lastMotion=null,u.repeat=o,u.registerName=p,u.linewise=T;var P=U[c](e,u,M.ranges,m,n);t.visualMode&&fe(e,null!=P),P&&e.setCursor(P)}var R},recordLastEdit:function(e,t,n){var r=I.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!1)}},q={moveToTopLine:function(e,t,n){var i=ze(e).top+n.repeat-1;return r(i,de(e.getLine(i)))},moveToMiddleLine:function(e){var t=ze(e),n=Math.floor(.5*(t.top+t.bottom));return r(n,de(e.getLine(n)))},moveToBottomLine:function(e,t,n){var i=ze(e).bottom-n.repeat+1;return r(i,de(e.getLine(i)))},expandToLine:function(e,t,n){return r(t.line+n.repeat-1,1/0)},findNext:function(e,t,n){var r=Te(e),i=r.getQuery();if(i){var o=!n.forward;return o=r.isReversed()?!o:o,Ne(e,i),je(e,o,i,n.repeat)}},goToMark:function(e,t,n,r){var i=Be(e,r,n.selectedCharacter);return i?n.linewise?{line:i.line,ch:de(e.getLine(i.line))}:i:null},moveToOtherHighlightedEnd:function(e,t,n,i){if(i.visualBlock&&n.sameLine){var o=i.sel;return[G(e,r(o.anchor.line,o.head.ch)),G(e,r(o.head.line,o.anchor.ch))]}return[i.sel.head,i.sel.anchor]},jumpToMark:function(e,t,n,i){for(var o=t,a=0;a<n.repeat;a++){var s=o;for(var l in i.marks)if(_(l)){var c=i.marks[l].find();if(!((n.forward?te(c,s):te(s,c))||n.linewise&&c.line==s.line)){var u=ee(s,o),p=n.forward?ie(s,c,o):ie(o,c,s);(u||p)&&(o=c)}}}return n.linewise&&(o=r(o.line,de(e.getLine(o.line)))),o},moveByCharacters:function(e,t,n){var i=t,o=n.repeat,a=n.forward?i.ch+o:i.ch-o;return r(i.line,a)},moveByLines:function(e,t,n,i){var o=t,a=o.ch;switch(i.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:a=i.lastHPos;break;default:i.lastHPos=a}var s=n.repeat+(n.repeatOffset||0),l=n.forward?o.line+s:o.line-s,c=e.firstLine(),u=e.lastLine();return l<c&&o.line==c?this.moveToStartOfLine(e,t,n,i):l>u&&o.line==u?this.moveToEol(e,t,n,i):(n.toFirstChar&&(a=de(e.getLine(l)),i.lastHPos=a),i.lastHSPos=e.charCoords(r(l,a),"div").left,r(l,a))},moveByDisplayLines:function(e,t,n,i){var o=t;switch(i.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:i.lastHSPos=e.charCoords(o,"div").left}var a=n.repeat;if((l=e.findPosV(o,n.forward?a:-a,"line",i.lastHSPos)).hitSide)if(n.forward)var s={top:e.charCoords(l,"div").top+8,left:i.lastHSPos},l=e.coordsChar(s,"div");else{var c=e.charCoords(r(e.firstLine(),0),"div");c.left=i.lastHSPos,l=e.coordsChar(c,"div")}return i.lastHPos=l.ch,l},moveByPage:function(e,t,n){var r=t,i=n.repeat;return e.findPosV(r,n.forward?i:-i,"page")},moveByParagraph:function(e,t,n){var r=n.forward?1:-1;return Se(e,t,n.repeat,r)},moveByScroll:function(e,t,n,r){var i=e.getScrollInfo(),o=null,a=n.repeat;a||(a=i.clientHeight/(2*e.defaultTextHeight()));var s=e.charCoords(t,"local");if(n.repeat=a,!(o=q.moveByDisplayLines(e,t,n,r)))return null;var l=e.charCoords(o,"local");return e.scrollTo(null,i.top+l.top-s.top),o},moveByWords:function(e,t,n){return function(e,t,n,i,o,a){var s=Z(t),l=[];(i&&!o||!i&&o)&&n++;for(var c=!(i&&o),u=0;u<n;u++){var p=xe(e,t,i,a,c);if(!p){var h=oe(e,e.lastLine());l.push(i?{line:e.lastLine(),from:h,to:h}:{line:0,from:0,to:0});break}l.push(p),t=r(p.line,i?p.to-1:p.from)}var f=l.length!=n,d=l[0],y=l.pop();return i&&!o?(f||d.from==s.ch&&d.line==s.line||(y=l.pop()),r(y.line,y.from)):i&&o?r(y.line,y.to-1):!i&&o?(f||d.to==s.ch&&d.line==s.line||(y=l.pop()),r(y.line,y.to)):r(y.line,y.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var r=we(e,n.repeat,n.forward,n.selectedCharacter),i=n.forward?-1:1;return ge(i,n),r?(r.ch+=i,r):null},moveToCharacter:function(e,t,n){var r=n.repeat;return ge(0,n),we(e,r,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){return function(e,t,n,i){var o=Z(e.getCursor()),a=n?1:-1,s=n?e.lineCount():-1,l=o.ch,c=o.line,u=e.getLine(c),p={lineText:u,nextCh:u.charAt(l),lastCh:null,index:l,symb:i,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[i],forward:n,depth:0,curMoveThrough:!1},h=ve[i];if(!h)return o;var f=be[h].init,d=be[h].isComplete;for(f&&f(p);c!==s&&t;){if(p.index+=a,p.nextCh=p.lineText.charAt(p.index),!p.nextCh){if(c+=a,p.lineText=e.getLine(c)||"",a>0)p.index=0;else{var y=p.lineText.length;p.index=y>0?y-1:0}p.nextCh=p.lineText.charAt(p.index)}d(p)&&(o.line=c,o.ch=p.index,t--)}return p.nextCh||p.curMoveThrough?r(c,p.index):o}(e,n.repeat,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,i){var o=n.repeat;return i.lastHPos=o-1,i.lastHSPos=e.charCoords(t,"div").left,function(e,t){var n=e.getCursor().line;return G(e,r(n,t-1))}(e,o)},moveToEol:function(e,t,n,i){var o=t;i.lastHPos=1/0;var a=r(o.line+n.repeat-1,1/0),s=e.clipPos(a);return s.ch--,i.lastHSPos=e.charCoords(s,"div").left,a},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return r(n.line,de(e.getLine(n.line)))},moveToMatchedSymbol:function(e,t){for(var n,i=t,o=i.line,a=i.ch,s=e.getLine(o);a<s.length;a++)if((n=s.charAt(a))&&(c=n,-1!="()[]{}".indexOf(c))){var l=e.getTokenTypeAt(r(o,a+1));if("string"!==l&&"comment"!==l)break}var c;return a<s.length?e.findMatchingBracket(r(o,a)).to:i},moveToStartOfLine:function(e,t){return r(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var i=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(i=n.repeat-e.getOption("firstLineNumber")),r(i,de(e.getLine(i)))},textObjectManipulation:function(e,t,n,i){var o=n.selectedCharacter;"b"==o?o="(":"B"==o&&(o="{");var a,s=!n.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"["}[o])a=function(e,t,n,i){var o,a,s=t,l={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[n],c={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[n],u=e.getLine(s.line).charAt(s.ch)===c?1:0;if(o=e.scanForBracket(r(s.line,s.ch+u),-1,null,{bracketRegex:l}),a=e.scanForBracket(r(s.line,s.ch+u),1,null,{bracketRegex:l}),!o||!a)return{start:s,end:s};if(o=o.pos,a=a.pos,o.line==a.line&&o.ch>a.ch||o.line>a.line){var p=o;o=a,a=p}return i?a.ch+=1:o.ch+=1,{start:o,end:a}}(e,t,o,s);else if({"'":!0,'"':!0}[o])a=function(e,t,n,i){var o,a,s,l,c=Z(t),u=e.getLine(c.line).split(""),p=u.indexOf(n);if(c.ch<p?c.ch=p:p<c.ch&&u[c.ch]==n&&(a=c.ch,--c.ch),u[c.ch]!=n||a)for(s=c.ch;s>-1&&!o;s--)u[s]==n&&(o=s+1);else o=c.ch+1;if(o&&!a)for(s=o,l=u.length;s<l&&!a;s++)u[s]==n&&(a=s);return o&&a?(i&&(--o,++a),{start:r(c.line,o),end:r(c.line,a)}):{start:c,end:c}}(e,t,o,s);else if("W"===o)a=ye(e,s,0,!0);else if("w"===o)a=ye(e,s,0,!1);else{if("p"!==o)return null;if(a=Se(e,t,n.repeat,0,s),n.linewise=!0,i.visualMode)i.visualLine||(i.visualLine=!0);else{var l=i.inputState.operatorArgs;l&&(l.linewise=!0),a.end.line--}}return e.state.vim.visualMode?function(e,t,n){var i,o=e.state.vim.sel,a=o.head,s=o.anchor;return te(n,t)&&(i=n,n=t,t=i),te(a,s)?(a=ne(t,a),s=re(s,n)):(s=ne(t,s),-1==(a=X(a=re(a,n),0,-1)).ch&&a.line!=e.firstLine()&&(a=r(a.line-1,oe(e,a.line-1)))),[s,a]}(e,a.start,a.end):[a.start,a.end]},repeatLastCharacterSearch:function(e,t,n){var r=I.lastCharacterSearch,i=n.repeat,o=n.forward===r.forward,a=(r.increment?1:0)*(o?-1:1);e.moveH(-a,"char"),n.inclusive=!!o;var s=we(e,i,o,r.selectedCharacter);return s?(s.ch+=a,s):(e.moveH(a,"char"),t)}};function K(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n}var U={change:function(t,n,i){var o,a,s=t.state.vim;if(I.macroModeState.lastInsertModeChanges.inVisualBlock=s.visualBlock,s.visualMode){a=t.getSelection();var l=K("",i.length);t.replaceSelections(l),o=ne(i[0].head,i[0].anchor)}else{var c=i[0].anchor,u=i[0].head;a=t.getRange(c,u);var p=s.lastEditInputState||{};if("moveByWords"==p.motion&&!S(a)){var h=/\s+$/.exec(a);h&&p.motionArgs&&p.motionArgs.forward&&(u=X(u,0,-h[0].length),a=a.slice(0,-h[0].length))}var f=new r(c.line-1,Number.MAX_VALUE),d=t.firstLine()==t.lastLine();u.line>t.lastLine()&&n.linewise&&!d?t.replaceRange("",f,u):t.replaceRange("",c,u),n.linewise&&(d||(t.setCursor(f),e.commands.newlineAndIndent(t)),c.ch=Number.MAX_VALUE),o=c}I.registerController.pushText(n.registerName,"change",a,n.linewise,i.length>1),V.enterInsertMode(t,{head:o},t.state.vim)},delete:function(e,t,n){var i,o,a=e.state.vim;if(a.visualBlock){o=e.getSelection();var s=K("",n.length);e.replaceSelections(s),i=n[0].anchor}else{var l=n[0].anchor,c=n[0].head;t.linewise&&c.line!=e.firstLine()&&l.line==e.lastLine()&&l.line==c.line-1&&(l.line==e.firstLine()?l.ch=0:l=r(l.line-1,oe(e,l.line-1))),o=e.getRange(l,c),e.replaceRange("",l,c),i=l,t.linewise&&(i=q.moveToFirstNonWhiteSpaceCharacter(e,l))}return I.registerController.pushText(t.registerName,"delete",o,t.linewise,a.visualBlock),G(e,i,a.insertMode)},indent:function(e,t,n){var r=e.state.vim,i=n[0].anchor.line,o=r.visualBlock?n[n.length-1].anchor.line:n[0].head.line,a=r.visualMode?t.repeat:1;t.linewise&&o--;for(var s=i;s<=o;s++)for(var l=0;l<a;l++)e.indentLine(s,t.indentRight);return q.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,r,i){for(var o=e.getSelections(),a=[],s=t.toLower,l=0;l<o.length;l++){var c=o[l],u="";if(!0===s)u=c.toLowerCase();else if(!1===s)u=c.toUpperCase();else for(var p=0;p<c.length;p++){var h=c.charAt(p);u+=k(h)?h.toLowerCase():h.toUpperCase()}a.push(u)}return e.replaceSelections(a),t.shouldMoveCursor?i:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?q.moveToFirstNonWhiteSpaceCharacter(e,r):t.linewise?r:ne(n[0].anchor,n[0].head)},yank:function(e,t,n,r){var i=e.state.vim,o=e.getSelection(),a=i.visualMode?ne(i.sel.anchor,i.sel.head,n[0].head,n[0].anchor):r;return I.registerController.pushText(t.registerName,"yank",o,t.linewise,i.visualBlock),a}};var V={jumpListWalk:function(e,t,n){if(!n.visualMode){var r=t.repeat,i=t.forward,o=I.jumpList.move(e,i?r:-r),a=o?o.find():void 0;a=a||e.getCursor(),e.setCursor(a)}},scroll:function(e,t,n){if(!n.visualMode){var r=t.repeat||1,i=e.defaultTextHeight(),o=e.getScrollInfo().top,a=i*r,s=t.forward?o+a:o-a,l=Z(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)s>c.top?(l.line+=(s-c.top)/i,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,s);else{var u=s+e.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/i,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,s)}}},scrollToCursor:function(e,t){var n=e.getCursor().line,i=e.charCoords(r(n,0),"local"),o=e.getScrollInfo().clientHeight,a=i.top,s=i.bottom-a;switch(t.position){case"center":a=a-o/2+s;break;case"bottom":a=a-o+s}e.scrollTo(null,a)},replayMacro:function(e,t,n){var r=t.selectedCharacter,i=t.repeat,o=I.macroModeState;for("@"==r&&(r=o.latestRegister);i--;)Ke(e,n,o,r)},enterMacroRecordMode:function(e,t){var n=I.macroModeState,r=t.selectedCharacter;I.registerController.isValidRegister(r)&&n.enterMacroRecordMode(e,r)},toggleOverwrite:function(t){t.state.overwrite?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(t,n,i){if(!t.getOption("readOnly")){i.insertMode=!0,i.insertModeRepeat=n&&n.repeat||1;var o=n?n.insertAt:null,a=i.sel,s=n.head||t.getCursor("head"),l=t.listSelections().length;if("eol"==o)s=r(s.line,oe(t,s.line));else if("charAfter"==o)s=X(s,0,1);else if("firstNonBlank"==o)s=q.moveToFirstNonWhiteSpaceCharacter(t,s);else if("startOfSelectedArea"==o)i.visualBlock?(s=r(Math.min(a.head.line,a.anchor.line),Math.min(a.head.ch,a.anchor.ch)),l=Math.abs(a.head.line-a.anchor.line)+1):s=a.head.line<a.anchor.line?a.head:r(a.anchor.line,0);else if("endOfSelectedArea"==o)i.visualBlock?(s=r(Math.min(a.head.line,a.anchor.line),Math.max(a.head.ch+1,a.anchor.ch)),l=Math.abs(a.head.line-a.anchor.line)+1):s=a.head.line>=a.anchor.line?X(a.head,0,1):r(a.anchor.line,0);else if("inplace"==o&&i.visualMode)return;t.setOption("disableInput",!1),n&&n.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"})):(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})),I.macroModeState.isPlaying||(t.on("change",Ue),e.on(t.getInputField(),"keydown",Xe)),i.visualMode&&fe(t),ce(t,s,l)}},toggleVisualMode:function(t,n,i){var o,a=n.repeat,s=t.getCursor();i.visualMode?i.visualLine^n.linewise||i.visualBlock^n.blockwise?(i.visualLine=!!n.linewise,i.visualBlock=!!n.blockwise,e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),pe(t)):fe(t):(i.visualMode=!0,i.visualLine=!!n.linewise,i.visualBlock=!!n.blockwise,o=G(t,r(s.line,s.ch+a-1),!0),i.sel={anchor:s,head:o},e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),pe(t),_e(t,i,"<",ne(s,o)),_e(t,i,">",re(s,o)))},reselectLastSelection:function(t,n,r){var i=r.lastSelection;if(r.visualMode&&ue(t,r),i){var o=i.anchorMark.find(),a=i.headMark.find();if(!o||!a)return;r.sel={anchor:o,head:a},r.visualMode=!0,r.visualLine=i.visualLine,r.visualBlock=i.visualBlock,pe(t),_e(t,r,"<",ne(o,a)),_e(t,r,">",re(o,a)),e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var i,o;if(n.visualMode){if(i=e.getCursor("anchor"),te(o=e.getCursor("head"),i)){var a=o;o=i,i=a}o.ch=oe(e,o.line)-1}else{var s=Math.max(t.repeat,2);i=e.getCursor(),o=G(e,r(i.line+s-1,1/0))}for(var l=0,c=i.line;c<o.line;c++){l=oe(e,i.line),a=r(i.line+1,oe(e,i.line+1));var u=e.getRange(i,a);u=u.replace(/\n\s*/g," "),e.replaceRange(u,i,a)}var p=r(i.line,l);n.visualMode&&fe(e,!1),e.setCursor(p)},newLineAndEnterInsertMode:function(t,n,i){i.insertMode=!0;var o=Z(t.getCursor());o.line!==t.firstLine()||n.after?(o.line=n.after?o.line:o.line-1,o.ch=oe(t,o.line),t.setCursor(o),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t)):(t.replaceRange("\n",r(t.firstLine(),0)),t.setCursor(t.firstLine(),0)),this.enterInsertMode(t,{repeat:n.repeat},i)},paste:function(e,t,n){var i=Z(e.getCursor()),o=I.registerController.getRegister(t.registerName);if(f=o.toString()){if(t.matchIndent){var a=e.getOption("tabSize"),s=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*a+1*n},l=e.getLine(e.getCursor().line),c=s(l.match(/^\s*/)[0]),u=f.replace(/\n$/,""),p=f!==u,h=s(f.match(/^\s*/)[0]),f=u.replace(/^\s*/gm,function(t){var n=c+(s(t)-h);if(n<0)return"";if(e.getOption("indentWithTabs")){var r=Math.floor(n/a);return Array(r+1).join("\t")}return Array(n+1).join(" ")});f+=p?"\n":""}t.repeat>1&&(f=Array(t.repeat+1).join(f));var d=o.linewise,y=o.blockwise;if(d)n.visualMode?f=n.visualLine?f.slice(0,-1):"\n"+f.slice(0,f.length-1)+"\n":t.after?(f="\n"+f.slice(0,f.length-1),i.ch=oe(e,i.line)):i.ch=0;else{if(y){f=f.split("\n");for(var m=0;m<f.length;m++)f[m]=""==f[m]?" ":f[m]}i.ch+=t.after?1:0}var g,v;if(n.visualMode){n.lastPastedText=f;var b,x=function(e,t){var n=t.lastSelection;return t.visualMode?function(){var t=e.listSelections(),n=t[0],r=t[t.length-1],i=te(n.anchor,n.head)?n.anchor:n.head,o=te(r.anchor,r.head)?r.head:r.anchor;return[i,o]}():function(){var t=e.getCursor(),i=e.getCursor(),o=n.visualBlock;if(o){var a=o.width,s=o.height;i=r(t.line+s,t.ch+a);for(var l=[],c=t.line;c<i.line;c++){var u=r(c,t.ch),p=r(c,i.ch),h={anchor:u,head:p};l.push(h)}e.setSelections(l)}else{var f=n.anchorMark.find(),d=n.headMark.find(),y=d.line-f.line,m=d.ch-f.ch;i={line:i.line+y,ch:y?i.ch:m+i.ch},n.visualLine&&(t=r(t.line,0),i=r(i.line,oe(e,i.line))),e.setSelection(t,i)}return[t,i]}()}(e,n),w=x[0],_=x[1],k=e.getSelection(),S=e.listSelections(),C=new Array(S.length).join("1").split("1");n.lastSelection&&(b=n.lastSelection.headMark.find()),I.registerController.unnamedRegister.setText(k),y?(e.replaceSelections(C),_=r(w.line+f.length-1,w.ch),e.setCursor(w),le(e,_),e.replaceSelections(f),g=w):n.visualBlock?(e.replaceSelections(C),e.setCursor(w),e.replaceRange(f,w,w),g=w):(e.replaceRange(f,w,_),g=e.posFromIndex(e.indexFromPos(w)+f.length-1)),b&&(n.lastSelection.headMark=e.setBookmark(b)),d&&(g.ch=0)}else if(y){for(e.setCursor(i),m=0;m<f.length;m++){var T=i.line+m;T>e.lastLine()&&e.replaceRange("\n",r(T,0)),oe(e,T)<i.ch&&se(e,T,i.ch)}e.setCursor(i),le(e,r(i.line+f.length-1,i.ch)),e.replaceSelections(f),g=i}else e.replaceRange(f,i),d&&t.after?g=r(i.line+1,de(e.getLine(i.line+1))):d&&!t.after?g=r(i.line,de(e.getLine(i.line))):!d&&t.after?(v=e.indexFromPos(i),g=e.posFromIndex(v+f.length-1)):(v=e.indexFromPos(i),g=e.posFromIndex(v+f.length));n.visualMode&&fe(e,!1),e.setCursor(g)}},undo:function(t,n){t.operation(function(){Y(t,e.commands.undo,n.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,n){Y(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){_e(e,n,t.selectedCharacter,e.getCursor())},replace:function(t,n,i){var o,a,s=n.selectedCharacter,l=t.getCursor(),c=t.listSelections();if(i.visualMode)l=t.getCursor("start"),a=t.getCursor("end");else{var u=t.getLine(l.line);(o=l.ch+n.repeat)>u.length&&(o=u.length),a=r(l.line,o)}if("\n"==s)i.visualMode||t.replaceRange("",l,a),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t);else{var p=t.getRange(l,a);if(p=p.replace(/[^\n]/g,s),i.visualBlock){var h=new Array(t.getOption("tabSize")+1).join(" ");p=(p=t.getSelection()).replace(/\t/g,h).replace(/[^\n]/g,s).split("\n"),t.replaceSelections(p)}else t.replaceRange(p,l,a);i.visualMode?(l=te(c[0].anchor,c[0].head)?c[0].anchor:c[0].head,t.setCursor(l),fe(t,!1)):t.setCursor(X(a,0,-1))}},incrementNumberToken:function(e,t){for(var n,i,o,a,s,l=e.getCursor(),c=e.getLine(l.line),u=/-?\d+/g;null!==(n=u.exec(c))&&(s=n[0],o=(i=n.index)+s.length,!(l.ch<o)););if((t.backtrack||!(o<=l.ch))&&s){var p=t.increase?1:-1,h=parseInt(s)+p*t.repeat,f=r(l.line,i),d=r(l.line,o);a=h.toString(),e.replaceRange(a,f,d),e.setCursor(r(l.line,i+a.length-1))}},repeatLastEdit:function(e,t,n){if(n.lastEditInputState){var r=t.repeat;r&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=r:r=n.lastEditInputState.repeatOverride||r,Qe(e,n,r,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:He};function G(e,t,n){var i=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=oe(e,i)-1;o=n?o+1:o;var a=Math.min(Math.max(0,t.ch),o);return r(i,a)}function J(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function X(e,t,n){return"object"==typeof t&&(n=t.ch,t=t.line),r(e.line+t,e.ch+n)}function Q(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,r=e.slice(0,n),i=t.slice(0,n);return r==i&&e.length>n?"full":0==i.indexOf(r)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function Y(e,t,n){return function(){for(var r=0;r<n;r++)t(e)}}function Z(e){return r(e.line,e.ch)}function ee(e,t){return e.ch==t.ch&&e.line==t.line}function te(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function ne(e,t){return arguments.length>2&&(t=ne.apply(void 0,Array.prototype.slice.call(arguments,1))),te(e,t)?e:t}function re(e,t){return arguments.length>2&&(t=re.apply(void 0,Array.prototype.slice.call(arguments,1))),te(e,t)?t:e}function ie(e,t,n){var r=te(e,t),i=te(t,n);return r&&i}function oe(e,t){return e.getLine(t).length}function ae(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function se(e,t,n){var i=oe(e,t),o=new Array(n-i+1).join(" ");e.setCursor(r(t,i)),e.replaceRange(o,e.getCursor())}function le(e,t){var n=[],i=e.listSelections(),o=Z(e.clipPos(t)),a=!ee(t,o),s=function(e,t,n){for(var r=0;r<e.length;r++){var i="head"!=n&&ee(e[r].anchor,t),o="anchor"!=n&&ee(e[r].head,t);if(i||o)return r}return-1}(i,e.getCursor("head")),l=ee(i[s].head,i[s].anchor),c=i.length-1,u=c-s>s?c:0,p=i[u].anchor,h=Math.min(p.line,o.line),f=Math.max(p.line,o.line),d=p.ch,y=o.ch,m=i[u].head.ch-d,g=y-d;m>0&&g<=0?(d++,a||y--):m<0&&g>=0?(d--,l||y++):m<0&&-1==g&&(d--,y++);for(var v=h;v<=f;v++){var b={anchor:new r(v,d),head:new r(v,y)};n.push(b)}return e.setSelections(n),t.ch=y,p.ch=d,p}function ce(e,t,n){for(var r=[],i=0;i<n;i++){var o=X(t,i,0);r.push({anchor:o,head:o})}e.setSelections(r,0)}function ue(e,t){var n=t.sel.anchor,r=t.sel.head;t.lastPastedText&&(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(r),anchor:Z(n),head:Z(r),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function pe(e,t,n){var r=e.state.vim,i=he(e,t=t||r.sel,n=n||r.visualLine?"line":r.visualBlock?"block":"char");e.setSelections(i.ranges,i.primary),Ge(e)}function he(e,t,n,i){var o=Z(t.head),a=Z(t.anchor);if("char"==n){var s=i||te(t.head,t.anchor)?0:1,l=te(t.head,t.anchor)?1:0;return o=X(t.head,0,s),{ranges:[{anchor:a=X(t.anchor,0,l),head:o}],primary:0}}if("line"==n){if(te(t.head,t.anchor))o.ch=0,a.ch=oe(e,a.line);else{a.ch=0;var c=e.lastLine();o.line>c&&(o.line=c),o.ch=oe(e,o.line)}return{ranges:[{anchor:a,head:o}],primary:0}}if("block"==n){for(var u=Math.min(a.line,o.line),p=Math.min(a.ch,o.ch),h=Math.max(a.line,o.line),f=Math.max(a.ch,o.ch)+1,d=h-u+1,y=o.line==u?0:d-1,m=[],g=0;g<d;g++)m.push({anchor:r(u+g,p),head:r(u+g,f)});return{ranges:m,primary:y}}}function fe(t,n){var r=t.state.vim;!1!==n&&t.setCursor(G(t,r.sel.head)),ue(t,r),r.visualMode=!1,r.visualLine=!1,r.visualBlock=!1,e.signal(t,"vim-mode-change",{mode:"normal"}),r.fakeCursor&&r.fakeCursor.clear()}function de(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function ye(e,t,n,i,o){for(var a=function(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=ne(t,e.getCursor("anchor"))),t}(e),s=e.getLine(a.line),l=a.ch,c=o?f[0]:d[0];!c(s.charAt(l));)if(++l>=s.length)return null;i?c=d[0]:(c=f[0])(s.charAt(l))||(c=f[1]);for(var u=l,p=l;c(s.charAt(u))&&u<s.length;)u++;for(;c(s.charAt(p))&&p>=0;)p--;if(p++,t){for(var h=u;/\s/.test(s.charAt(u))&&u<s.length;)u++;if(h==u){for(var y=p;/\s/.test(s.charAt(p-1))&&p>0;)p--;p||(p=y)}}return{start:r(a.line,p),end:r(a.line,u)}}function me(e,t,n){ee(t,n)||I.jumpList.add(e,t,n)}function ge(e,t){I.lastCharacterSearch.increment=e,I.lastCharacterSearch.forward=t.forward,I.lastCharacterSearch.selectedCharacter=t.selectedCharacter}var ve={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},be={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};function xe(e,t,n,r,i){var o=t.line,a=t.ch,s=e.getLine(o),l=n?1:-1,c=r?d:f;if(i&&""==s){if(o+=l,s=e.getLine(o),!w(e,o))return null;a=n?0:s.length}for(;;){if(i&&""==s)return{from:0,to:0,line:o};for(var u=l>0?s.length:-1,p=u,h=u;a!=u;){for(var y=!1,m=0;m<c.length&&!y;++m)if(c[m](s.charAt(a))){for(p=a;a!=u&&c[m](s.charAt(a));)a+=l;if(y=p!=(h=a),p==t.ch&&o==t.line&&h==p+l)continue;return{from:Math.min(p,h+1),to:Math.max(p,h),line:o}}y||(a+=l)}if(!w(e,o+=l))return null;s=e.getLine(o),a=l>0?0:s.length}}function we(e,t,n,i){for(var o,a=e.getCursor(),s=a.ch,l=0;l<t;l++){if(-1==(o=ke(s,e.getLine(a.line),i,n,!0)))return null;s=o}return r(e.getCursor().line,o)}function _e(e,t,n,r){C(n,b)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}function ke(e,t,n,r,i){var o;return r?-1==(o=t.indexOf(n,e+1))||i||(o-=1):-1==(o=t.lastIndexOf(n,e-1))||i||(o+=1),o}function Se(e,t,n,i,o){var a,s=t.line,l=e.firstLine(),c=e.lastLine(),u=s;function p(t){return!e.getLine(t)}function h(e,t,n){return n?p(e)!=p(e+t):!p(e)&&p(e+t)}if(i){for(;l<=u&&u<=c&&n>0;)h(u,i)&&n--,u+=i;return new r(u,0)}var f=e.state.vim;if(f.visualLine&&h(s,1,!0)){var d=f.sel.anchor;h(d.line,-1,!0)&&(o&&d.line==s||(s+=1))}var y=p(s);for(u=s;u<=c&&n;u++)h(u,1,!0)&&(o&&p(u)==y||n--);for(a=new r(u,0),u>c&&!y?y=!0:o=!1,u=s;u>l&&(o&&p(u)!=y&&u!=s||!h(u,-1,!0));u--);return{start:new r(u,0),end:a}}E("pcre",!0,"boolean");function Ce(){}Ce.prototype={getQuery:function(){return I.query},setQuery:function(e){I.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return I.isReversed},setReversed:function(e){I.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};function Te(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new Ce)}function Ee(e){var t=Me(e)||[];if(!t.length)return[];var n=[];if(0===t[0]){for(var r=0;r<t.length;r++)"number"==typeof t[r]&&n.push(e.substring(t[r]+1,t[r+1]));return n}}function Me(e){for(var t=!1,n=[],r=0;r<e.length;r++){var i=e.charAt(r);t||"/"!=i||n.push(r),t=!t&&"\\"==i}return n}var Ae={"\\n":"\n","\\r":"\r","\\t":"\t"};var Le={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"};function Oe(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}var Pe="(Javascript regexp)";function Re(e,t){var n=(t.prefix||"")+" "+(t.desc||""),r=function(e,t){var n='<span style="font-family: monospace; white-space: pre">'+(e||"")+'<input type="text"></span>';return t&&(n+=' <span style="color: #888">'+t+"</span>"),n}(t.prefix,t.desc);i=e,o=r,a=n,s=t.onClose,l=t,i.openDialog?i.openDialog(o,s,{bottom:!0,value:l.value,onKeyDown:l.onKeyDown,onKeyUp:l.onKeyUp,selectValueOnOpen:!1}):s(prompt(a,""));var i,o,a,s,l}function Ie(e,t,n,r){if(t){var i=Te(e),o=function(e,t,n){if(I.registerController.getRegister("/").setText(e),e instanceof RegExp)return e;var r,i,o=Me(e);return o.length?(r=e.substring(0,o[0]),i=-1!=e.substring(o[0]).indexOf("i")):r=e,r?(A("pcre")||(r=function(e){for(var t=!1,n=[],r=-1;r<e.length;r++){var i=e.charAt(r)||"",o=e.charAt(r+1)||"",a=o&&-1!="|(){".indexOf(o);t?("\\"===i&&a||n.push(i),t=!1):"\\"===i?(t=!0,o&&-1!="}".indexOf(o)&&(a=!0),a&&"\\"!==o||n.push(i)):(n.push(i),a&&"\\"!==o&&n.push("\\"))}return n.join("")}(r)),n&&(t=/^[^A-Z]*$/.test(r)),new RegExp(r,t||i?"i":void 0)):null}(t,!!n,!!r);if(o)return Ne(e,o),function(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}return!1}(o,i.getQuery())?o:(i.setQuery(o),o)}}function Ne(e,t){var n=Te(e),r=n.getOverlay();r&&t==r.query||(r&&e.removeOverlay(r),r=function(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(!t||n.sol()){var r=n.match(e,!1);if(r)return 0==r[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+r[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););}else n.skipToEnd()},query:e}}(t),e.addOverlay(r),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(r))}function je(e,t,n,i){return void 0===i&&(i=1),e.operation(function(){for(var o=e.getCursor(),a=e.getSearchCursor(n,o),s=0;s<i;s++){var l=a.find(t);if(0==s&&l&&ee(a.from(),o)&&(l=a.find(t)),!l&&!(a=e.getSearchCursor(n,t?r(e.lastLine()):r(e.firstLine(),0))).find(t))return}return a.from()})}function De(e){var t=Te(e);e.removeOverlay(Te(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function ze(e){var t=e.getScrollInfo(),n=e.coordsChar({left:0,top:6+t.top},"local"),r=t.clientHeight-10+t.top,i=e.coordsChar({left:0,top:r},"local");return{top:n.line,bottom:i.line}}function Be(e,t,n){if("'"==n){var r=e.doc.history.done,i=r[r.length-2];return i&&i.ranges&&i.ranges[0].head}if("."==n){if(0==e.doc.history.lastModTime)return;var o=e.doc.history.done.filter(function(e){if(void 0!==e.changes)return e});return o.reverse(),o[0].changes[0].to}var a=t.marks[n];return a&&a.find()}var Fe=function(){this.buildCommandMap_()};Fe.prototype={processCommand:function(e,t,n){var r=this;e.operation(function(){e.curOp.isVimOp=!0,r._processCommand(e,t,n)})},_processCommand:function(t,n,r){var i=t.state.vim,o=I.registerController.getRegister(":"),a=o.toString();i.visualMode&&fe(t);var s=new e.StringStream(n);o.setText(n);var l=r||{};l.input=n;try{this.parseInput_(t,s,l)}catch(e){throw Oe(t,e),e}var c,u;if(l.commandName){if(c=this.matchCommand_(l.commandName)){if(u=c.name,c.excludeFromCommandHistory&&o.setText(a),this.parseCommandArgs_(s,l,c),"exToKey"==c.type){for(var p=0;p<c.toKeys.length;p++)e.Vim.handleKey(t,c.toKeys[p],"mapping");return}if("exToEx"==c.type)return void this.processCommand(t,c.toInput)}}else void 0!==l.line&&(u="move");if(u)try{We[u](t,l),c&&c.possiblyAsync||!l.callback||l.callback()}catch(e){throw Oe(t,e),e}else Oe(t,'Not an editor command ":'+n+'"')},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var r=t.match(/^(\w+)/);return n.commandName=r?r[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var r=t.next(),i=Be(e,e.state.vim,r);if(!i)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,i.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var n=e.match(/^([+-])?(\d+)/);if(n){var r=parseInt(n[2],10);"-"==n[1]?t-=r:t+=r}return t},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var r=n.argDelimiter||/\s+/,i=ae(t.argString).split(r);i.length&&i[0]&&(t.args=i)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var r=this.commandMap_[n];if(0===r.name.indexOf(e))return r}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<n.length;e++){var t=n[e],r=t.shortName||t.name;this.commandMap_[r]=t}},map:function(e,n,r){if(":"!=e&&":"==e.charAt(0)){if(r)throw Error("Mode not supported for ex mappings");var i=e.substring(1);":"!=n&&":"==n.charAt(0)?this.commandMap_[i]={name:i,type:"exToEx",toInput:n.substring(1),user:!0}:this.commandMap_[i]={name:i,type:"exToKey",toKeys:n,user:!0}}else if(":"!=n&&":"==n.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:n.substring(1)}};r&&(o.context=r),t.unshift(o)}else o={keys:e,type:"keyToKey",toKeys:n},r&&(o.context=r),t.unshift(o)},unmap:function(e,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var r=e.substring(1);if(this.commandMap_[r]&&this.commandMap_[r].user)return void delete this.commandMap_[r]}else for(var i=e,o=0;o<t.length;o++)if(i==t[o].keys&&t[o].context===n)return void t.splice(o,1);throw Error("No such mapping.")}};var We={colorscheme:function(e,t){!t.args||t.args.length<1?Oe(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,n){var r=t.args;!r||r.length<2?e&&Oe(e,"Invalid mapping: "+t.input):$e.map(r[0],r[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var r=t.args;!r||r.length<1?e&&Oe(e,"No such mapping: "+t.input):$e.unmap(r[0],n)},move:function(e,t){H.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,r=t.setCfg||{};if(!n||n.length<1)e&&Oe(e,"Invalid mapping: "+t.input);else{var i=n[0].split("="),o=i[0],a=i[1],s=!1;if("?"==o.charAt(o.length-1)){if(a)throw Error("Trailing characters: "+t.argString);o=o.substring(0,o.length-1),s=!0}void 0===a&&"no"==o.substring(0,2)&&(o=o.substring(2),a=!1);var l=T[o]&&"boolean"==T[o].type;if(l&&void 0==a&&(a=!0),!l&&void 0===a||s){var c=A(o,e,r);c instanceof Error?Oe(e,c.message):Oe(e,!0===c||!1===c?" "+(c?"":"no")+o:"  "+o+"="+c)}else{var u=M(o,a,e,r);u instanceof Error&&Oe(e,u.message)}}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,r=I.registerController.registers,i="----------Registers----------<br><br>";if(n){n=n.join("");for(var o=0;o<n.length;o++)a=n.charAt(o),I.registerController.isValidRegister(a)&&(i+='"'+a+"    "+(r[a]||new F).toString()+"<br>")}else for(var a in r){var s=r[a].toString();s.length&&(i+='"'+a+"    "+s+"<br>")}Oe(e,i)},sort:function(t,n){var i,o,a,s,l,c=function(){if(n.argString){var t=new e.StringStream(n.argString);if(t.eat("!")&&(i=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var r=t.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!r&&!t.eol())return"Invalid arguments";if(r[1]){o=-1!=r[1].indexOf("i"),a=-1!=r[1].indexOf("u");var c=-1!=r[1].indexOf("d")||-1!=r[1].indexOf("n")&&1,u=-1!=r[1].indexOf("x")&&1,p=-1!=r[1].indexOf("o")&&1;if(c+u+p>1)return"Invalid arguments";s=(c?"decimal":u&&"hex")||p&&"octal"}r[2]&&(l=new RegExp(r[2].substr(1,r[2].length-2),o?"i":""))}}();if(c)Oe(t,c+": "+n.argString);else{var u=n.line||t.firstLine(),p=n.lineEnd||n.line||t.lastLine();if(u!=p){var h=r(u,0),f=r(p,oe(t,p)),d=t.getRange(h,f).split("\n"),y=l||("decimal"==s?/(-?)([\d]+)/:"hex"==s?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==s?/([0-7]+)/:null),m="decimal"==s?10:"hex"==s?16:"octal"==s?8:null,g=[],v=[];if(s||l)for(var b=0;b<d.length;b++){var x=l?d[b].match(l):null;x&&""!=x[0]?g.push(x):!l&&y.exec(d[b])?g.push(d[b]):v.push(d[b])}else v=d;if(g.sort(l?function(e,t){if(i){var n;n=e,e=t,t=n}return o&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}:k),l)for(b=0;b<g.length;b++)g[b]=g[b].input;else s||v.sort(k);if(d=i?g.concat(v):v.concat(g),a){var w,_=d;for(d=[],b=0;b<_.length;b++)_[b]!=w&&d.push(_[b]),w=_[b]}t.replaceRange(d.join("\n"),h,f)}}function k(e,t){if(i){var n;n=e,e=t,t=n}o&&(e=e.toLowerCase(),t=t.toLowerCase());var r=s&&y.exec(e),a=s&&y.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),m))-(a=parseInt((a[1]+a[2]).toLowerCase(),m)):e<t?-1:1}},global:function(e,t){var n=t.argString;if(n){var r,i=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),a=Ee(n),s=n;if(a.length&&(s=a[0],r=a.slice(1,a.length).join("/")),s)try{Ie(e,s,!0,!0)}catch(t){return void Oe(e,"Invalid regex: "+s)}for(var l=Te(e).getQuery(),c=[],u="",p=i;p<=o;p++)l.test(e.getLine(p))&&(c.push(p+1),u+=e.getLine(p)+"<br>");if(r){var h=0,f=function(){if(h<c.length){var t=c[h]+r;$e.processCommand(e,t,{callback:f})}h++};f()}else Oe(e,u)}else Oe(e,"Regular Expression missing from global")},substitute:function(t,n){if(!t.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var i,o,a,s,l=n.argString,c=l?Ee(l):[],u="",p=!1,f=!1;if(c.length)i=c[0],u=c[1],i&&"$"===i[i.length-1]&&(i=i.slice(0,i.length-1)+"\\n",u=u?u+"\n":"\n"),void 0!==u&&(u=A("pcre")?function(t){for(var n=new e.StringStream(t),r=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)r.push(n.next());var i=!1;for(var o in Le)if(n.match(o,!0)){i=!0,r.push(Le[o]);break}i||r.push(n.next())}return r.join("")}(u):function(e){for(var t=!1,n=[],r=-1;r<e.length;r++){var i=e.charAt(r)||"",o=e.charAt(r+1)||"";Ae[i+o]?(n.push(Ae[i+o]),r++):t?(n.push(i),t=!1):"\\"===i?(t=!0,a=o,h.test(a)||"$"===o?n.push("$"):"/"!==o&&"\\"!==o&&n.push("\\")):("$"===i&&n.push("$"),n.push(i),"/"===o&&n.push("\\"))}var a;return n.join("")}(u),I.lastSubstituteReplacePart=u),o=c[2]?c[2].split(" "):[];else if(l&&l.length)return void Oe(t,"Substitutions should be of the form :s/pattern/replace/");if(o&&(a=o[0],s=parseInt(o[1]),a&&(-1!=a.indexOf("c")&&(p=!0,a.replace("c","")),-1!=a.indexOf("g")&&(f=!0,a.replace("g","")),i=i+"/"+a)),i)try{Ie(t,i,!0,!0)}catch(e){return void Oe(t,"Invalid regex: "+i)}if(void 0!==(u=u||I.lastSubstituteReplacePart)){var d=Te(t).getQuery(),y=void 0!==n.line?n.line:t.getCursor().line,m=n.lineEnd||y;y==t.firstLine()&&m==t.lastLine()&&(m=1/0),s&&(m=(y=m)+s-1);var g=G(t,r(y,0));!function(t,n,r,i,o,a,s,l,c){t.state.vim.exMode=!0;var u=!1,p=a.from();function h(){t.operation(function(){for(;!u;)f(),d();y()})}function f(){var e=t.getRange(a.from(),a.to()),n=e.replace(s,l);a.replace(n)}function d(){for(;a.findNext()&&(e=a.from(),n=i,s=o,"number"!=typeof e&&(e=e.line),n instanceof Array?C(e,n):s?e>=n&&e<=s:e==n);)if(r||!p||a.from().line!=p.line)return t.scrollIntoView(a.from(),30),t.setSelection(a.from(),a.to()),p=a.from(),void(u=!1);var e,n,s;u=!0}function y(e){if(e&&e(),t.focus(),p){t.setCursor(p);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=p.ch}c&&c()}if(d(),!u)return n?void Re(t,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:function(n,r,i){switch(e.e_stop(n),e.keyName(n)){case"Y":f(),d();break;case"N":d();break;case"A":var o=c;c=void 0,t.operation(h),c=o;break;case"L":f();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":y(i)}return u&&y(i),!0}}):(h(),void(c&&c()));Oe(t,"No matches for "+s.source)}(t,p,f,y,m,t.getSearchCursor(d,g),d,u,n.callback)}else Oe(t,"No previous substitute regular expression")},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save&&t.save()},nohlsearch:function(e){De(e)},yank:function(e){var t=Z(e.getCursor()).line,n=e.getLine(t);I.registerController.pushText("0","yank",n,!0,!0)},delmarks:function(t,n){if(n.argString&&ae(n.argString))for(var r=t.state.vim,i=new e.StringStream(ae(n.argString));!i.eol();){i.eatSpace();var o=i.pos;if(!i.match(/[a-zA-Z]/,!1))return void Oe(t,"Invalid argument: "+n.argString.substring(o));var a=i.next();if(i.match("-",!0)){if(!i.match(/[a-zA-Z]/,!1))return void Oe(t,"Invalid argument: "+n.argString.substring(o));var s=a,l=i.next();if(!(_(s)&&_(l)||k(s)&&k(l)))return void Oe(t,"Invalid argument: "+s+"-");var c=s.charCodeAt(0),u=l.charCodeAt(0);if(c>=u)return void Oe(t,"Invalid argument: "+n.argString.substring(o));for(var p=0;p<=u-c;p++){var h=String.fromCharCode(c+p);delete r.marks[h]}}else delete r.marks[a]}else Oe(t,"Argument required")}},$e=new Fe;e.keyMap.vim={attach:o,detach:i,call:l};function He(t){var n=t.state.vim,r=I.macroModeState,i=I.registerController.getRegister("."),o=r.isPlaying,a=r.lastInsertModeChanges,s=[];if(!o){for(var l=a.inVisualBlock&&n.lastSelection?n.lastSelection.visualBlock.height:1,c=a.changes,u=(s=[],0);u<c.length;)s.push(c[u]),c[u]instanceof Je?u++:u+=l;a.changes=s,t.off("change",Ue),e.off(t.getInputField(),"keydown",Xe)}!o&&n.insertModeRepeat>1&&(Qe(t,n,n.insertModeRepeat-1,!0),n.lastEditInputState.repeatOverride=n.insertModeRepeat),delete n.insertModeRepeat,n.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),i.setText(a.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),r.isRecording&&function(e){if(!e.isPlaying){var t=e.latestRegister,n=I.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}(r)}function qe(e){t.unshift(e)}E("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:o,detach:i,call:l},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:o,detach:i,call:l};function Ke(t,n,r,i){var o=I.registerController.getRegister(i);if(":"==i)return o.keyBuffer[0]&&$e.processCommand(t,o.keyBuffer[0]),void(r.isPlaying=!1);var a=o.keyBuffer,s=0;r.isPlaying=!0,r.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<a.length;l++)for(var c,u,p=a[l];p;)if(u=(c=/<\w+-.+?>|<\w+>|./.exec(p))[0],p=p.substring(c.index+u.length),e.Vim.handleKey(t,u,"macro"),n.insertMode){var h=o.insertModeChanges[s++].changes;I.macroModeState.lastInsertModeChanges.changes=h,Ye(t,h,1),He(t)}r.isPlaying=!1}function Ue(e,t){var n=I.macroModeState,r=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(r.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var i=t.text.join("\n");r.maybeReset&&(r.changes=[],r.maybeReset=!1),e.state.overwrite&&!/\n/.test(i)?r.changes.push([i]):r.changes.push(i)}t=t.next}}function Ve(t){var n=t.state.vim;if(n.insertMode){var r=I.macroModeState;if(r.isPlaying)return;var i=r.lastInsertModeChanges;i.expectCursorActivityForChange?i.expectCursorActivityForChange=!1:i.maybeReset=!0}else t.curOp.isVimOp||function(t,n){var r=t.getCursor("anchor"),i=t.getCursor("head");if(n.visualMode&&!t.somethingSelected()?fe(t,!1):n.visualMode||n.insertMode||!t.somethingSelected()||(n.visualMode=!0,n.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual"})),n.visualMode){var o=te(i,r)?0:-1,a=te(i,r)?-1:0;i=X(i,0,o),r=X(r,0,a),n.sel={anchor:r,head:i},_e(t,n,"<",ne(i,r)),_e(t,n,">",re(i,r))}else n.insertMode||(n.lastHPos=t.getCursor().ch)}(t,n);n.visualMode&&Ge(t)}function Ge(e){var t=e.state.vim,n=G(e,Z(t.sel.head)),r=X(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,r,{className:"cm-animate-fat-cursor"})}function Je(e){this.keyName=e}function Xe(t){var n=I.macroModeState.lastInsertModeChanges,r=e.keyName(t);r&&(-1==r.indexOf("Delete")&&-1==r.indexOf("Backspace")||e.lookupKey(r,"vim-insert",i));function i(){return n.maybeReset&&(n.changes=[],n.maybeReset=!1),n.changes.push(new Je(r)),!0}}function Qe(e,t,n,r){var i=I.macroModeState;i.isPlaying=!0;var o=!!t.lastEditActionCommand,a=t.inputState;function s(){o?H.processAction(e,t,t.lastEditActionCommand):H.evalInput(e,t)}function l(n){if(i.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var r=i.lastInsertModeChanges;Ye(e,r.changes,n)}}if(t.inputState=t.lastEditInputState,o&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<n;c++)s(),l(1);else r||s(),l(n);t.inputState=a,t.insertMode&&!r&&He(e),i.isPlaying=!1}function Ye(t,n,r){function i(n){return"string"==typeof n?e.commands[n](t):n(t),!0}var o=t.getCursor("head"),a=I.macroModeState.lastInsertModeChanges.inVisualBlock;if(a){var s=t.state.vim.lastSelection,l=(c=s.anchor,u=s.head,{line:u.line-c.line,ch:u.line-c.line});ce(t,o,l.line+1),r=t.listSelections().length,t.setCursor(o)}for(var c,u,p=0;p<r;p++){a&&t.setCursor(X(o,p,0));for(var h=0;h<n.length;h++){var f=n[h];if(f instanceof Je)e.lookupKey(f.keyName,"vim-insert",i);else if("string"==typeof f){var d=t.getCursor();t.replaceRange(f,d,d)}else{var y=t.getCursor(),m=X(y,0,f[0].length);t.replaceRange(f[0],y,m)}}}a&&t.setCursor(X(o,0,1))}return N(),D}()}),function(){var e={};!function(e){var t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n=new RegExp("["+t+"]"),r=new RegExp("["+t+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=/\r\n|[\n\r\u2028\u2029]/g,e.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&n.test(String.fromCharCode(e)))},e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&r.test(String.fromCharCode(e))))}}(e);function t(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function n(e){return e.replace(/^\s+|\s+$/g,"")}function r(r,a){"use strict";return new function(r,a){var s,l,c,u,p,h,f,d,y,m,g,v,b,x=[],w="";v={TK_START_EXPR:function(){N();var e=i.Expression;if("["===u.text){if("TK_WORD"===p||")"===d.last_text)return"TK_RESERVED"===p&&t(d.last_text,c.line_starters)&&(s.space_before_token=!0),L(e),M(),A(),void(b.space_in_paren&&(s.space_before_token=!0));e=i.ArrayLiteral,O(d.mode)&&("["!==d.last_text&&(","!==d.last_text||"]"!==h&&"}"!==h)||b.keep_array_indentation||T())}else"TK_RESERVED"===p&&"for"===d.last_text?e=i.ForInitializer:"TK_RESERVED"===p&&t(d.last_text,["if","while"])&&(e=i.Conditional);";"===d.last_text||"TK_START_BLOCK"===p?T():"TK_END_EXPR"===p||"TK_START_EXPR"===p||"TK_END_BLOCK"===p||"."===d.last_text?C(u.wanted_newline):"TK_RESERVED"===p&&"("===u.text||"TK_WORD"===p||"TK_OPERATOR"===p?"TK_RESERVED"===p&&("function"===d.last_word||"typeof"===d.last_word)||"*"===d.last_text&&"function"===h?b.space_after_anon_function&&(s.space_before_token=!0):"TK_RESERVED"!==p||!t(d.last_text,c.line_starters)&&"catch"!==d.last_text||b.space_before_conditional&&(s.space_before_token=!0):s.space_before_token=!0;"("===u.text&&"TK_RESERVED"===p&&"await"===d.last_word&&(s.space_before_token=!0);"("===u.text&&("TK_EQUALS"!==p&&"TK_OPERATOR"!==p||I()||C());"("===u.text&&"TK_WORD"!==p&&"TK_RESERVED"!==p&&C();L(e),M(),b.space_in_paren&&(s.space_before_token=!0);A()},TK_END_EXPR:function(){for(;d.mode===i.Statement;)R();d.multiline_frame&&C("]"===u.text&&O(d.mode)&&!b.keep_array_indentation);b.space_in_paren&&("TK_START_EXPR"!==p||b.space_in_empty_paren?s.space_before_token=!0:(s.trim(),s.space_before_token=!1));"]"===u.text&&b.keep_array_indentation?(M(),R()):(R(),M());s.remove_redundant_indentation(y),d.do_while&&y.mode===i.Conditional&&(y.mode=i.Expression,d.do_block=!1,d.do_while=!1)},TK_START_BLOCK:function(){var e=D(1),n=D(2);n&&(t(n.text,[":",","])&&t(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||t(e.text,["get","set"])&&t(n.type,["TK_WORD","TK_RESERVED"]))?t(h,["class","interface"])?L(i.BlockStatement):L(i.ObjectLiteral):L(i.BlockStatement);var r=!e.comments_before.length&&"}"===e.text&&"function"===d.last_word&&"TK_END_EXPR"===p;"expand"===b.brace_style||"none"===b.brace_style&&u.wanted_newline?"TK_OPERATOR"!==p&&(r||"TK_EQUALS"===p||"TK_RESERVED"===p&&j(d.last_text)&&"else"!==d.last_text)?s.space_before_token=!0:T(!1,!0):"TK_OPERATOR"!==p&&"TK_START_EXPR"!==p?"TK_START_BLOCK"===p?T():s.space_before_token=!0:O(y.mode)&&","===d.last_text&&("}"===h?s.space_before_token=!0:T());M(),A()},TK_END_BLOCK:function(){for(;d.mode===i.Statement;)R();var e="TK_START_BLOCK"===p;"expand"===b.brace_style?e||T():e||(O(d.mode)&&b.keep_array_indentation?(b.keep_array_indentation=!1,T(),b.keep_array_indentation=!0):T());R(),M()},TK_WORD:z,TK_RESERVED:z,TK_SEMICOLON:function(){N()&&(s.space_before_token=!1);for(;d.mode===i.Statement&&!d.if_block&&!d.do_block;)R();M()},TK_STRING:function(){N()?s.space_before_token=!0:"TK_RESERVED"===p||"TK_WORD"===p?s.space_before_token=!0:"TK_COMMA"===p||"TK_START_EXPR"===p||"TK_EQUALS"===p||"TK_OPERATOR"===p?I()||C():T();M()},TK_EQUALS:function(){N();d.declaration_statement&&(d.declaration_assignment=!0);s.space_before_token=!0,M(),s.space_before_token=!0},TK_OPERATOR:function(){N();if("TK_RESERVED"===p&&j(d.last_text))return s.space_before_token=!0,void M();if("*"===u.text&&"TK_DOT"===p)return void M();if(":"===u.text&&d.in_case)return d.case_body=!0,A(),M(),T(),void(d.in_case=!1);if("::"===u.text)return void M();"TK_OPERATOR"===p&&C();var e=!0,n=!0;t(u.text,["--","++","!","~"])||t(u.text,["-","+"])&&(t(p,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||t(d.last_text,c.line_starters)||","===d.last_text)?(e=!1,n=!1,!u.wanted_newline||"--"!==u.text&&"++"!==u.text||T(!1,!0),";"===d.last_text&&P(d.mode)&&(e=!0),"TK_RESERVED"===p?e=!0:"TK_END_EXPR"===p?e=!("]"===d.last_text&&("--"===u.text||"++"===u.text)):"TK_OPERATOR"===p&&(e=t(u.text,["--","-","++","+"])&&t(d.last_text,["--","-","++","+"]),t(u.text,["+","-"])&&t(d.last_text,["--","++"])&&(n=!0)),d.mode!==i.BlockStatement&&d.mode!==i.Statement||"{"!==d.last_text&&";"!==d.last_text||T()):":"===u.text?0===d.ternary_depth?e=!1:d.ternary_depth-=1:"?"===u.text?d.ternary_depth+=1:"*"===u.text&&"TK_RESERVED"===p&&"function"===d.last_text&&(e=!1,n=!1);s.space_before_token=s.space_before_token||e,M(),s.space_before_token=n},TK_COMMA:function(){if(d.declaration_statement)return P(d.parent.mode)&&(d.declaration_assignment=!1),M(),void(d.declaration_assignment?(d.declaration_assignment=!1,T(!1,!0)):(s.space_before_token=!0,b.comma_first&&C()));M(),d.mode===i.ObjectLiteral||d.mode===i.Statement&&d.parent.mode===i.ObjectLiteral?(d.mode===i.Statement&&R(),T()):(s.space_before_token=!0,b.comma_first&&C())},TK_BLOCK_COMMENT:function(){if(s.raw)return s.add_raw_token(u),void(u.directives&&"end"===u.directives.preserve&&(b.test_output_raw||(s.raw=!1)));if(u.directives)return T(!1,!0),M(),"start"===u.directives.preserve&&(s.raw=!0),void T(!1,!0);if(!e.newline.test(u.text)&&!u.wanted_newline)return s.space_before_token=!0,M(),void(s.space_before_token=!0);var t,r=function(e){var t=[],n=(e=e.replace(/\x0d/g,"")).indexOf("\n");for(;-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");e.length&&t.push(e);return t}(u.text),i=!1,o=!1,a=u.whitespace_before,l=a.length;T(!1,!0),r.length>1&&(!function(e,t){for(var r=0;r<e.length;r++){var i=n(e[r]);if(i.charAt(0)!==t)return!1}return!0}(r.slice(1),"*")?function(e,t){for(var n,r=0,i=e.length;r<i;r++)if((n=e[r])&&0!==n.indexOf(t))return!1;return!0}(r.slice(1),a)&&(o=!0):i=!0);for(M(r[0]),t=1;t<r.length;t++)T(!1,!0),i?M(" "+(c=r[t],c.replace(/^\s+/g,""))):o&&r[t].length>l?M(r[t].substring(l)):s.add_token(r[t]);var c;T(!1,!0)},TK_COMMENT:function(){u.wanted_newline?T(!1,!0):s.trim(!0);s.space_before_token=!0,M(),T(!1,!0)},TK_DOT:function(){N();"TK_RESERVED"===p&&j(d.last_text)?s.space_before_token=!0:C(")"===d.last_text&&b.break_chained_methods);M()},TK_UNKNOWN:function(){M(),"\n"===u.text[u.text.length-1]&&T()},TK_EOF:function(){for(;d.mode===i.Statement;)R()}};function _(e,t){var n=0;e&&(n=e.indentation_level,!s.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var r={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:s.get_line_number(),ternary_depth:0};return r}b={},void 0!==(a=a||{}).braces_on_own_line&&(b.brace_style=a.braces_on_own_line?"expand":"collapse");b.brace_style=a.brace_style?a.brace_style:b.brace_style?b.brace_style:"collapse","expand-strict"===b.brace_style&&(b.brace_style="expand");b.indent_size=a.indent_size?parseInt(a.indent_size,10):4,b.indent_char=a.indent_char?a.indent_char:" ",b.eol=a.eol?a.eol:"\n",b.preserve_newlines=void 0===a.preserve_newlines||a.preserve_newlines,b.break_chained_methods=void 0!==a.break_chained_methods&&a.break_chained_methods,b.max_preserve_newlines=void 0===a.max_preserve_newlines?0:parseInt(a.max_preserve_newlines,10),b.space_in_paren=void 0!==a.space_in_paren&&a.space_in_paren,b.space_in_empty_paren=void 0!==a.space_in_empty_paren&&a.space_in_empty_paren,b.jslint_happy=void 0!==a.jslint_happy&&a.jslint_happy,b.space_after_anon_function=void 0!==a.space_after_anon_function&&a.space_after_anon_function,b.keep_array_indentation=void 0!==a.keep_array_indentation&&a.keep_array_indentation,b.space_before_conditional=void 0===a.space_before_conditional||a.space_before_conditional,b.unescape_strings=void 0!==a.unescape_strings&&a.unescape_strings,b.wrap_line_length=void 0===a.wrap_line_length?0:parseInt(a.wrap_line_length,10),b.e4x=void 0!==a.e4x&&a.e4x,b.end_with_newline=void 0!==a.end_with_newline&&a.end_with_newline,b.comma_first=void 0!==a.comma_first&&a.comma_first,b.test_output_raw=void 0!==a.test_output_raw&&a.test_output_raw,b.jslint_happy&&(b.space_after_anon_function=!0);a.indent_with_tabs&&(b.indent_char="\t",b.indent_size=1);b.eol=b.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),f="";for(;b.indent_size>0;)f+=b.indent_char,b.indent_size-=1;var k=0;if(r&&r.length){for(;" "===r.charAt(k)||"\t"===r.charAt(k);)w+=r.charAt(k),k+=1;r=r.substring(k)}p="TK_START_BLOCK",h="",(s=new function(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(e){var t=0,n=-1,r=[],i=!0;this.set_indent=function(r){t=e.baseIndentLength+r*e.indent_length,n=r},this.get_character_count=function(){return t},this.is_empty=function(){return i},this.last=function(){return this._empty?null:r[r.length-1]},this.push=function(e){r.push(e),t+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=r.pop(),t-=e.length,i=0===r.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();){r.pop();t-=1}i=0===r.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=r.join("")),t}}(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return(1!==this.get_line_number()||!this.just_added_newline())&&(!(!e&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0))},this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==i.ForInitializer&&e.mode!==i.Conditional)for(var t=e.start_line_index,r=n.length;t<r;)n[t].remove_indent(),t++},this.trim=function(r){for(r=void 0!==r&&r,this.current_line.trim(e,t);r&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var e=n[n.length-2];return e.is_empty()}return!1}}(f,w)).raw=b.test_output_raw,m=[],L(i.BlockStatement),this.beautify=function(){var i,a;for(c=new function(r,i,a){var s="\n\r\t ".split(""),l=/[0-9]/,c=/[01]/,u=/[01234567]/,p=/[0123456789abcdefABCDEF]/,h="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var f,d,y,m,g,v,b=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),x=/([\s\S]*?)((?:\*\/)|$)/g,w=/([^\n\r\u2028\u2029]*)/g,_=/\/\* beautify( \w+[:]\w+)+ \*\//g,k=/ (\w+)[:](\w+)/g,S=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,C=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){v=r.length,g=0,y=!1,m=[];for(var e,t,n,i=null,a=[],s=[];!t||"TK_EOF"!==t.type;){for(n=T(),e=new o(n[1],n[0],f,d);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=n[2]),s.push(e),n=T(),e=new o(n[1],n[0],f,d);s.length&&(e.comments_before=s,s=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,a.push(i),i=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&i&&("]"===e.text&&"["===i.text||")"===e.text&&"("===i.text||"}"===e.text&&"{"===i.text)&&(e.parent=i.parent,i=a.pop()),m.push(e),t=e}return m};function T(){var a,T=[];if(f=0,d="",g>=v)return["","TK_EOF"];var E;E=m.length?m[m.length-1]:new o("TK_START_BLOCK","{");var M=r.charAt(g);for(g+=1;t(M,s);){if(e.newline.test(M)?"\n"===M&&"\r"===r.charAt(g-2)||(f+=1,T=[]):T.push(M),g>=v)return["","TK_EOF"];M=r.charAt(g),g+=1}if(T.length&&(d=T.join("")),l.test(M)){var A=!0,L=!0,O=l;for("0"===M&&g<v&&/[Xxob]/.test(r.charAt(g))?(A=!1,L=!1,M+=r.charAt(g),g+=1,O=/[b]/.test(r.charAt(g))?c:/[o]/.test(r.charAt(g))?u:p):(M="",g-=1);g<v&&O.test(r.charAt(g));)M+=r.charAt(g),g+=1,A&&g<v&&"."===r.charAt(g)&&(M+=r.charAt(g),g+=1,A=!1),L&&g<v&&/[Ee]/.test(r.charAt(g))&&(M+=r.charAt(g),(g+=1)<v&&/[+-]/.test(r.charAt(g))&&(M+=r.charAt(g),g+=1),L=!1,A=!1);return[M,"TK_WORD"]}if(e.isIdentifierStart(r.charCodeAt(g-1))){if(g<v)for(;e.isIdentifierChar(r.charCodeAt(g))&&(M+=r.charAt(g),(g+=1)!==v););return"TK_DOT"===E.type||"TK_RESERVED"===E.type&&t(E.text,["set","get"])||!t(M,b)?[M,"TK_WORD"]:"in"===M?[M,"TK_OPERATOR"]:[M,"TK_RESERVED"]}if("("===M||"["===M)return[M,"TK_START_EXPR"];if(")"===M||"]"===M)return[M,"TK_END_EXPR"];if("{"===M)return[M,"TK_START_BLOCK"];if("}"===M)return[M,"TK_END_BLOCK"];if(";"===M)return[M,"TK_SEMICOLON"];if("/"===M){var P="";if("*"===r.charAt(g)){g+=1,x.lastIndex=g;var R=x.exec(r);P="/*"+R[0],g+=R[0].length;var I=function(e){if(!e.match(_))return null;var t={};k.lastIndex=0;var n=k.exec(e);for(;n;)t[n[1]]=n[2],n=k.exec(e);return t}(P);return I&&"start"===I.ignore&&(S.lastIndex=g,R=S.exec(r),P+=R[0],g+=R[0].length),[P=P.replace(e.lineBreak,"\n"),"TK_BLOCK_COMMENT",I]}if("/"===r.charAt(g)){g+=1,w.lastIndex=g;var R=w.exec(r);return P="//"+R[0],g+=R[0].length,[P,"TK_COMMENT"]}}if("`"===M||"'"===M||'"'===M||("/"===M||i.e4x&&"<"===M&&r.slice(g-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===E.type&&t(E.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===E.type&&")"===E.text&&E.parent&&"TK_RESERVED"===E.parent.type&&t(E.parent.text,["if","while","for"])||t(E.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var N=M,j=!1,D=!1;if(a=M,"/"===N)for(var z=!1;g<v&&(j||z||r.charAt(g)!==N)&&!e.newline.test(r.charAt(g));)a+=r.charAt(g),j?j=!1:(j="\\"===r.charAt(g),"["===r.charAt(g)?z=!0:"]"===r.charAt(g)&&(z=!1)),g+=1;else if(i.e4x&&"<"===N){var B=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,F=r.slice(g-1),W=B.exec(F);if(W&&0===W.index){for(var $=W[2],H=0;W;){var q=!!W[1],K=W[2],U=!!W[W.length-1]||"![CDATA["===K.slice(0,8);if(K!==$||U||(q?--H:++H),H<=0)break;W=B.exec(F)}var V=W?W.index+W[0].length:F.length;return F=F.slice(0,V),g+=V-1,[F=F.replace(e.lineBreak,"\n"),"TK_STRING"]}}else for(;g<v&&(j||r.charAt(g)!==N&&("`"===N||!e.newline.test(r.charAt(g))));)(j||"`"===N)&&e.newline.test(r.charAt(g))?("\r"===r.charAt(g)&&"\n"===r.charAt(g+1)&&(g+=1),a+="\n"):a+=r.charAt(g),j?("x"!==r.charAt(g)&&"u"!==r.charAt(g)||(D=!0),j=!1):j="\\"===r.charAt(g),g+=1;if(D&&i.unescape_strings&&(a=function(e){var t,n=!1,r="",i=0,o="",a=0;for(;n||i<e.length;)if(t=e.charAt(i),i++,n){if(n=!1,"x"===t)o=e.substr(i,2),i+=2;else{if("u"!==t){r+="\\"+t;continue}o=e.substr(i,4),i+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return e;if((a=parseInt(o,16))>=0&&a<32){r+="x"===t?"\\x"+o:"\\u"+o;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&a<=255)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}(a)),g<v&&r.charAt(g)===N&&(a+=N,g+=1,"/"===N))for(;g<v&&e.isIdentifierStart(r.charCodeAt(g));)a+=r.charAt(g),g+=1;return[a,"TK_STRING"]}if("#"===M){if(0===m.length&&"!"===r.charAt(g)){for(a=M;g<v&&"\n"!==M;)M=r.charAt(g),a+=M,g+=1;return[n(a)+"\n","TK_UNKNOWN"]}var G="#";if(g<v&&l.test(r.charAt(g))){do{M=r.charAt(g),G+=M,g+=1}while(g<v&&"#"!==M&&"="!==M);return"#"===M||("["===r.charAt(g)&&"]"===r.charAt(g+1)?(G+="[]",g+=2):"{"===r.charAt(g)&&"}"===r.charAt(g+1)&&(G+="{}",g+=2)),[G,"TK_WORD"]}}if("<"===M&&("?"===r.charAt(g)||"%"===r.charAt(g))){C.lastIndex=g-1;var J=C.exec(r);if(J)return M=J[0],g+=M.length-1,[M=M.replace(e.lineBreak,"\n"),"TK_STRING"]}if("<"===M&&"\x3c!--"===r.substring(g-1,g+3)){for(g+=3,M="\x3c!--";!e.newline.test(r.charAt(g))&&g<v;)M+=r.charAt(g),g++;return y=!0,[M,"TK_COMMENT"]}if("-"===M&&y&&"--\x3e"===r.substring(g-1,g+2))return y=!1,g+=2,["--\x3e","TK_COMMENT"];if("."===M)return[M,"TK_DOT"];if(t(M,h)){for(;g<v&&t(M+r.charAt(g),h)&&(M+=r.charAt(g),!((g+=1)>=v)););return","===M?[M,"TK_COMMA"]:"="===M?[M,"TK_EQUALS"]:[M,"TK_OPERATOR"]}return[M,"TK_UNKNOWN"]}}(r,b,f),x=c.tokenize(),l=0;i=D();){for(var u=0;u<i.comments_before.length;u++)S(i.comments_before[u]);S(i),h=d.last_text,p=i.type,d.last_text=i.text,l+=1}return a=s.get_code(),b.end_with_newline&&(a+="\n"),"\n"!=b.eol&&(a=a.replace(/[\n]/g,b.eol)),a};function S(e){var t=e.newlines,n=b.keep_array_indentation&&O(d.mode);if(n)for(r=0;r<t;r+=1)T(r>0);else if(b.max_preserve_newlines&&t>b.max_preserve_newlines&&(t=b.max_preserve_newlines),b.preserve_newlines&&e.newlines>1){T();for(var r=1;r<t;r+=1)T(!0)}v[(u=e).type]()}function C(e){if(e=void 0!==e&&e,!s.just_added_newline())if(b.preserve_newlines&&u.wanted_newline||e)T(!1,!0);else if(b.wrap_line_length){var t=s.current_line.get_character_count()+u.text.length+(s.space_before_token?1:0);t>=b.wrap_line_length&&T(!1,!0)}}function T(e,t){if(!t&&";"!==d.last_text&&","!==d.last_text&&"="!==d.last_text&&"TK_OPERATOR"!==p)for(;d.mode===i.Statement&&!d.if_block&&!d.do_block;)R();s.add_new_line(e)&&(d.multiline_frame=!0)}function E(){s.just_added_newline()&&(b.keep_array_indentation&&O(d.mode)&&u.wanted_newline?(s.current_line.push(u.whitespace_before),s.space_before_token=!1):s.set_indent(d.indentation_level)&&(d.line_indent_level=d.indentation_level))}function M(e){s.raw?s.add_raw_token(u):(b.comma_first&&"TK_COMMA"===p&&s.just_added_newline()&&","===s.previous_line.last()&&(s.previous_line.pop(),E(),s.add_token(","),s.space_before_token=!0),e=e||u.text,E(),s.add_token(e))}function A(){d.indentation_level+=1}function L(e){d?(m.push(d),y=d):y=_(null,e),d=_(y,e)}function O(e){return e===i.ArrayLiteral}function P(e){return t(e,[i.Expression,i.ForInitializer,i.Conditional])}function R(){m.length>0&&(y=d,d=m.pop(),y.mode===i.Statement&&s.remove_redundant_indentation(y))}function I(){return d.parent.mode===i.ObjectLiteral&&d.mode===i.Statement&&(":"===d.last_text&&0===d.ternary_depth||"TK_RESERVED"===p&&t(d.last_text,["get","set"]))}function N(){return!!("TK_RESERVED"===p&&t(d.last_text,["var","let","const"])&&"TK_WORD"===u.type||"TK_RESERVED"===p&&"do"===d.last_text||"TK_RESERVED"===p&&"return"===d.last_text&&!u.wanted_newline||"TK_RESERVED"===p&&"else"===d.last_text&&("TK_RESERVED"!==u.type||"if"!==u.text)||"TK_END_EXPR"===p&&(y.mode===i.ForInitializer||y.mode===i.Conditional)||"TK_WORD"===p&&d.mode===i.BlockStatement&&!d.in_case&&"--"!==u.text&&"++"!==u.text&&"function"!==h&&"TK_WORD"!==u.type&&"TK_RESERVED"!==u.type||d.mode===i.ObjectLiteral&&(":"===d.last_text&&0===d.ternary_depth||"TK_RESERVED"===p&&t(d.last_text,["get","set"])))&&(L(i.Statement),A(),"TK_RESERVED"===p&&t(d.last_text,["var","let","const"])&&"TK_WORD"===u.type&&(d.declaration_statement=!0),I()||C("TK_RESERVED"===u.type&&t(u.text,["do","for","if","while"])),!0)}function j(e){return t(e,["case","return","do","if","throw","else"])}function D(e){var t=l+(e||0);return t<0||t>=x.length?null:x[t]}function z(){if("TK_RESERVED"===u.type&&d.mode!==i.ObjectLiteral&&t(u.text,["set","get"])&&(u.type="TK_WORD"),"TK_RESERVED"===u.type&&d.mode===i.ObjectLiteral){var e=D(1);":"==e.text&&(u.type="TK_WORD")}if(N()||!u.wanted_newline||P(d.mode)||"TK_OPERATOR"===p&&"--"!==d.last_text&&"++"!==d.last_text||"TK_EQUALS"===p||!b.preserve_newlines&&"TK_RESERVED"===p&&t(d.last_text,["var","let","const","set","get"])||T(),d.do_block&&!d.do_while){if("TK_RESERVED"===u.type&&"while"===u.text)return s.space_before_token=!0,M(),s.space_before_token=!0,void(d.do_while=!0);T(),d.do_block=!1}if(d.if_block)if(d.else_block||"TK_RESERVED"!==u.type||"else"!==u.text){for(;d.mode===i.Statement;)R();d.if_block=!1,d.else_block=!1}else d.else_block=!0;if("TK_RESERVED"===u.type&&("case"===u.text||"default"===u.text&&d.in_case_statement))return T(),(d.case_body||b.jslint_happy)&&(d.indentation_level>0&&(!d.parent||d.indentation_level>d.parent.indentation_level)&&(d.indentation_level-=1),d.case_body=!1),M(),d.in_case=!0,void(d.in_case_statement=!0);if("TK_RESERVED"===u.type&&"function"===u.text&&((t(d.last_text,["}",";"])||s.just_added_newline()&&!t(d.last_text,["[","{",":","=",","]))&&(s.just_added_blankline()||u.comments_before.length||(T(),T(!0))),"TK_RESERVED"===p||"TK_WORD"===p?"TK_RESERVED"===p&&t(d.last_text,["get","set","new","return","export","async"])?s.space_before_token=!0:"TK_RESERVED"===p&&"default"===d.last_text&&"export"===h?s.space_before_token=!0:T():"TK_OPERATOR"===p||"="===d.last_text?s.space_before_token=!0:(d.multiline_frame||!P(d.mode)&&!O(d.mode))&&T()),"TK_COMMA"!==p&&"TK_START_EXPR"!==p&&"TK_EQUALS"!==p&&"TK_OPERATOR"!==p||I()||C(),"TK_RESERVED"===u.type&&t(u.text,["function","get","set"]))return M(),void(d.last_word=u.text);if(g="NONE","TK_END_BLOCK"===p?"TK_RESERVED"===u.type&&t(u.text,["else","catch","finally"])?"expand"===b.brace_style||"end-expand"===b.brace_style||"none"===b.brace_style&&u.wanted_newline?g="NEWLINE":(g="SPACE",s.space_before_token=!0):g="NEWLINE":"TK_SEMICOLON"===p&&d.mode===i.BlockStatement?g="NEWLINE":"TK_SEMICOLON"===p&&P(d.mode)?g="SPACE":"TK_STRING"===p?g="NEWLINE":"TK_RESERVED"===p||"TK_WORD"===p||"*"===d.last_text&&"function"===h?g="SPACE":"TK_START_BLOCK"===p?g="NEWLINE":"TK_END_EXPR"===p&&(s.space_before_token=!0,g="NEWLINE"),"TK_RESERVED"===u.type&&t(u.text,c.line_starters)&&")"!==d.last_text&&(g="else"===d.last_text||"export"===d.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===u.type&&t(u.text,["else","catch","finally"]))if("TK_END_BLOCK"!==p||"expand"===b.brace_style||"end-expand"===b.brace_style||"none"===b.brace_style&&u.wanted_newline)T();else{s.trim(!0);var n=s.current_line;"}"!==n.last()&&T(),s.space_before_token=!0}else"NEWLINE"===g?"TK_RESERVED"===p&&j(d.last_text)?s.space_before_token=!0:"TK_END_EXPR"!==p?"TK_START_EXPR"===p&&"TK_RESERVED"===u.type&&t(u.text,["var","let","const"])||":"===d.last_text||("TK_RESERVED"===u.type&&"if"===u.text&&"else"===d.last_text?s.space_before_token=!0:T()):"TK_RESERVED"===u.type&&t(u.text,c.line_starters)&&")"!==d.last_text&&T():d.multiline_frame&&O(d.mode)&&","===d.last_text&&"}"===h?T():"SPACE"===g&&(s.space_before_token=!0);M(),d.last_word=u.text,"TK_RESERVED"===u.type&&"do"===u.text&&(d.do_block=!0),"TK_RESERVED"===u.type&&"if"===u.text&&(d.if_block=!0)}}(r,a).beautify()}var i={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};var o=function(e,t,n,r,i,o){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=r||"",this.parent=null,this.directives=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:r}}):"undefined"!=typeof exports?exports.js_beautify=r:"undefined"!=typeof window?window.js_beautify=r:"undefined"!=typeof global&&(global.js_beautify=r)}(),function(){function e(e){return e.replace(/\s+$/g,"")}function t(t,n,r,i){var o,a,s,l,c,u,p,h,f,d,y,m,g,v,b;void 0!==(n=n||{}).wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),a=void 0!==n.indent_inner_html&&n.indent_inner_html,s=void 0===n.indent_size?4:parseInt(n.indent_size,10),l=void 0===n.indent_char?" ":n.indent_char,u=void 0===n.brace_style?"collapse":n.brace_style,c=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),p=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],h=void 0===n.preserve_newlines||n.preserve_newlines,f=h?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,d=void 0!==n.indent_handlebars&&n.indent_handlebars,y=void 0===n.wrap_attributes?"auto":n.wrap_attributes,m=void 0===n.wrap_attributes_indent_size?s:parseInt(n.wrap_attributes_indent_size,10)||s,g=void 0!==n.end_with_newline&&n.end_with_newline,v="object"==typeof n.extra_liners&&n.extra_liners?n.extra_liners.concat():"string"==typeof n.extra_liners?n.extra_liners.split(","):"head,body,/html".split(","),b=n.eol?n.eol:"\n",n.indent_with_tabs&&(l="\t",s=1),b=b.replace(/\\r/,"\r").replace(/\\n/,"\n");for((o=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=a,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:v,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)h&&"\n"===e&&this.newlines<=f&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(d){var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,r="",i=[],o="",a=!1,s=!0,c=this.pos,u=this.line_char_count;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=c,this.line_char_count=u),i.length?i.join(""):["","TK_EOF"];if(r=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(r,this.Utils.whitespace))a=!0;else{if("'"!==r&&'"'!==r||(r+=this.get_unformatted(r),a=!0),"="===r&&(a=!1),i.length&&"="!==i[i.length-1]&&">"!==r&&a){if(this.space_or_wrap(i),a=!1,!s&&"force"===y&&"/"!==r){this.print_newline(!0,i),this.print_indentation(i);for(var h=0;h<m;h++)i.push(l)}for(var f=0;f<i.length;f++)if(" "===i[f]){s=!1;break}}if(d&&"<"===n&&r+this.input.charAt(this.pos)==="{{"&&(r+=this.get_unformatted("}}"),i.length&&" "!==i[i.length-1]&&"<"!==i[i.length-1]&&(r=" "+r),a=!0),"<"!==r||n||(t=this.pos-1,n="<"),d&&!n&&i.length>=2&&"{"===i[i.length-1]&&"{"===i[i.length-2]&&(t="#"===r||"/"===r||"!"===r?this.pos-3:this.pos-2,n="{"),this.line_char_count++,i.push(r),i[1]&&("!"===i[1]||"?"===i[1]||"%"===i[1])){i=[this.get_comment(t)];break}if(d&&i[1]&&"{"===i[1]&&i[2]&&"!"===i[2]){i=[this.get_comment(t)];break}if(d&&"{"===n&&i.length>2&&"}"===i[i.length-2]&&"}"===i[i.length-1])break}}while(">"!==r);var g,v,b=i.join("");g=-1!==b.indexOf(" ")?b.indexOf(" "):"{"===b.charAt(0)?b.indexOf("}"):b.indexOf(">"),v="<"!==b.charAt(0)&&d?"#"===b.charAt(2)?3:2:1;var x=b.substring(v,g).toLowerCase();return"/"===b.charAt(b.length-2)||this.Utils.in_array(x,this.Utils.single_token)?e||(this.tag_type="SINGLE"):d&&"{"===b.charAt(0)&&"else"===x?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(x,p)?(o=this.get_unformatted("</"+x+">",b),i.push(o),this.pos,this.tag_type="SINGLE"):"script"===x&&(-1===b.search("type")||b.search("type")>-1&&b.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag(x),this.tag_type="SCRIPT"):"style"===x&&(-1===b.search("type")||b.search("type")>-1&&b.search("text/css")>-1)?e||(this.record_tag(x),this.tag_type="STYLE"):"!"===x.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===x.charAt(0)?(this.retrieve_tag(x.substring(1)),this.tag_type="END"):(this.record_tag(x),"html"!==x.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(i),this.Utils.in_array(x,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=c,this.line_char_count=u),i.join("")},this.get_comment=function(e){var t="",n=">",r=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=i).charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!r&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(n="]]>",r=!0):0===t.indexOf("<![")?(n="]>",r=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",r=!0):0===t.indexOf("{{!")?(n="}}",r=!0):0===t.indexOf("<?")?(n="?>",r=!0):0===t.indexOf("<%")&&(n="%>",r=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var n="",r="",i=0,o=!0;do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,o=!0,d&&"{"===n&&r.length&&"{"===r.charAt(r.length-2)&&(i=(r+=this.get_unformatted("}}")).length)}while(-1===r.toLowerCase().indexOf(e,i));return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,t))},this.printer=function(t,n,r,i,o){this.input=t||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=n,this.indent_string="",this.indent_size=r,this.brace_style=o,this.indent_level=0,this.wrap_line_length=i,this.line_char_count=0;for(var a=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(t,n){this.line_char_count=0,n&&n.length&&(t||"\n"!==n[n.length-1])&&("\n"!==n[n.length-1]&&(n[n.length-1]=e(n[n.length-1])),n.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(t){this.newlines>0&&(t=e(t)),t&&""!==t&&(t.length>1&&"\n"===t.charAt(t.length-1)?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(t,l,s,c,u);;){var x=o.get_token();if(o.token_text=x[0],o.token_type=x[1],"TK_EOF"===o.token_type)break;switch(o.token_type){case"TK_TAG_START":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===o.last_token&&""===o.last_text){var w=o.token_text.match(/\w+/)[0],_=null;o.output.length&&(_=o.output[o.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===_||_[1]!==w&&!o.Utils.in_array(_[1],p))&&o.print_newline(!1,o.output)}o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var k=o.token_text.match(/^\s*<([a-z-]+)/i);k&&o.Utils.in_array(k[1],p)||o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var S=!1,C=o.output.length-1;C>=0&&"\n"!==o.output[C];C--)if(o.output[C].match(/{{#if/)){S=!0;break}S||o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==o.token_text){o.print_newline(!1,o.output);var T,E=o.token_text,M=1;"TK_SCRIPT"===o.token_type?T="function"==typeof r&&r:"TK_STYLE"===o.token_type&&(T="function"==typeof i&&i),"keep"===n.indent_scripts?M=0:"separate"===n.indent_scripts&&(M=-o.indent_level);var A=o.get_full_indent(M);if(T){var L=function(){this.eol="\n"};L.prototype=n;var O=new L;E=T(E.replace(/^\s*/,A),O)}else{var P=E.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(o.indent_string).length-1,R=o.get_full_indent(M-P);E=E.replace(/^\s*/,A).replace(/\r\n|\r|\n/g,"\n"+R).replace(/\s+$/,"")}E&&(o.print_token_raw(E),o.print_newline(!0,o.output))}o.current_mode="TAG";break;default:""!==o.token_text&&o.print_token(o.token_text)}o.last_token=o.token_type,o.last_text=o.token_text}var I=o.output.join("").replace(/[\r\n\t ]+$/,"");return g&&(I+="\n"),"\n"!=b&&(I=I.replace(/[\n]/g,b)),I}if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],function(e){var n=e("./beautify"),r=e("./beautify-css");return{html_beautify:function(e,i){return t(e,i,n.js_beautify,r.css_beautify)}}});else if("undefined"!=typeof exports){var n=require("./beautify.js"),r=require("./beautify-css.js");exports.html_beautify=function(e,i){return t(e,i,n.js_beautify,r.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(e,n){return t(e,n,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(e,n){return t(e,n,global.js_beautify,global.css_beautify)})}(),function(){function e(t,n){n=n||{},t=(t=t||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var r=n.indent_size||4,i=n.indent_char||" ",o=void 0===n.selector_separator_newline||n.selector_separator_newline,a=void 0!==n.end_with_newline&&n.end_with_newline,s=void 0===n.newline_between_rules||n.newline_between_rules,l=n.eol?n.eol:"\n";"string"==typeof r&&(r=parseInt(r,10)),n.indent_with_tabs&&(i="\t",r=1),l=l.replace(/\\r/,"\r").replace(/\\n/,"\n");var c,u=/^\s+$/,p=-1,h=0;function f(){return(c=t.charAt(++p))||""}function d(e){var n="",r=p;return e&&g(),n=t.charAt(p+1)||"",p=r-1,f(),n}function y(e){for(var n=p;f();)if("\\"===c)f();else{if(-1!==e.indexOf(c))break;if("\n"===c)break}return t.substring(n,p+1)}function m(e){var t=p,n=y(e);return p=t-1,f(),n}function g(){for(var e="";u.test(d());)f(),e+=c;return e}function v(){var e="";for(c&&u.test(c)&&(e=c);u.test(f());)e+=c;return e}function b(e){var n=p;for(e="/"===d(),f();f();){if(!e&&"*"===c&&"/"===d()){f();break}if(e&&"\n"===c)return t.substring(n,p)}return t.substring(n,p)+c}function x(e){return t.substring(p-e.length,p).toLowerCase()===e}function w(){for(var e=0,n=p+1;n<t.length;n++){var r=t.charAt(n);if("{"===r)return!0;if("("===r)e+=1;else if(")"===r){if(0==e)return!1;e-=1}else if(";"===r||"}"===r)return!1}return!1}var _=t.match(/^[\t ]*/)[0],k=new Array(r+1).join(i),S=0,C=0;var T={};T["{"]=function(e){T.singleSpace(),E.push(e),T.newLine()},T["}"]=function(e){T.newLine(),E.push(e),T.newLine()},T._lastCharWhitespace=function(){return u.test(E[E.length-1])},T.newLine=function(e){E.length&&(e||"\n"===E[E.length-1]||T.trim(),E.push("\n"),_&&E.push(_))},T.singleSpace=function(){E.length&&!T._lastCharWhitespace()&&E.push(" ")},T.preserveSingleSpace=function(){I&&T.singleSpace()},T.trim=function(){for(;T._lastCharWhitespace();)E.pop()};for(var E=[],M=!1,A=!1,L=!1,O="",P="";;){var R=v(),I=""!==R,N=-1!==R.indexOf("\n");if(P=O,O=c,!c)break;if("/"===c&&"*"===d()){var j=0===S;(N||j)&&T.newLine(),E.push(b()),T.newLine(),j&&T.newLine(!0)}else if("/"===c&&"/"===d())N||"{"===P||T.trim(),T.singleSpace(),E.push(b()),T.newLine();else if("@"===c){T.preserveSingleSpace(),E.push(c);var D=m(": ,;{}()[]/='\"");D.match(/[ :]$/)&&(f(),D=y(": ").replace(/\s$/,""),E.push(D),T.singleSpace()),(D=D.replace(/\s$/,""))in e.NESTED_AT_RULE&&(C+=1,D in e.CONDITIONAL_GROUP_RULE&&(L=!0))}else"#"===c&&"{"===d()?(T.preserveSingleSpace(),E.push(y("}"))):"{"===c?"}"===d(!0)?(g(),f(),T.singleSpace(),E.push("{}"),T.newLine(),s&&0===S&&T.newLine(!0)):(S++,_+=k,T["{"](c),L?(L=!1,M=S>C):M=S>=C):"}"===c?(S--,_=_.slice(0,-r),T["}"](c),M=!1,A=!1,C&&C--,s&&0===S&&T.newLine(!0)):":"===c?(g(),!M&&!L||x("&")||w()?":"===d()?(f(),E.push("::")):E.push(":"):(A=!0,E.push(":"),T.singleSpace())):'"'===c||"'"===c?(T.preserveSingleSpace(),E.push(y(c))):";"===c?(A=!1,E.push(c),T.newLine()):"("===c?x("url")?(E.push(c),g(),f()&&(")"!==c&&'"'!==c&&"'"!==c?E.push(y(")")):p--)):(h++,T.preserveSingleSpace(),E.push(c),g()):")"===c?(E.push(c),h--):","===c?(E.push(c),g(),o&&!A&&h<1?T.newLine():T.singleSpace()):"]"===c?E.push(c):"["===c?(T.preserveSingleSpace(),E.push(c)):"="===c?(g(),c="=",E.push(c)):(T.preserveSingleSpace(),E.push(c))}var z="";return _&&(z+=_),z+=E.join("").replace(/[\r\n\t ]+$/,""),a&&(z+="\n"),"\n"!=l&&(z=z.replace(/[\n]/g,l)),z}e.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},e.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},"function"==typeof define&&define.amd?define([],function(){return{css_beautify:e}}):"undefined"!=typeof exports?exports.css_beautify=e:"undefined"!=typeof window?window.css_beautify=e:"undefined"!=typeof global&&(global.css_beautify=e)}();var Beautifier={js:function(e){return js_beautify(e,{indent_size:window.userCmOptions.indentUnit||2,space_before_conditional:!0,jslint_happy:!1,max_char:0,space_after_anon_function:!1,end_with_newline:!0})},html:function(e){return html_beautify(e,{indent_size:window.userCmOptions.indentUnit||2,max_char:0,indent_inner_html:!0,end_with_newline:!0})},css:function(e){return css_beautify(e,{indent_size:window.userCmOptions.indentUnit||2,max_char:0,end_with_newline:!0})}};(function(){"use strict";var e={extend:function(e,t){if(t=JSON.parse(JSON.stringify(t)),"string"==typeof e)return t;var n;for(var r in e)n=e[r],e.hasOwnProperty(r)&&void 0!==n&&(t[r]=n);return t},queue:function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),setcss:function(){var e=["Webkit","O","Moz","ms"],t={};function n(n){n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});return t[n]||(t[n]=function(t){var n=document.body.style;if(t in n)return t;for(var r,i=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((r=e[i]+o)in n)return r;return t}(n))}function r(e,t,r){t=n(t),e.style[t]=r}return function(e,t){var n,i,o=arguments;if(2==o.length)for(n in t)void 0!==(i=t[n])&&t.hasOwnProperty(n)&&r(e,n,i);else r(e,o[1],o[2])}}(),clamp:function(e,t,n){return e<t?t:e>n?n:e},toBarPerc:function(e){return 100*(-1+e)},hasClass:function(t,n){return("string"==typeof t?t:e.classList(t)).indexOf(" "+n+" ")>=0},addClass:function(t,n){var r=e.classList(t),i=r+n;e.hasClass(r,n)||(t.className=i.substring(1))},removeClass:function(t,n){var r,i=e.classList(t);e.hasClass(t,n)&&(r=i.replace(" "+n+" "," "),t.className=r.substring(1,r.length-1))},showEl:function(t){e.setcss(t,{display:"block"})},hideEl:function(t){e.setcss(t,{display:"none"})},classList:function(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")},removeElement:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},t=e;n="undefined"!=typeof window?window:this,r=function(){var e={template:1,parent:"body",start:!1,minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800},n={determinate:'<div class="deter-bar" role="mpbar1"><div class="peg"></div></div><div class="bar-bg"></div>',buffer:'<div class="deter-bar" role="mpbar2"><div class="peg"></div></div><div class="buffer-bg" role="bufferBar"></div><div class="mp-ui-dashed" role="dashed"></div>',indeterminate:'<div class="indeter-bar" role="mpbar3"></div><div class="bar-bg"></div>',query:'<div class="query-bar" role="mpbar4"><div class="peg"></div></div><div class="bar-bg"></div>'},r={},i=function(e){this.options=e||{},this.status=null,this.bufferStatus=null};return i.prototype={version:"0.1.0",constructor:i,start:function(){if(this.status||this._isBufferStyle()||this.set(0),this._isIndeterminateStyle()||this._isQueryStyle())return this;var e=this;if(this._isBufferStyle()&&!this.bufferStatus){var n=this._render(),r=n.querySelector('[role="dashed"]'),i=n.querySelector(this._getCurrSelector());t.hideEl(i),t.hideEl(r),this.setBuffer(0).setBuffer(1),setTimeout(function(){t.showEl(r),t.showEl(i),e.set(0).setBuffer(0)},500)}return this.options.trickle&&function t(){setTimeout(function(){e.status&&(e._trickle(),t())},e.options.trickleSpeed)}(),this},end:function(e){if(!e&&!this.status)return this;var n=this,r=this.options.speed,i=this._getRenderedId();if(this._isBufferStyle()&&e)return this.set(0).set(1);if(this._isIndeterminateStyle())return!this._isRendered()&&e&&(this.set(0),i=this._getRenderedId(),r=500),t.setcss(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){t.setcss(i,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){n._remove()},r)},r),this;if(this._isQueryStyle()){if(this._isRendered()){var o=i.querySelector(this._getCurrSelector());return t.addClass(o,"end"),setTimeout(function(){n._remove()},1500),this}if(e)return this.set(0),i=this._getRenderedId(),setTimeout(function(){n._remove()},1500),this}return this.inc(.3+.5*Math.random()).set(1)},set:function(e){return e=t.clamp(e,this.options.minimum,1),this.status=1===e?null:e,this._setProgress(this._getCurrSelector(),e),this},setBuffer:function(e){return e=t.clamp(e,this.options.minimum,1),this.bufferStatus=1===e?null:e,this._setProgress('[role="bufferBar"]',e),this},inc:function(e){var t=this.status,n=this.bufferStatus;return t?(t=this._getRandomNum(t,e),this._isBufferStyle()&&(n=this._getRandomNum(n>t?n:t+.1,e),this.setBuffer(n)),this.set(t)):this.start()},_trickle:function(){return this.inc(Math.random()*this.options.trickleRate)},_render:function(e){if(this._isRendered())return this._getRenderedId();var n,r=document.createElement("div"),i=this._getCurrTemplate()||"",o=document.querySelector(this.options.parent);if(r.id=this._getRenderedId(!0),r.className="ui-mprogress",r.innerHTML=i,!this._isIndeterminateStyle()&&!this._isQueryStyle()){e||(n=!this._isStarted());var a=r.querySelector(this._getCurrSelector()),s=n?"-100":t.toBarPerc(this.status||0);if(t.setcss(a,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),this._isBufferStyle()){var l=r.querySelector('[role="bufferBar"]'),c=n?"-100":t.toBarPerc(this.bufferStatus||0);t.setcss(l,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"})}}return o!=document.body&&t.addClass(o,"mprogress-custom-parent"),o.appendChild(r),r},_remove:function(){var e=this._getRenderedId(),n=document.querySelector(this.options.parent);n!=document.body&&t.removeClass(n,"mprogress-custom-parent");var i=this.options.parent+this.options.template;r[i]&&(r[i]=null),e&&(this.status=null,this.bufferStatus=null,t.removeElement(e))},_setProgress:function(e,n){var r=this._render(),i=r.querySelector(e),o=this.options.speed,a=this.options.easing,s=this;if(r.offsetWidth,this._isIndeterminateStyle()||this._isQueryStyle())return this;t.queue(function(e){""===s.options.positionUsing&&(s.options.positionUsing=s._getPositioningCSS()),t.setcss(i,s._barPositionCSS(n,o,a)),1===n?(t.setcss(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){t.setcss(r,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){s._remove(),e()},o)},o)):setTimeout(e,o)})},_getCurrSelector:function(){var e=this._getCurrTplId();return"99"!==e?'[role="mpbar'+e+'"]':'[role="mpbar"]'},_isStarted:function(){return"number"==typeof this.status},_getRandomNum:function(e,n){return"number"!=typeof n&&(n=(1-e)*t.clamp(Math.random()*e,.1,.95)),e=t.clamp(e+n,0,.994)},_isRendered:function(){return!!this._getRenderedId()},_getRenderedId:function(e){var t="mprogress"+this._getCurrTplId();return e?t:document.getElementById(t)},_isBufferStyle:function(){return 2===this._getCurrTplId()},_isIndeterminateStyle:function(){return 3===this._getCurrTplId()},_isQueryStyle:function(){return 4===this._getCurrTplId()},_getCurrTplId:function(){var e=~~this.options.template||1;return"number"==typeof e?e:"99"},_getCurrTemplate:function(){var e=this.options.template||1;return"number"==typeof~~e?n[["determinate","buffer","indeterminate","query"][e-1]]||"":"string"==typeof e?template:void 0},_getPositioningCSS:function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},_barPositionCSS:function(e,n,r){var i;return(i="translate3d"===this.options.positionUsing?{transform:"translate3d("+t.toBarPerc(e)+"%,0,0)"}:"translate"===this.options.positionUsing?{transform:"translate("+t.toBarPerc(e)+"%,0)"}:{"margin-left":t.toBarPerc(e)+"%"}).transition="all "+n+"ms "+r,i}},function(){var e=0,t=0;i.prototype.promise=function(n){if(!n||"resolved"==n.state())return this;var r=this;return 0==t&&r.start(),e++,t++,n.always(function(){0==--t?(e=0,r.end()):r.set((e-t)/e)}),this}}(),function(n){var o=t.extend(n,e),a=o.parent+o.template,s=r[a]||"";return s||(s=new i(o),r[a]=s),"string"==typeof n&&"function"==typeof s[n]?s[n]():o.start&&s.start(),s}},"function"==typeof define&&define.amd?define(r):"object"==typeof exports?module.exports=r():n.Mprogress=r();var n,r}).call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.emmetCodeMirror=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e("./emmet"),o&&o.__esModule?o.default:o);n.modeMap={"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less","text/x-scss":"scss","text/x-sass":"sass"};var s=function(){function e(t){var n=void 0===arguments[1]?0:arguments[1];i(this,e),this.context=t,this.selectionIndex=n||0}return r(e,{selectionList:{value:function(){var e=this.context;return e.listSelections().map(function(t){var n=l(e,t.anchor),r=l(e,t.head);return{start:Math.min(n,r),end:Math.max(n,r)}})}},getCaretPos:{value:function(){return this.getSelectionRange().start}},setCaretPos:{value:function(e){this.createSelection(e)}},getSelectionRange:{value:function(){return this.selectionList()[this.selectionIndex]}},createSelection:{value:function(e,t){void 0===t&&(t=e);var n=this.selectionList(),r=this.context;n[this.selectionIndex]={start:e,end:t},this.context.setSelections(n.map(function(e){return{head:c(r,e.start),anchor:c(r,e.end)}}))}},getSelection:{value:function(){var e=this.getSelectionRange();return e.start=c(this.context,e.start),e.end=c(this.context,e.end),this.context.getRange(e.start,e.end)}},getCurrentLineRange:{value:function(){var e=c(this.context,this.getCaretPos());return{start:l(this.context,e.line,0),end:l(this.context,e.line,this.context.getLine(e.line).length)}}},getCurrentLine:{value:function(){var e=c(this.context,this.getCaretPos());return this.context.getLine(e.line)||""}},replaceContent:{value:function(e,t,n,r){void 0===n&&(n=void 0===t?this.getContent().length:t),void 0===t&&(t=0),e=this.normalize(e),r||(e=a.utils.common.padString(e,a.utils.common.getLinePaddingFromPosition(this.getContent(),t)));var i=a.tabStops.extract(e,{escape:function(e){return e}});e=i.text;var o=i.tabstops[0]||{start:e.length,end:e.length};o.start+=t,o.end+=t,this.context.replaceRange(e,c(this.context,t),c(this.context,n)),this.createSelection(o.start,o.end)}},normalize:{value:function(e){var t="\t",n=this.context;return n.getOption("indentWithTabs")||(t=a.utils.common.repeatString(" ",n.getOption("indentUnit"))),a.utils.editor.normalize(e,{indentation:t})}},getContent:{value:function(){return this.context.getValue()}},getSyntax:{value:function(){var e=this.context,t=(e.posFromIndex(this.getCaretPos()),e.getModeAt(e.getCursor())),n=t.name;return"xml"===n&&t.configuration&&(n=t.configuration),n||a.utils.action.detectSyntax(this,n)}},getProfileName:{value:function(){return this.context.getOption("profile")?this.context.getOption("profile"):a.utils.action.detectProfile(this)}},prompt:{value:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return prompt(e)})},getFilePath:{value:function(){return location.href}},isValidSyntax:{value:function(){return a.resources.hasSyntax(this.getSyntax())}}}),e}();n.default=s;function l(e,t){return arguments.length>2&&"object"!=typeof t&&(t={line:arguments[1],ch:arguments[2]}),e.indexFromPos(t)}function c(e,t){return e.posFromIndex(t)}},{"./emmet":2}],2:[function(e,t,n){"use strict";var r,i=(r=e("emmet"),r&&r.__esModule?r.default:r);e("emmet/bundles/snippets"),e("emmet/bundles/caniuse"),t.exports=i},{emmet:39,"emmet/bundles/caniuse":3,"emmet/bundles/snippets":4}],3:[function(e,t,n){var r=e("../lib/assets/caniuse"),i=e("../lib/caniuse.json");r.load(i,!0)},{"../lib/assets/caniuse":23,"../lib/caniuse.json":35}],4:[function(e,t,n){var r=e("../lib/assets/resources"),i=e("../lib/snippets.json");r.setVocabulary(i,"system")},{"../lib/assets/resources":31,"../lib/snippets.json":68}],5:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/htmlMatcher"),i=e("../utils/common"),o=e("../utils/editor"),a=e("../utils/action"),s=e("../assets/range"),l=e("../editTree/css"),c=e("../utils/cssSections"),u=null;function p(e){return e[e.length-1]}function h(e,t){var n;if("string"==typeof e){var r=c.matchEnclosingRule(e,t);r&&(n=l.parse(r.substring(e),{offset:r.start}))}else n=e;if(!n)return null;var o=function(e,t){var n=[e.range(!0)];n.push(e.valueRange(!0));var r=c.nestedSectionsInRule(e),i=e.list();if(i.length||r.length){var o=Number.POSITIVE_INFINITY,a=-1;i.length&&(o=i[0].namePosition(!0),a=p(i).range(!0).end),r.length&&(r[0].start<o&&(o=r[0].start),p(r).end>a&&(a=p(r).end)),n.push(s.create2(o,a))}n=n.concat(r);var u=l.propertyFromPosition(e,t)||i[0];if(u){n.push(u.range(!0));var h=u.valueRange(!0);u.end()||(h._unterminated=!0),n.push(h)}return n}(n,t);return o=o.filter(function(e){return!!e.length}),i.unique(o,function(e){return e.valueOf()})}return{balance:function(e,t){t=String((t||"out").toLowerCase());var n=o.outputInfo(e);return a.isSupportedCSS(n.syntax)?function(e,t){var n=o.outputInfo(e),r=n.content,a=s(e.getSelectionRange()),c=h(n.content,a.start);if(!c&&a.length())try{c=h(l.parse(a.substring(n.content),{offset:a.start}),a.start)}catch(e){}if(!c)return!1;c=s.sort(c,!0);var u=i.find(c,function(e){return e.equal(a)});if(u||(u=i.find(c,function(e){return e._unterminated?e.include(a.start):e.inside(a.start)})),!u)return!1;var f=c.indexOf(u);if(u.equal(a)&&(f+="out"==t?1:-1),f<0||f>=c.length)if(f>=c.length&&"out"==t){pos=u.start-1;var d=h(r,pos);d&&(u=p(d.filter(function(e){return e.inside(pos)})))}else u=null;else u=c[f];return!!u&&(e.createSelection(u.start,u.end),!0)}(e,t):function(e,t){var n=o.outputInfo(e).content,a=s(e.getSelectionRange());if(u&&!u.range.equal(a)&&(u=null),u&&a.length())if("in"==t){if("tag"==u.type&&!u.close)return!1;if(u.range.equal(u.outerRange))u.range=u.innerRange;else{var l=i.narrowToNonSpace(n,u.innerRange);(u=r.find(n,l.start+1))&&u.range.equal(a)&&u.outerRange.equal(a)&&(u.range=u.innerRange)}}else!u.innerRange.equal(u.outerRange)&&u.range.equal(u.innerRange)&&a.equal(u.range)?u.range=u.outerRange:(u=r.find(n,a.start))&&u.range.equal(a)&&u.innerRange.equal(a)&&(u.range=u.outerRange);else u=r.find(n,a.start);return u&&(u.innerRange.equal(a)&&(u.range=u.outerRange),!u.range.equal(a))?(e.createSelection(u.range.start,u.range.end),!0):(u=null,!1)}(e,t)},balanceInwardAction:function(e){return this.balance(e,"in")},balanceOutwardAction:function(e){return this.balance(e,"out")},goToMatchingPairAction:function(e){var t=String(e.getContent()),n=e.getCaretPos();"<"==t.charAt(n)&&n++;var i=r.tag(t,n);return!(!i||!i.close)&&(i.open.range.inside(n)?e.setCaretPos(i.close.range.start):e.setCaretPos(i.open.range.start),!0)}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../editTree/css":37,"../utils/action":70,"../utils/common":73,"../utils/cssSections":74,"../utils/editor":75}],6:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../plugin/file"),i=e("../utils/base64"),o=e("../utils/action"),a=e("../utils/editor");function s(e,t,n){return n=n||0,t.charAt(n)==e.charAt(0)&&t.substr(n,e.length)==e}return{encodeDecodeDataUrlAction:function(e){var t=String(e.getSelection()),n=e.getCaretPos(),l=a.outputInfo(e);if(!t)for(var c,u=l.content;n-- >=0;){if(s("src=",u,n)){(c=u.substr(n).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(t=c[3],n+=c[1].length);break}if(s("url(",u,n)){(c=u.substr(n).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(t=c[3],n+=c[1].length);break}}return!!t&&(s("data:",t)?function(e,t,n){var o=String(e.prompt("Enter path to file (absolute or relative)"));if(!o)return!1;var a=r.createPath(e.getFilePath(),o);if(!a)throw"Can't save file";return r.save(a,i.decode(t.replace(/^data\:.+?;.+?,/,""))),e.replaceContent("$0"+o,n,n+t.length),!0}(e,t,n):function(e,t,n){var a=e.getFilePath();if(null===a)throw"You should save your file before using this action";var s=r.locateFile(a,t);if(null===s)throw"Can't find "+t+" file";return r.read(s,function(a,l){if(a)throw"Unable to read "+s+": "+a;var c=i.encode(String(l));if(!c)throw"Can't encode file content to base64";c="data:"+(o.mimeTypes[String(r.getExt(s))]||"application/octet-stream")+";base64,"+c,e.replaceContent("$0"+c,n,n+t.length)}),!0}(e,t,n))}}})},{"../plugin/file":63,"../utils/action":70,"../utils/base64":71,"../utils/editor":75}],7:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e,t,n){t=t||1,n=n||0;var r=e.getCaretPos()+n,i=String(e.getContent()),o=i.length,a=-1,s=/^\s+$/;function l(e){for(var t=e;t>=0;){var n=i.charAt(t);if("\n"==n||"\r"==n)break;t--}return i.substring(t,e)}for(;r<=o&&r>=0;){r+=t;var c=i.charAt(r),u=i.charAt(r+1),p=i.charAt(r-1);switch(c){case'"':case"'":u==c&&"="==p&&(a=r+1);break;case">":"<"==u&&(a=r+1);break;case"\n":case"\r":s.test(l(r-1))&&(a=r)}if(-1!=a)break}return a}return{previousEditPointAction:function(e,t,n){var i=e.getCaretPos(),o=r(e,-1);return o==i&&(o=r(e,-1,-2)),-1!=o&&(e.setCaretPos(o),!0)},nextEditPointAction:function(e,t,n){var i=r(e,1);return-1!=i&&(e.setCaretPos(i),!0)}}})},{}],8:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/action"),i=e("../utils/common"),o=e("../utils/math"),a=e("../assets/range");return{evaluateMathAction:function(e){var t=e.getContent(),n=a(e.getSelectionRange());if(n.length()||(n=r.findExpressionBounds(e,function(e){return i.isNumeric(e)||-1!=".+-*/\\".indexOf(e)})),n&&n.length()){var s=n.substring(t);s=s.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"round($1/$2)");try{var l=i.prettifyNumber(o.evaluate(s));return e.replaceContent(l,n.start,n.end),e.setCaretPos(n.start+l.length),!0}catch(e){}}return!1}}})},{"../assets/range":30,"../utils/action":70,"../utils/common":73,"../utils/math":76}],9:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/handlerList"),i=e("../assets/range"),o=e("../assets/preferences"),a=e("../utils/common"),s=e("../utils/editor"),l=e("../utils/action"),c=e("../resolver/cssGradient"),u=e("../parser/abbreviation");function p(e){var t=i(e.getSelectionRange()),n=String(e.getContent());if(t.length())return t.substring(n);var r=e.getCurrentLineRange();return l.extractAbbreviation(n.substring(r.start,t.start))}var h=r.create();return h.add(function(e,t,n){var r=e.getSelectionRange().end,i=p(e);if(i){var a=u.expand(i,{syntax:t,profile:n,contextNode:l.captureContext(e)});if(a){var s=r-i.length,c=r,h=o.getArray("css.syntaxes");if(h&&~h.indexOf(t)){";"==e.getContent().charAt(r)&&";"==a.charAt(a.length-1)&&c++}return e.replaceContent(a,s,c),!0}}return!1},{order:-1}),h.add(c.expandAbbreviationHandler.bind(c)),{expandAbbreviationAction:function(e,t,n){var r=a.toArray(arguments),i=s.outputInfo(e,t,n);return r[1]=i.syntax,r[2]=i.profile,h.exec(!1,r)},expandAbbreviationWithTabAction:function(e,t,n){var r=e.getSelection();if(r){var o=i(e.getSelectionRange()),s=a.padString(r,"\t");e.replaceContent("\t${0}",e.getCaretPos());var l=i(e.getCaretPos(),o.length());return e.replaceContent(s,l.start,l.end,!0),e.createSelection(l.start,l.start+s.length),!0}return this.expandAbbreviationAction(e,t,n)||e.replaceContent("\t",e.getCaretPos()),!0},_defaultHandler:function(e,t,n){var r=e.getSelectionRange().end,i=this.findAbbreviation(e);if(i){var o=l.captureContext(e),a=u.expand(i,t,n,o);if(a)return e.replaceContent(a,r-i.length,r),!0}return!1},addHandler:function(e,t){h.add(e,t)},removeHandler:function(e){h.remove(e)},findAbbreviation:p}})},{"../assets/handlerList":25,"../assets/preferences":28,"../assets/range":30,"../parser/abbreviation":55,"../resolver/cssGradient":65,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],10:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/action");return{increment01Action:function(e){return this.incrementNumber(e,.1)},increment1Action:function(e){return this.incrementNumber(e,1)},increment10Action:function(e){return this.incrementNumber(e,10)},decrement01Action:function(e){return this.incrementNumber(e,-.1)},decrement1Action:function(e){return this.incrementNumber(e,-1)},decrement10Action:function(e){return this.incrementNumber(e,-10)},incrementNumber:function(e,t){var n=!1,o=!1,a=i.findExpressionBounds(e,function(e,t,i){return!!r.isNumeric(e)||("."==e?!!r.isNumeric(i.charAt(t+1))&&(!o&&(o=!0)):"-"==e&&(!n&&(n=!0)))});if(a&&a.length()){var s=a.substring(String(e.getContent())),l=parseFloat(s);if(!isNaN(l)){if(l=r.prettifyNumber(l+t),/^(\-?)0+[1-9]/.test(s)){var c="";RegExp.$1&&(c="-",l=l.substring(1));var u=l.split(".");u[0]=r.zeroPadString(u[0],(p=s,~(p=p.replace(/^\-/,"")).indexOf(".")?p.split(".")[0].length:p.length)),l=c+u.join(".")}return e.replaceContent(l,a.start,a.end),e.createSelection(a.start,a.start+l.length),!0}}var p;return!1}}})},{"../utils/action":70,"../utils/common":73}],11:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences"),i=e("../utils/common"),o=(e("../assets/resources"),e("../assets/htmlMatcher")),a=e("../utils/editor"),s=["html","xml","xsl"];return r.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),{insertLineBreakAction:function(e){if(!this.insertLineBreakOnlyAction(e)){for(var t,n=a.getCurrentLinePadding(e),r=String(e.getContent()),i=e.getCaretPos(),o=r.length,s="",l=e.getCurrentLineRange().end+1;l<o&&(" "==(t=r.charAt(l))||"\t"==t);l++)s+=t;s.length>n.length?e.replaceContent("\n"+s,i,i,!0):e.replaceContent("\n",i)}return!0},insertLineBreakOnlyAction:function(e){var t=a.outputInfo(e),n=e.getCaretPos();if(~s.indexOf(t.syntax)){var l=o.tag(t.content,n);if(l&&!l.innerRange.length())return e.replaceContent("\n\t"+i.getCaretPlaceholder()+"\n",n),!0}else if("css"==t.syntax){var c=t.content;if(n&&"{"==c.charAt(n-1)){var u=r.get("css.closeBraceIndentation"),p="}"==c.charAt(n);if(!p)for(var h,f=n,d=c.length;f<d&&"{"!=(h=c.charAt(f));f++)if("}"==h){u="",p=!0;break}p||(u+="}");var y="\n\t"+i.getCaretPlaceholder()+u;return e.replaceContent(y,n),!0}}return!1}}})},{"../assets/htmlMatcher":26,"../assets/preferences":28,"../assets/resources":31,"../utils/common":73,"../utils/editor":75}],12:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i={},o={base64:e("./base64"),editPoints:e("./editPoints"),evaluateMath:e("./evaluateMath"),expandAbbreviation:e("./expandAbbreviation"),incrementDecrement:e("./incrementDecrement"),lineBreaks:e("./lineBreaks"),balance:e("./balance"),mergeLines:e("./mergeLines"),reflectCSSValue:e("./reflectCSSValue"),removeTag:e("./removeTag"),selectItem:e("./selectItem"),selectLine:e("./selectLine"),splitJoinTag:e("./splitJoinTag"),toggleComment:e("./toggleComment"),updateImageSize:e("./updateImageSize"),wrapWithAbbreviation:e("./wrapWithAbbreviation"),updateTag:e("./updateTag")};function a(e,t,n){e=e.toLowerCase(),"string"==typeof(n=n||{})&&(n={label:n}),n.label||(n.label=s(e)),i[e]={name:e,fn:t,options:n}}function s(e){return r.trim(e.charAt(0).toUpperCase()+e.substring(1).replace(/_[a-z]/g,function(e){return" "+e.charAt(1).toUpperCase()}))}var l=function(e,t){var n=o[e];return n[t].bind(n)};return a("encode_decode_data_url",l("base64","encodeDecodeDataUrlAction"),"Encode\\Decode data:URL image"),a("prev_edit_point",l("editPoints","previousEditPointAction"),"Previous Edit Point"),a("next_edit_point",l("editPoints","nextEditPointAction"),"Next Edit Point"),a("evaluate_math_expression",l("evaluateMath","evaluateMathAction"),"Numbers/Evaluate Math Expression"),a("expand_abbreviation_with_tab",l("expandAbbreviation","expandAbbreviationWithTabAction"),{hidden:!0}),a("expand_abbreviation",l("expandAbbreviation","expandAbbreviationAction"),"Expand Abbreviation"),a("insert_formatted_line_break_only",l("lineBreaks","insertLineBreakOnlyAction"),{hidden:!0}),a("insert_formatted_line_break",l("lineBreaks","insertLineBreakAction"),{hidden:!0}),a("balance_inward",l("balance","balanceInwardAction"),"Balance (inward)"),a("balance_outward",l("balance","balanceOutwardAction"),"Balance (outward)"),a("matching_pair",l("balance","goToMatchingPairAction"),"HTML/Go To Matching Tag Pair"),a("merge_lines",l("mergeLines","mergeLinesAction"),"Merge Lines"),a("reflect_css_value",l("reflectCSSValue","reflectCSSValueAction"),"CSS/Reflect Value"),a("remove_tag",l("removeTag","removeTagAction"),"HTML/Remove Tag"),a("select_next_item",l("selectItem","selectNextItemAction"),"Select Next Item"),a("select_previous_item",l("selectItem","selectPreviousItemAction"),"Select Previous Item"),a("split_join_tag",l("splitJoinTag","splitJoinTagAction"),"HTML/Split\\Join Tag Declaration"),a("toggle_comment",l("toggleComment","toggleCommentAction"),"Toggle Comment"),a("update_image_size",l("updateImageSize","updateImageSizeAction"),"Update Image Size"),a("wrap_with_abbreviation",l("wrapWithAbbreviation","wrapWithAbbreviationAction"),"Wrap With Abbreviation"),a("update_tag",l("updateTag","updateTagAction"),"HTML/Update Tag"),[1,-1,10,-10,.1,-.1].forEach(function(e){var t=e>0?"increment":"decrement",n=String(Math.abs(e)).replace(".","").substring(0,2),r=t+"_number_by_"+n,i=t+n+"Action",o="Numbers/"+t.charAt(0).toUpperCase()+t.substring(1)+" number by "+Math.abs(e);a(r,l("incrementDecrement",i),o)}),{add:a,get:function(e){return i[e.toLowerCase()]},run:function(e,t){Array.isArray(t)||(t=r.toArray(arguments,1));var n=this.get(e);if(!n)throw new Error('Action "'+e+'" is not defined');return n.fn.apply(n,t)},getAll:function(){return i},getList:function(){var e=this.getAll();return Object.keys(e).map(function(t){return e[t]})},getMenu:function(e){var t=[];return e=e||[],this.getList().forEach(function(n){if(!n.options.hidden&&!~e.indexOf(n.name)){var i=s(n.name),o=t;if(n.options.label){var a=n.options.label.split("/");i=a.pop();for(var l,c;l=a.shift();)(c=r.find(o,function(e){return"submenu"==e.type&&e.name==l}))||(c={name:l,type:"submenu",items:[]},o.push(c)),o=c.items}o.push({type:"action",name:n.name,label:i})}}),t},getActionNameForMenuTitle:function(e,t){return r.find(t||this.getMenu(),function(t){return"action"!=t.type?this.getActionNameForMenuTitle(e,t.items):t.label==e||t.name==e?t.name:void 0},this)}}})},{"../utils/common":73,"./balance":5,"./base64":6,"./editPoints":7,"./evaluateMath":8,"./expandAbbreviation":9,"./incrementDecrement":10,"./lineBreaks":11,"./mergeLines":13,"./reflectCSSValue":14,"./removeTag":15,"./selectItem":16,"./selectLine":17,"./splitJoinTag":18,"./toggleComment":19,"./updateImageSize":20,"./updateTag":21,"./wrapWithAbbreviation":22}],13:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/htmlMatcher"),i=e("../utils/common"),o=e("../utils/editor"),a=e("../assets/range");return{mergeLinesAction:function(e){var t=o.outputInfo(e),n=a(e.getSelectionRange());if(!n.length()){var s=r.find(t.content,e.getCaretPos());s&&(n=s.outerRange)}if(n.length()){for(var l=n.substring(t.content),c=i.splitByLines(l),u=1;u<c.length;u++)c[u]=c[u].replace(/^\s+/,"");var p=(l=c.join("").replace(/\s{2,}/," ")).length;return l=i.escapeText(l),e.replaceContent(l,n.start,n.end),e.createSelection(n.start,n.start+p),!0}return!1}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../utils/common":73,"../utils/editor":75}],14:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/handlerList"),i=e("../assets/preferences"),o=e("../resolver/css"),a=e("../editTree/css"),s=e("../utils/common"),l=e("../utils/action"),c=e("../utils/editor"),u=e("../resolver/cssGradient");i.define("css.reflect.oldIEOpacity",!1,"Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.\t\tNote that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.");var p=r.create();function h(e,t){var n=function(e,t,n,r){if(e=a.baseName(e),n=a.baseName(n),"opacity"==e&&"filter"==n)return r.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(t)));if("filter"==e&&"opacity"==n){var i=t.match(/opacity=([^)]*)/i);return i?s.prettifyNumber(parseInt(i[1],10)/100):r}return t}(e.name(),e.value(),t.name(),t.value());n=function(e,t){var n=/^\-(\w+)\-/,r=n.test(e)?RegExp.$1.toLowerCase():"",i=a.findParts(t);return i.reverse(),i.forEach(function(e){var i=e.substring(t).replace(n,""),a=o.vendorPrefixes(i);a&&(r&&~a.indexOf(r)&&(i="-"+r+"-"+i),t=s.replaceSubstring(t,i,e))}),t}(t.name(),n),t.value(n)}return(n=n||{}).exports={reflectCSSValueAction:function(e){return"css"==e.getSyntax()&&l.compoundUpdate(e,function(e){var t=c.outputInfo(e),n=e.getCaretPos(),r=a.parseFromPosition(t.content,n);if(r){var i=r.itemFromPosition(n,!0);if(i){var o=r.source,s=r.options.offset,l=n-s-i.range().start;return p.exec(!1,[i]),o!==r.source?{data:r.source,start:s,end:s+o.length,caret:s+i.range().start+l}:void 0}}}(e))},_defaultHandler:function(e){var t=function(e){var t,n="^(?:\\-\\w+\\-)?";return"opacity"!=(e=a.baseName(e))&&"filter"!=e||!i.get("css.reflect.oldIEOpacity")?(t=e.match(/^border-radius-(top|bottom)(left|right)/))?new RegExp(n+"(?:"+e+"|border-"+t[1]+"-"+t[2]+"-radius)$"):(t=e.match(/^border-(top|bottom)-(left|right)-radius/))?new RegExp(n+"(?:"+e+"|border-radius-"+t[1]+t[2]+")$"):new RegExp(n+e+"$"):new RegExp(n+"(?:opacity|filter)$")}(e.name());e.parent.list().forEach(function(n){t.test(n.name())&&h(e,n)})},addHandler:function(e,t){p.add(e,t)},removeHandler:function(e){p.remove(e)}},p.add(n.exports._defaultHandler.bind(n.exports),{order:-1}),p.add(u.reflectValueHandler.bind(u)),n.exports})},{"../assets/handlerList":25,"../assets/preferences":28,"../editTree/css":37,"../resolver/css":64,"../resolver/cssGradient":65,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],15:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/editor"),o=e("../assets/htmlMatcher");return{removeTagAction:function(e){var t=i.outputInfo(e),n=o.tag(t.content,e.getCaretPos());if(n){if(n.close){var a=r.narrowToNonSpace(t.content,n.innerRange),s=r.findNewlineBounds(t.content,a.start),l=r.getLinePadding(s.substring(t.content)),c=a.substring(t.content);c=r.unindentString(c,l),e.replaceContent(r.getCaretPlaceholder()+r.escapeText(c),n.outerRange.start,n.outerRange.end)}else e.replaceContent(r.getCaretPlaceholder(),n.range.start,n.range.end);return!0}return!1}}})},{"../assets/htmlMatcher":26,"../utils/common":73,"../utils/editor":75}],16:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/range"),i=e("../utils/common"),o=e("../utils/editor"),a=e("../utils/action"),s=e("../assets/stringStream"),l=e("../parser/xml"),c=e("../editTree/css"),u=e("../utils/cssSections"),p=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;function h(e,t,n,i){for(var a,s,l=o.outputInfo(e).content,c=l.length,u=r(-1,0),p=r(e.getSelectionRange()),h=p.start,f=1e5;h>=0&&h<c&&--f>0;){if(a=n(l,h,t)){if(u.equal(a))break;if(u=a.clone(),s=i(a.substring(l),a.start,p.clone()))return e.createSelection(s.start,s.end),!0;h=t?a.start:a.end-1}h+=t?-1:1}return!1}function f(e){var t=!0;return h(e,!1,function(e,n){return t?(t=!1,function(e,t){var n;for(;t>=0;){if(n=m(e,t))return n;t--}return null}(e,n)):m(e,n)},function(e,t,n){return y(e,t,n,!1)})}function d(e,t,n){n=n||0;var o,a,l=[],c=-1,u="",p="";return t.forEach(function(t){switch(t.type){case"tag":a=e.substring(t.start,t.end),/^<[\w\:\-]/.test(a)&&l.push(r({start:t.start+1,end:t.end}));break;case"attribute":c=t.start,u=e.substring(t.start,t.end);break;case"string":l.push(r(c,t.end-c)),o=r(t),g((p=o.substring(e)).charAt(0))&&o.start++,g(p.charAt(p.length-1))&&o.end--,l.push(o),"class"==u&&(l=l.concat(function(e,t){t=t||0;var n=[],i=s.create(e);i.eatSpace(),i.start=i.pos;var o;for(;o=i.next();)/[\s\u00a0]/.test(o)&&(n.push(r(i.start+t,i.pos-i.start-1)),i.eatSpace(),i.start=i.pos);return n.push(r(i.start+t,i.pos-i.start)),n}(o.substring(e),o.start)))}}),l=l.filter(function(e){if(e.length())return e.shift(n),!0}),i.unique(l,function(e){return e.toString()})}function y(e,t,n,r){var o=d(e,l.parse(e),t);r&&o.reverse();var a=i.find(o,function(e){return e.equal(n)});if(a){var s=o.indexOf(a);return s<o.length-1?o[s+1]:null}if(r)return i.find(o,function(e){return e.start<n.start});if(!a){var c=o.filter(function(e){return e.inside(n.end)});if(c.length>1)return c[1]}return i.find(o,function(e){return e.end>n.end})}function m(e,t){var n;if("<"==e.charAt(t)&&(n=e.substring(t,e.length).match(p)))return r(t,n[0])}function g(e){return'"'==e||"'"==e}function v(e){var t=[e.nameRange(!0)];return u.nestedSectionsInRule(e).forEach(function(e){t.push(r.create2(e.start,e._selectorEnd))}),e.list().forEach(function(e){t=t.concat(function(e){var t=e.valueRange(!0),n=[e.range(!0),t],i=e.value();return e.valueParts().forEach(function(e){var o=e.clone();n.push(o.shift(t.start));var a=s.create(e.substring(i));if(a.match(/^[\w\-]+\(/,!0)){a.start=a.pos,a.backUp(1),a.skipToPair("(",")"),a.backUp(1);var l=a.current();n.push(r(o.start+a.start,l)),c.findParts(l).forEach(function(e){n.push(r(o.start+a.start+e.start,e.substring(l)))})}}),n}(e))}),t=(t=r.sort(t)).filter(function(e){return!!e.length()}),i.unique(t,function(e){return e.toString()})}function b(e,t,n){var r=v(e);n&&r.reverse();var o=i.find(r,function(e){return e.equal(t)});if(o)return r[r.indexOf(o)+1];var a=r.filter(function(e){return e.inside(t.end)});if(a.length)return a.sort(function(e,t){return e.length()-t.length()})[0];o=i.find(r,n?function(e){return e.end<t.start}:function(e){return e.end>t.start});return o||(o=r[0]),o}function x(e,t,n){return b(c.parse(e,{offset:t}),n,!1)}function w(e,t,n){return b(c.parse(e,{offset:t}),n,!0)}return{selectNextItemAction:function(e){return a.isSupportedCSS(e.getSyntax())?h(e,!1,u.locateRule.bind(u),x):f(e)},selectPreviousItemAction:function(e){return a.isSupportedCSS(e.getSyntax())?h(e,!0,u.locateRule.bind(u),w):h(e,!0,m,function(e,t,n){return y(e,t,n,!0)})}}})},{"../assets/range":30,"../assets/stringStream":32,"../editTree/css":37,"../parser/xml":62,"../utils/action":70,"../utils/common":73,"../utils/cssSections":74,"../utils/editor":75}],17:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){return{selectLineAction:function(e){var t=e.getCurrentLineRange();return e.createSelection(t.start,t.end),!0}}})},{}],18:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=(e("../assets/resources"),e("../assets/htmlMatcher")),o=e("../utils/editor"),a=e("../assets/profile");return{splitJoinTagAction:function(e,t){var n=o.outputInfo(e,null,t),s=a.get(n.profile),l=i.tag(n.content,e.getCaretPos());return!!l&&(l.close?function(e,t,n){var i=t.selfClosing()||" /",o=n.open.range.substring(n.source).replace(/\s*>$/,i+">"),a=e.getCaretPos();return o.length+n.outerRange.start<a&&(a=o.length+n.outerRange.start),o=r.escapeText(o),e.replaceContent(o,n.outerRange.start,n.outerRange.end),e.setCaretPos(a),!0}(e,s,l):function(e,t,n){var i=e.getCaretPos(),o=!0===t.tag_nl?"\n\t\n":"",a=n.outerContent().replace(/\s*\/>$/,">");return i=n.outerRange.start+a.length,a+=o+"</"+n.open.name+">",a=r.escapeText(a),e.replaceContent(a,n.outerRange.start,n.outerRange.end),e.setCaretPos(i),!0}(e,s,l))}}})},{"../assets/htmlMatcher":26,"../assets/profile":29,"../assets/resources":31,"../utils/common":73,"../utils/editor":75}],19:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences"),i=e("../assets/range"),o=e("../utils/common"),a=e("../utils/action"),s=e("../utils/editor"),l=e("../assets/htmlMatcher"),c=e("../editTree/css");function u(e){var t=i(e.getSelectionRange()),n=s.outputInfo(e);if(!t.length()){var r=c.parseFromPosition(n.content,e.getCaretPos());if(r){var a=function(e,t){var n=t-(e.options.offset||0),r=/^[\s\n\r]/;return o.find(e.list(),function(t){return t.range().end===n?r.test(e.source.charAt(n)):t.range().inside(n)})}(r,e.getCaretPos());t=a?a.range(!0):i(r.nameRange(!0).start,r.source)}}return t.length()||(t=i(e.getCurrentLineRange()),o.narrowToNonSpace(n.content,t)),p(e,"/*","*/",t)}function p(e,t,n,r){var a=s.outputInfo(e).content,l=e.getCaretPos(),c=null;var u=function(e,t,n,r){for(var o=-1,a=-1,s=function(t,n){return e.substr(n,t.length)==t};t--;)if(s(n,t)){o=t;break}if(-1!=o){t=o;for(var l=e.length;l>=t++;)if(s(r,t)){a=t+r.length;break}}return-1!=o&&-1!=a?i(o,a-o):null}(a,l,t,n);u&&u.overlap(r)?c=(r=u).substring(a).replace(new RegExp("^"+o.escapeForRegexp(t)+"\\s*"),function(e){return l-=e.length,""}).replace(new RegExp("\\s*"+o.escapeForRegexp(n)+"$"),""):(c=t+" "+r.substring(a).replace(new RegExp(o.escapeForRegexp(t)+"\\s*|\\s*"+o.escapeForRegexp(n),"g"),"")+" "+n,l+=t.length+1);return null!==c&&(c=o.escapeText(c),e.setCaretPos(r.start),e.replaceContent(s.unindent(e,c),r.start,r.end),e.setCaretPos(l),!0)}return{toggleCommentAction:function(e){var t=s.outputInfo(e);if(a.isSupportedCSS(t.syntax)){var n=e.getCaretPos(),o=l.tag(t.content,n);o&&o.open.range.inside(n)&&(t.syntax="html")}return~r.getArray("css.syntaxes").indexOf(t.syntax)?u(e):"javascript"===t.syntax?u(e):function(e){var t=i(e.getSelectionRange()),n=s.outputInfo(e);if(!t.length()){var r=l.tag(n.content,e.getCaretPos());r&&(t=r.outerRange)}return p(e,"\x3c!--","--\x3e",t)}(e)}}})},{"../assets/htmlMatcher":26,"../assets/preferences":28,"../assets/range":30,"../editTree/css":37,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],20:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/editor"),o=e("../utils/action"),a=e("../editTree/xml"),s=e("../editTree/css"),l=e("../utils/base64"),c=e("../plugin/file");function u(e,t,n){var r;if(t){if(/^data:/.test(t))return r=l.decode(t.replace(/^data\:.+?;.+?,/,"")),n(o.getImageSize(r));var i=c.locateFile(e.getFilePath(),t);if(null===i)throw"Can't find "+t+" file";c.read(i,function(e,t){if(e)throw"Unable to read "+i+": "+e;t=String(t),n(o.getImageSize(t))})}}return{updateImageSizeAction:function(e){return o.isSupportedCSS(e.getSyntax())?function(e){var t=e.getCaretPos(),n=i.outputInfo(e),a=s.parseFromPosition(n.content,t,!0);if(a){var l,c=a.itemFromPosition(t,!0);c&&(l=/url\((["']?)(.+?)\1\)/i.exec(c.value()||""))&&u(e,l[2],function(n){if(n){var i=a.range(!0);a.value("width",n.width+"px"),a.value("height",n.height+"px",a.indexOf("width")+1),o.compoundUpdate(e,r.extend(i,{data:a.toString(),caret:t}))}})}}(e):function(e){var t=e.getCaretPos(),n=i.outputInfo(e),s=a.parseFromPosition(n.content,t,!0);s&&"img"==(s.name()||"").toLowerCase()&&u(e,s.value("src"),function(n){if(n){var i=s.range(!0);s.value("width",n.width),s.value("height",n.height,s.indexOf("width")+1),o.compoundUpdate(e,r.extend(i,{data:s.toString(),caret:t}))}})}(e),!0}}})},{"../editTree/css":37,"../editTree/xml":38,"../plugin/file":63,"../utils/action":70,"../utils/base64":71,"../utils/common":73,"../utils/editor":75}],21:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../editTree/xml"),i=(e("../utils/editor"),e("../utils/action")),o=e("../utils/common"),a=e("../parser/abbreviation");return{updateTagAction:function(e,t){if(!(t=t||e.prompt("Enter abbreviation")))return!1;var n=e.getContent(),r=i.captureContext(e),o=this.getUpdatedTag(t,r,n);return!!o&&(o.name()!=r.name&&r.match.close&&e.replaceContent("</"+o.name()+">",r.match.close.range.start,r.match.close.range.end,!0),e.replaceContent(o.source,r.match.open.range.start,r.match.open.range.end,!0),!0)},getUpdatedTag:function(e,t,n,i){if(!t)return null;var s=a.parse(e,i||{}),l=r.parse(t.match.open.range.substring(n),{offset:t.match.outerRange.start});s.children.forEach(function(e,t){!function(e,t,n){var r=(t.attribute("class")||"").split(/\s+/g);n&&r.push("+"+t.name());var i=function(e){return o.replaceCounter(e,t.counter)};r.forEach(function(t){if(t){var n=(t=i(t)).charAt(0);"+"==n?e.addClass(t.substr(1)):"-"==n?e.removeClass(t.substr(1)):e.value("class",t)}}),t.attributeList().forEach(function(t){if("class"!=t.name.toLowerCase()){var n=t.name.charAt(0);if("+"==n){var r=t.name.substr(1),o=e.get(r);o?o.value(o.value()+i(t.value)):e.value(r,i(t.value))}else"-"==n?e.remove(t.name.substr(1)):e.value(t.name,i(t.value))}})}(l,e,t)});var c=s.children[0];return c.data("nameResolved")||l.name(c.name()),l}}})},{"../editTree/xml":38,"../parser/abbreviation":55,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],22:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/range"),i=e("../assets/htmlMatcher"),o=e("../utils/common"),a=e("../utils/editor"),s=e("../utils/action"),l=e("../parser/abbreviation");return{wrapWithAbbreviationAction:function(e,t,n,c){var u=a.outputInfo(e,n,c);if(!(t=t||e.prompt("Enter abbreviation")))return null;t=String(t);var p=r(e.getSelectionRange());if(!p.length()){var h=i.tag(u.content,p.start);if(!h)return!1;p=o.narrowToNonSpace(u.content,h.range)}var f=o.escapeText(p.substring(u.content)),d=l.expand(t,{pastedContent:a.unindent(e,f),syntax:u.syntax,profile:u.profile,contextNode:s.captureContext(e)});return!!d&&(e.replaceContent(d,p.start,p.end),!0)}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../parser/abbreviation":55,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],23:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var i=e("./preferences"),o=e("../utils/common");i.define("caniuse.enabled",!0,"Enable support of Can I Use database. When enabled,\t\tCSS abbreviation resolver will look at Can I Use database first before detecting\t\tCSS properties that should be resolved"),i.define("caniuse.vendors","all","A comma-separated list vendor identifiers\t\t(as described in Can I Use database) that should be supported\t\twhen resolving vendor-prefixed properties. Set value to <code>all</code>\t\tto support all available properties"),i.define("caniuse.era","e-2","Browser era, as defined in Can I Use database.\t\tExamples: <code>e0</code> (current version), <code>e1</code> (near future)\t\t<code>e-2</code> (2 versions back) and so on.");var a={"border-image":["border-image"],"css-boxshadow":["box-shadow"],"css3-boxsizing":["box-sizing"],multicolumn:["column-width","column-count","columns","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-fill"],"border-radius":["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],transforms2d:["transform"],"css-hyphens":["hyphens"],"css-transitions":["transition","transition-property","transition-duration","transition-timing-function","transition-delay"],"font-feature":["font-feature-settings"],"css-animation":["animation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","animation-direction","animation-play-state","animation-delay","animation-fill-mode","@keyframes"],"css-gradients":["linear-gradient"],"css-masks":["mask-image","mask-source-type","mask-repeat","mask-position","mask-clip","mask-origin","mask-size","mask","mask-type","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat","mask-box-image","clip-path","clip-rule"],"css-featurequeries":["@supports"],flexbox:["flex","inline-flex","flex-direction","flex-wrap","flex-flow","order","flex"],calc:["calc"],"object-fit":["object-fit","object-position"],"css-grid":["grid","inline-grid","grid-template-rows","grid-template-columns","grid-template-areas","grid-template","grid-auto-rows","grid-auto-columns"," grid-auto-flow","grid-auto-position","grid"," grid-row-start","grid-column-start","grid-row-end","grid-column-end","grid-column","grid-row","grid-area","justify-self","justify-items","align-self","align-items"],"css-repeating-gradients":["repeating-linear-gradient"],"css-filters":["filter"],"user-select-none":["user-select"],"intrinsic-width":["min-content","max-content","fit-content","fill-available"],"css3-tabsize":["tab-size"]},s=null,l=null,c=null;function u(e,t){"string"==typeof e&&(e=JSON.parse(e)),t||(e=p(e)),l=e.vendors,s=e.css,c=e.era}function p(e){return"string"==typeof e&&(e=JSON.parse(e)),{vendors:function(e){var t={};return Object.keys(e.agents).forEach(function(n){var r=e.agents[n];t[n]={prefix:r.prefix,versions:r.versions}}),t}(e),css:function(e){var t={};e.cats.CSS;return Object.keys(e.data).forEach(function(n){var r=e.data[n];n in a&&a[n].forEach(function(e){t[e]=r.stats})}),t}(e),era:(t=e,Object.keys(t.eras).sort(function(e,t){return parseInt(e.substr(1))-parseInt(t.substr(1))}))};var t}var h=null;return function(e){if(void 0===r||!r.amd)try{var t=e("fs"),n=e("path");h=t.readFileSync(n.join(__dirname,"../caniuse.json"),{encoding:"utf8"})}catch(e){}}(e),h&&u(h),{load:u,optimize:p,resolvePrefixes:function(e){if(!(i.get("caniuse.enabled")&&s&&e in s))return null;var t=[],n=s[e],r=function(){var e=i.get("caniuse.era"),t=c.indexOf(e);return~t||(t=c.indexOf("e-2")),t}();return function(){var e=Object.keys(l),t=i.getArray("caniuse.vendors");return t&&"all"!=t[0]?function(e,t){var n=[],r=e,i=t;return r.length>i.length&&(r=t,i=e),i.forEach(function(e){~r.indexOf(e)&&n.push(e)}),n}(e,t):e}().forEach(function(e){for(var i,o=l[e].versions.slice(r),a=0;a<o.length;a++)if((i=o[a])&&~n[e][i].indexOf("x")){t.push(l[e].prefix);break}}),o.unique(t).sort(function(e,t){return t.length-e.length})}}})},{"../utils/common":73,"./preferences":28}],24:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r={},i=/([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;function o(e){return{data:e}}return(n=n||{}).exports={add:function(e,t){var n=this;r[e]=function(){var r=t.apply(n,arguments);return r&&(r.type=e),r}},get:function(e){return r[e]},create:function(e){var t=[].slice.call(arguments,1),n=this.get(e);return n?n.apply(this,t):null},is:function(e,t){return this.type(e)===t},type:function(e){return e&&e.type}},n.exports.add("element",function(e,t,n){var r={name:e,is_empty:!!n};if(t)if(r.attributes=[],Array.isArray(t))r.attributes=t;else if("string"==typeof t)for(var o;o=i.exec(t);)r.attributes.push({name:o[2],value:o[4],isDefault:"@"==o[1],isImplied:"!"==o[1]});else r.attributes=Object.keys(t).map(function(e){return{name:e,value:t[e]}});return r}),n.exports.add("snippet",o),n.exports.add("reference",o),n.exports.add("empty",function(){return{}}),n.exports})},{}],25:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common");function i(){this._list=[]}return i.prototype={add:function(e,t){var n=this._list.length;t&&"order"in t&&(n=1e4*t.order),this._list.push(r.extend({},t,{order:n,fn:e}))},remove:function(e){var t=r.find(this._list,function(t){return t.fn===e});t&&this._list.splice(this._list.indexOf(t),1)},list:function(){return this._list.sort(function(e,t){return t.order-e.order})},listFn:function(){return this.list().map(function(e){return e.fn})},exec:function(e,t){t=t||[];var n=null;return r.find(this.list(),function(r){if((n=r.fn.apply(r,t))!==e)return!0}),n}},{create:function(){return new i}}})},{"../utils/common":73}],26:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./range"),i=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,o=/^<\/([\w\:\-]+)[^>]*>/;function a(e){var t,n={};return{open:function(e){var t=this.matches(e);return t&&"open"==t.type?t:null},close:function(e){var t=this.matches(e);return t&&"close"==t.type?t:null},matches:function(a){var s="p"+a;if(!(s in n)&&(n[s]=!1,"<"==e.charAt(a))){var l=e.slice(a);(t=l.match(i))?n[s]=(p=a,h=t,{name:h[1],selfClose:!!h[3],range:r(p,h[0]),type:"open"}):(t=l.match(o))&&(n[s]=(c=a,u=t,{name:u[1],range:r(c,u[0]),type:"close"}))}var c,u,p,h;return n[s]},text:function(){return e},clean:function(){n=e=t=null}}}function s(e,t,n){return e.substring(t,t+n.length)==n}function l(e,t){for(var n=[],r=null,i=t.text(),o=e.range.end,a=i.length;o<a;o++){if(s(i,o,"\x3c!--"))for(var l=o;l<a;l++)if(s(i,l,"--\x3e")){o=l+3;break}if(r=t.matches(o)){if("open"!=r.type||r.selfClose){if("close"==r.type){if(!n.length)return r.name==e.name?r:null;if(n[n.length-1]==r.name)n.pop();else{for(var c=!1;n.length&&!c;){n.pop()==r.name&&(c=!0)}if(!n.length&&!c)return r.name==e.name?r:null}}}else n.push(r.name);o=r.range.end-1}}}return{find:function(e,t){for(var n,i,o=a(e),c=null,u=null,p=t;p>=0;p--)if(c=o.open(p)){if(c.selfClose){if(c.range.cmp(t,"lt","gt"))break;continue}if(u=l(c,o)){if(r.create2(c.range.start,u.range.end).contains(t))break}else if(c.range.contains(t))break;c=null}else if(s(e,p,"--\x3e")){for(n=p-1;n>=0&&!s(e,n,"--\x3e");n--)if(s(e,n,"\x3c!--")){p=n;break}}else if(s(e,p,"\x3c!--")){for(n=p+4,i=e.length;n<i;n++)if(s(e,n,"--\x3e")){n+=3;break}c={range:r(h=p,"number"==typeof(f=n)?f-h:f[0]),type:"comment"};break}var h,f;if(o.clean(),c){var d=null,y=null;if(u?(d=r.create2(c.range.start,u.range.end),y=r.create2(c.range.end,u.range.start)):d=y=r.create2(c.range.start,c.range.end),"comment"==c.type){var m=d.substring(e);y.start+=m.length-m.replace(/^<\!--\s*/,"").length,y.end-=m.length-m.replace(/\s*-->$/,"").length}return{open:c,close:u,type:"comment"==c.type?"comment":"tag",innerRange:y,innerContent:function(){return this.innerRange.substring(e)},outerRange:d,outerContent:function(){return this.outerRange.substring(e)},range:y.length()&&y.cmp(t,"lte","gte")?y:d,content:function(){return this.range.substring(e)},source:e}}},tag:function(e,t){var n=this.find(e,t);if(n&&"tag"==n.type)return n}}})},{"./range":30}],27:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){return{log:function(){"undefined"!=typeof console&&console.log&&console.log.apply(console,arguments)}}})},{}],28:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i={},o={},a=null,s=null;return{define:function(e,t,n){var r=e;"string"==typeof e&&((r={})[e]={value:t,description:n}),Object.keys(r).forEach(function(e){var t=r[e];o[e]=(n=t,"object"==typeof n&&!Array.isArray(n)&&"value"in n&&Object.keys(n).length<3?t:{value:t});var n})},set:function(e,t){var n=e;"string"==typeof e&&((n={})[e]=t),Object.keys(n).forEach(function(e){var t=n[e];if(!(e in o))throw new Error('Property "'+e+'" is not defined. You should define it first with `define` method of current module');if(t!==o[e].value){switch(typeof o[e].value){case"boolean":t="string"==typeof(r=t)?"yes"==(r=r.toLowerCase())||"true"==r||"1"==r:!!r;break;case"number":t=parseInt(t+"",10)||0;break;default:null!==t&&(t+="")}i[e]=t}else e in i&&delete i[e];var r})},get:function(e){return e in i?i[e]:e in o?o[e].value:void 0},getArray:function(e){var t=this.get(e);return void 0===t||null===t||""===t?null:(t=t.split(",").map(r.trim)).length?t:null},getDict:function(e){var t={};return this.getArray(e).forEach(function(e){var n=e.split(":");t[n[0]]=n[1]}),t},description:function(e){return e in o?o[e].description:void 0},remove:function(e){Array.isArray(e)||(e=[e]),e.forEach(function(e){e in i&&delete i[e],e in o&&delete o[e]})},list:function(){return Object.keys(o).sort().map(function(e){return{name:e,value:this.get(e),type:typeof o[e].value,description:o[e].description}},this)},load:function(e){Object.keys(e).forEach(function(t){this.set(t,e[t])},this)},exportModified:function(){return r.extend({},i)},reset:function(){i={}},_startTest:function(){a=o,s=i,o={},i={}},_stopTest:function(){o=a,i=s}}})},{"../utils/common":73}],29:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("./resources"),o=e("./preferences");o.define("profile.allowCompactBoolean",!0,'This option can be used to globally disable compact form of boolean attribues (attributes where name and value are equal). With compactform enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>'),o.define("profile.booleanAttributes","^contenteditable|seamless$","A regular expression for attributes that should be boolean by default.If attribute name matches this expression, you don’t have to write dot after attribute name in Emmet abbreviation to mark it as boolean.");var a={},s={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,compact_bool:!1,self_closing_tag:"xhtml",filters:"",extraFilters:""};function l(e){r.extend(this,s,e)}l.prototype={tagName:function(e){return c(e,this.tag_case)},attributeName:function(e){return c(e,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":!0===this.self_closing_tag?"/":""},cursor:function(){return this.place_cursor?r.getCaretPlaceholder():""},isBoolean:function(e,t){if(e==t)return!0;var n=o.get("profile.booleanAttributes");return!(t||!n)&&(n=new RegExp(n,"i")).test(e)},allowCompactBoolean:function(){return this.compact_bool&&o.get("profile.allowCompactBoolean")}};function c(e,t){switch(String(t||"").toLowerCase()){case"lower":return e.toLowerCase();case"upper":return e.toUpperCase()}return e}function u(e,t){return a[e.toLowerCase()]=new l(t)}function p(){u("xhtml"),u("html",{self_closing_tag:!1,compact_bool:!0}),u("xml",{self_closing_tag:!0,tag_nl:!0}),u("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),u("line",{tag_nl:!1,indent:!1,extraFilters:"s"}),u("css",{tag_nl:!0}),u("css_line",{tag_nl:!1})}return p(),{create:function(e,t){return 2==arguments.length?u(e,t):new l(r.defaults(e||{},s))},get:function(e,t){if(!e&&t){var n=i.findItem(t,"profile");n&&(e=n)}return e?e instanceof l?e:"string"==typeof e&&e.toLowerCase()in a?a[e.toLowerCase()]:this.create(e):a.plain},remove:function(e){(e=(e||"").toLowerCase())in a&&delete a[e]},reset:function(){a={},p()},stringCase:c}})},{"../utils/common":73,"./preferences":28,"./resources":31}],30:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e,t,n){switch(n){case"eq":case"==":return e===t;case"lt":case"<":return e<t;case"lte":case"<=":return e<=t;case"gt":case">":return e>t;case"gte":case">=":return e>=t}}function i(e,t){"object"==typeof e&&"start"in e?(this.start=Math.min(e.start,e.end),this.end=Math.max(e.start,e.end)):Array.isArray(e)?(this.start=e[0],this.end=e[1]):(t="string"==typeof t?t.length:+t,this.start=e,this.end=e+t)}return i.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(e){return this.cmp(e,"eq","eq")},shift:function(e){return this.start+=e,this.end+=e,this},overlap:function(e){return e.start<=this.end&&e.end>=this.start},intersection:function(e){if(this.overlap(e)){var t=Math.max(e.start,this.start);return new i(t,Math.min(e.end,this.end)-t)}return null},union:function(e){if(this.overlap(e)){var t=Math.min(e.start,this.start);return new i(t,Math.max(e.end,this.end)-t)}return null},inside:function(e){return this.cmp(e,"lte","gt")},contains:function(e){return this.cmp(e,"lt","gt")},include:function(e){return this.cmp(e,"lte","gte")},cmp:function(e,t,n){var o,a;return e instanceof i?(o=e.start,a=e.end):o=a=e,r(this.start,o,t||"<=")&&r(this.end,a,n||">")},substring:function(e){return this.length()>0?e.substring(this.start,this.end):""},clone:function(){return new i(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},n.exports=function(e,t){return void 0===e||null===e?null:e instanceof i?e:("object"==typeof e&&"start"in e&&"end"in e&&(t=e.end-e.start,e=e.start),new i(e,t))},n.exports.create=n.exports,n.exports.isRange=function(e){return e instanceof i},n.exports.create2=function(e,t){return"number"==typeof e&&"number"==typeof t&&(t-=e),this.create(e,t)},n.exports.sort=function(e,t){return e=e.sort(function(e,t){return e.start===t.start?t.end-e.end:e.start-t.start}),t&&e.reverse(),e},n.exports})},{}],31:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var i=e("./handlerList"),o=e("../utils/common"),a=e("./elements"),s=(e("../assets/logger"),e("../vendor/stringScore")),l=e("../resolver/css"),c={},u=/^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,p={},h={},f=i.create();function d(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function y(e,t,n){r=t,t=o.replaceUnescapedSymbol(r,"|",o.getCaretPlaceholder());var r;return"snippets"==n?a.create("snippet",t):"abbreviations"==n?function(e,t){e=o.trim(e);var n;return(n=u.exec(t))?a.create("element",n[1],n[2],"/"==n[4]):a.create("reference",t)}(e,t):void 0}function m(e){return e.replace(/:$/,"").replace(/:/g,"-")}return o.extend(t,{setVocabulary:function(e,t){c={};var n={};d(e,function(e,t){var r={};d(e,function(e,t){"abbreviations"!=t&&"snippets"!=t||(e=function(e){var t={};return d(e,function(e,n){for(var r=n.split("|"),i=r.length-1;i>=0;i--)t[r[i]]=e}),t}(e)),r[t]=e}),n[t]=r}),"system"==t?p=n:h=n},getVocabulary:function(e){return"system"==e?p:h},getMatchedResource:function(e,t){return f.exec(null,o.toArray(arguments))||this.findSnippet(t,e.name())},getVariable:function(e){return(this.getSection("variables")||{})[e]},setVariable:function(e,t){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[e]=t,this.setVocabulary(n,"user")},hasSyntax:function(e){return e in this.getVocabulary("user")||e in this.getVocabulary("system")},addResolver:function(e,t){f.add(e,t)},removeResolver:function(e){f.remove(e)},getSection:function(e){if(!e)return null;e in c||(c[e]=o.deepMerge({},p[e],h[e]));for(var t,n=c[e],r=o.toArray(arguments,1);n&&(t=r.shift());){if(!(t in n))return null;n=n[t]}return n},findItem:function(e,t){for(var n=this.getSection(e);n;){if(t in n)return n[t];n=this.getSection(n.extends)}},findSnippet:function(e,t,n){if(!e||!t)return null;n=n||[];var r=[t];~t.indexOf("-")&&r.push(t.replace(/\-/g,":"));var i=this.getSection(e),o=null;return["snippets","abbreviations"].some(function(t){var n=this.getSection(e,t);if(n)return r.some(function(e){if(n[e])return o=y(e,n[e],t)})},this),n.push(e),o||!i.extends||~n.indexOf(i.extends)?o:this.findSnippet(i.extends,t,n)},fuzzyFindSnippet:function(e,t,n){var r=this.fuzzyFindMatches(e,t,n)[0];if(r)return r.value.parsedValue},fuzzyFindMatches:function(e,t,n){n=n||.3,t=m(t);var r=this.getAllSnippets(e);return Object.keys(r).map(function(e){var n=r[e];return{key:e,score:s.score(n.nk,t,.1),value:n}}).filter(function(e){return e.score>=n}).sort(function(e,t){return e.score-t.score}).reverse()},getAllSnippets:function(e){var t="all-"+e;if(!c[t]){var n=[],r=e,i=[];do{var a=this.getSection(r);if(!a)break;["snippets","abbreviations"].forEach(function(e){var t={};d(a[e]||null,function(n,r){t[r]={nk:m(r),value:n,parsedValue:y(r,n,e),type:e}}),n.push(t)}),i.push(r),r=a.extends}while(r&&!~i.indexOf(r));c[t]=o.extend.apply(o,n.reverse())}return c[t]},getNewline:function(){var e=this.getVariable("newline");return"string"==typeof e?e:"\n"},setNewline:function(e){this.setVariable("newline",e),this.setVariable("nl",e)}}),t.addResolver(l.resolve.bind(l)),function(e){if(void 0===r||!r.amd)try{var n=e("fs"),i=e("path"),o=n.readFileSync(i.join(__dirname,"../snippets.json"),{encoding:"utf8"});t.setVocabulary(JSON.parse(o),"system")}catch(e){}}(e),t})},{"../assets/logger":27,"../resolver/css":64,"../utils/common":73,"../vendor/stringScore":79,"./elements":24,"./handlerList":25}],32:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){this.pos=this.start=0,this.string=e,this._length=e.length}return r.prototype={eol:function(){return this.pos>=this._length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this._length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this._length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},skipToPair:function(e,t,n){for(var r,i=0,o=this.pos,a=this._length;o<a;)if((r=this.string.charAt(o++))==e)i++;else if(r==t){if(--i<1)return this.pos=o,!0}else!n||'"'!=r&&"'"!=r||this.skipString(r);return!1},skipQuoted:function(e){var t=this.string.charAt(e?this.pos:this.pos-1);if('"'===t||"'"===t)return e&&this.pos++,this.skipString(t)},skipString:function(e){for(var t,n=this.pos,r=this._length;n<r;)if("\\"!=(t=this.string.charAt(n++))&&t==e)return this.pos=n,!0;return!1},backUp:function(e){this.pos-=e},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&!1!==t&&(this.pos+=r[0].length),r}var i=n?function(e){return e.toLowerCase()}:function(e){return e};if(i(this.string).indexOf(i(e),this.pos)==this.pos)return!1!==t&&(this.pos+=e.length),!0},current:function(e){return this.string.slice(this.start,this.pos-(e?1:0))}},n.exports=function(e){return new r(e)},n.exports.create=n.exports,n.exports})},{}],33:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("./stringStream"),o=e("./resources"),a=100,s=0,l={replaceCarets:!1,escape:function(e){return"\\"+e},tabstop:function(e){return e.token},variable:function(e){return e.token}};return{extract:function(e,t){var n={carets:""},i=[];(t=r.extend({},l,t,{tabstop:function(e){var t=e.token,r="";return"cursor"==e.placeholder?i.push({start:e.start,end:e.start+t.length,group:"carets",value:""}):("placeholder"in e&&(n[e.group]=e.placeholder),e.group in n&&(r=n[e.group]),i.push({start:e.start,end:e.start+t.length,group:e.group,value:r})),t}})).replaceCarets&&(e=e.replace(new RegExp(r.escapeForRegexp(r.getCaretPlaceholder()),"g"),"${0:cursor}")),e=this.processText(e,t);var o="",a=0,s=i.map(function(t){var r=(o+=e.substring(a,t.start)).length,i=n[t.group]||"";return o+=i,a=t.end,{group:t.group,start:r,end:r+i.length}});return{text:o+=e.substring(a),tabstops:s.sort(function(e,t){return e.start-t.start})}},processText:function(e,t){t=r.extend({},l,t);for(var n,o,a,s="",c=i.create(e);n=c.next();)if("\\"!=n||c.eol()){if(a=n,"$"==n)if(c.start=c.pos-1,o=c.match(/^[0-9]+/))a=t.tabstop({start:s.length,group:c.current().substr(1),token:c.current()});else if(o=c.match(/^\{([a-z_\-][\w\-]*)\}/))a=t.variable({start:s.length,name:o[1],token:c.current()});else if(o=c.match(/^\{([0-9]+)(:.+?)?\}/,!1)){c.skipToPair("{","}");var u={start:s.length,group:o[1],token:c.current()},p=u.token.substring(u.group.length+2,u.token.length-1);p&&(u.placeholder=p.substr(1)),a=t.tabstop(u)}s+=a}else s+=t.escape(c.next());return s},upgrade:function(e,t){var n=0,r={tabstop:function(e){var r=parseInt(e.group,10);return r>n&&(n=r),e.placeholder?"${"+(r+t)+":"+e.placeholder+"}":"${"+(r+t)+"}"}};return["start","end","content"].forEach(function(t){e[t]=this.processText(e[t],r)},this),n},variablesResolver:function(e){var t={};return function(n,i){if("child"==i)return n;if("cursor"==i)return r.getCaretPlaceholder();var s=e.attribute(i);if(void 0!==s&&s!==n)return s;var l=o.getVariable(i);return l||(t[i]||(t[i]=a++),"${"+t[i]+":"+i+"}")}},replaceVariables:function(e,t){var n="function"==typeof(t=t||{})?t:function(e,n){return n in t?t[n]:null};return this.processText(e,{variable:function(e){var t=n(e.token,e.name,e);return null===t&&(t=o.getVariable(e.name)),null!==t&&void 0!==t||(t=e.token),t}})},resetTabstopIndex:function(){s=0,a=100},abbrOutputProcessor:function(e,t,n){var r=0,i=this,o={tabstop:function(e){var t=parseInt(e.group,10);if(0===t)return"${0}";if(t>r&&(r=t),e.placeholder){return"${"+(t+s)+":"+i.processText(e.placeholder,o)+"}"}return"${"+(t+s)+"}"}};return e=this.processText(e,o),e=this.replaceVariables(e,this.variablesResolver(t)),s+=r+1,e}}})},{"../utils/common":73,"./resources":31,"./stringStream":32}],34:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){this.tokens=e,this._position=0,this.reset()}return r.prototype={next:function(){if(this.hasNext()){var e=this.tokens[++this._i];return this._position=e.start,e}return this._i=this._il,null},current:function(){return this.tokens[this._i]},peek:function(){return this.tokens[this._i+i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=0,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(e,t){for(var n,r="string"==typeof e?function(t){return t.type==e}:e;(n=this.next())&&(t&&t.call(this,n),!r.call(this,n)););}},{create:function(e){return new r(e)}}})},{}],35:[function(e,t,n){t.exports={eras:{"e-26":"26 versions back","e-25":"25 versions back","e-24":"24 versions back","e-23":"23 versions back","e-22":"22 versions back","e-21":"21 versions back","e-20":"20 versions back","e-19":"19 versions back","e-18":"18 versions back","e-17":"17 versions back","e-16":"16 versions back","e-15":"15 versions back","e-14":"14 versions back","e-13":"13 versions back","e-12":"12 versions back","e-11":"11 versions back","e-10":"10 versions back","e-9":"9 versions back","e-8":"8 versions back","e-7":"7 versions back","e-6":"6 versions back","e-5":"5 versions back","e-4":"4 versions back","e-3":"3 versions back","e-2":"2 versions back","e-1":"Previous version",e0:"Current",e1:"Near future",e2:"Farther future"},agents:{ie:{browser:"IE",abbr:"IE",prefix:"ms",type:"desktop",usage_global:{10:10.7866,11:.114751,5.5:.009298,6:.204912,7:.508182,8:8.31124,9:5.21297},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"5.5","6","7","8","9","10","11",null,null],current_version:""},firefox:{browser:"Firefox",abbr:"FF",prefix:"moz",type:"desktop",usage_global:{10:.112406,11:.088319,12:.208754,13:.096348,14:.096348,15:.136493,16:.264957,17:.192696,18:.112406,19:.128464,2:.016058,20:.16058,21:.216783,22:.256928,23:.907277,24:11.0318,25:.529914,26:.016058,27:.016058,3:.088319,3.5:.040145,3.6:.305102,4:.072261,5:.048174,6:.048174,7:.040145,8:.072261,9:.056203},versions:[null,"2","3","3.5","3.6","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27"],current_version:""},chrome:{browser:"Chrome",abbr:"Chr.",prefix:"webkit",type:"desktop",usage_global:{10:.048174,11:.112406,12:.064232,13:.056203,14:.056203,15:.072261,16:.048174,17:.040145,18:.08029,19:.040145,20:.040145,21:.48174,22:.248899,23:.216783,24:.200725,25:.361305,26:.353276,27:.369334,28:.610204,29:5.08236,30:24.6089,31:.16058,32:.064232,4:.024087,5:.024087,6:.032116,7:.024087,8:.032116,9:.024087},versions:["4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32"],current_version:""},safari:{browser:"Safari",abbr:"Saf.",prefix:"webkit",type:"desktop",usage_global:{3.1:0,3.2:.008692,4:.104377,5:.305102,5.1:1.28464,6:2.04739,6.1:.064232,7:.16058},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"3.1","3.2","4","5","5.1","6","6.1","7",null,null],current_version:""},opera:{browser:"Opera",abbr:"Op.",prefix:"o",type:"desktop",usage_global:{"10.0-10.1":.016058,10.5:.008392,10.6:.008029,11:.008219,11.1:.008219,11.5:.016058,11.6:.032116,12:.040145,12.1:.48174,15:.032116,16:.104377,17:.16058,18:0,"9.5-9.6":.008219},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"9.5-9.6","10.0-10.1","10.5","10.6","11","11.1","11.5","11.6","12","12.1","15","16","17","18",null],current_version:"",prefix_exceptions:{15:"webkit",16:"webkit",17:"webkit",18:"webkit"}},ios_saf:{browser:"iOS Safari",abbr:"iOS",prefix:"webkit",type:"mobile",usage_global:{3.2:.00400113,"4.0-4.1":.00800226,"4.2-4.3":.0280079,"5.0-5.1":.28408,"6.0-6.1":1.15633,"7.0":2.52071},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"3.2","4.0-4.1","4.2-4.3","5.0-5.1","6.0-6.1","7.0",null,null],current_version:""},op_mini:{browser:"Opera Mini",abbr:"O.Mini",prefix:"o",type:"mobile",usage_global:{"5.0-7.0":4.58374},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"5.0-7.0",null,null],current_version:""},android:{browser:"Android Browser",abbr:"And.",prefix:"webkit",type:"mobile",usage_global:{2.1:.0251229,2.2:.0854178,2.3:1.32146,3:.00502458,4:.994867,4.1:1.87417,"4.2-4.3":.743638,4.4:0},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"2.1","2.2","2.3","3","4","4.1","4.2-4.3","4.4",null],current_version:""},op_mob:{browser:"Opera Mobile",abbr:"O.Mob",prefix:"o",type:"mobile",usage_global:{0:0,10:0,11.5:.00726525,12:.0363263,12.1:.101714},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"10",null,null,"11.5","12","12.1","0",null,null],current_version:"16",prefix_exceptions:{0:"webkit"}},bb:{browser:"Blackberry Browser",abbr:"BB",prefix:"webkit",type:"mobile",usage_global:{10:0,7:.141419},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"7","10",null,null],current_version:""},and_chr:{browser:"Chrome for Android",abbr:"Chr/And.",prefix:"webkit",type:"mobile",usage_global:{0:1.38176},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"0",null,null],current_version:"30"},and_ff:{browser:"Firefox for Android",abbr:"FF/And.",prefix:"moz",type:"mobile",usage_global:{0:.070956},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"0",null,null],current_version:"25"},ie_mob:{browser:"IE Mobile",abbr:"IE.Mob",prefix:"ms",type:"mobile",usage_global:{10:.205595},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"10",null,null],current_version:""}},statuses:{rec:"Recommendation",pr:"Proposed Recommendation",cr:"Candidate Recommendation",wd:"Working Draft",other:"Other",unoff:"Unofficial / Note"},cats:{CSS:["CSS","CSS2","CSS3"],HTML5:["Canvas","HTML5"],"JS API":["JS API"],Other:["PNG","Other","DOM"],SVG:["SVG"]},updated:1383587152,data:{"png-alpha":{title:"PNG alpha transparency",description:"Semi-transparent areas in PNG files",spec:"http://www.w3.org/TR/PNG/",status:"rec",links:[{url:"http://dillerdesign.com/experiment/DD_belatedPNG/",title:"Workaround for IE6"},{url:"http://en.wikipedia.org/wiki/Portable_Network_Graphics",title:"Wikipedia"}],categories:["PNG"],stats:{ie:{5.5:"n",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"IE6 does support full transparency in 8-bit PNGs, which can sometimes be an alternative to 24-bit PNGs.",usage_perc_y:94.36,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},apng:{title:"Animated PNG (APNG)",description:"Like animated GIFs, but allowing 24-bit colors and alpha transparency",spec:"https://wiki.mozilla.org/APNG_Specification",status:"unoff",links:[{url:"http://en.wikipedia.org/wiki/APNG",title:"Wikipedia"},{url:"https://github.com/davidmz/apng-canvas",title:"Polyfill using canvas"},{url:"https://chrome.google.com/webstore/detail/ehkepjiconegkhpodgoaeamnpckdbblp",title:"Chrome extension providing support"},{url:"http://www.truekolor.net/learn-how-to-create-an-animated-png/",title:"APNG tutorial"}],categories:["PNG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Where support for APNG is missing, only the first frame is displayed",usage_perc_y:16.19,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},video:{title:"Video element",description:"Method of playing videos on webpages (without requiring a plug-in)",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#video",status:"wd",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/video.js#video",title:"has.js test"},{url:"http://webmproject.org",title:"WebM format information"},{url:"http://docs.webplatform.org/wiki/html/elements/video",title:"WebPlatform Docs"},{url:"http://camendesign.co.uk/code/video_for_everybody",title:"Video for Everybody"},{url:"http://diveinto.org/html5/video.html",title:"Video on the Web - includes info on Android support"},{url:"http://dev.opera.com/articles/view/everything-you-need-to-know-about-html5-video-and-audio/",title:"Detailed article on video/audio elements"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Different browsers have support for different video formats, see sub-features for details. \r\n\r\nThe Android browser (before 2.3) requires <a href="http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/">specific handling</a> to run the video element.',usage_perc_y:80.71,usage_perc_a:.11,ucprefix:!1,parent:"",keywords:"<video>"},audio:{title:"Audio element",description:"Method of playing sound on webpages (without requiring a plug-in)",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#audio",status:"wd",links:[{url:"http://html5doctor.com/native-audio-in-the-browser/",title:"HTML5 Doctor article"},{url:"http://textopia.org/androidsoundformats.html",title:"File format test page"},{url:"http://www.jplayer.org/latest/demos/",title:"Demos of audio player that uses &lt;audio>"},{url:"http://www.phoboslab.org/log/2011/03/the-state-of-html5-audio",title:"The State of HTML5 Audio"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/audio.js#audio",title:"has.js test"},{url:"http://dev.opera.com/articles/view/everything-you-need-to-know-about-html5-video-and-audio/",title:"Detailed article on video/audio elements"},{url:"http://docs.webplatform.org/wiki/html/elements/audio",title:"WebPlatform Docs"},{url:"http://24ways.org/2010/the-state-of-html5-audio",title:"Detailed article on support"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.7,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:""},contenteditable:{title:"contenteditable attribute (basic support)",description:"Method of making any HTML element editable",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#contenteditable",status:"wd",links:[{url:"http://accessgarage.wordpress.com/2009/05/08/how-to-hack-your-app-to-make-contenteditable-work/",title:"Blog post on usage problems"},{url:"http://html5demos.com/contenteditable",title:"Demo page"},{url:"http://blog.whatwg.org/the-road-to-html-5-contenteditable",title:"WHATWG blog post"},{url:"http://docs.webplatform.org/wiki/html/attributes/contentEditable",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"This support only refers to very basic editing capability, implementations vary significantly on how certain elements can be edited.",usage_perc_y:88.37,usage_perc_a:.09,ucprefix:!1,parent:"",keywords:""},dragndrop:{title:"Drag and Drop",description:"Method of easily dragging and dropping elements on a page, requiring minimal JavaScript.",spec:"http://www.w3.org/TR/html5/editing.html#dnd",status:"wd",links:[{url:"http://html5demos.com/drag",title:"Demo with link blocks"},{url:"http://html5doctor.com/native-drag-and-drop/",title:"HTML5 Doctor article"},{url:"http://docs.webplatform.org/wiki/dom/events/drag",title:"WebPlatform Docs"},{url:"http://nettutsplus.s3.amazonaws.com/64_html5dragdrop/demo/index.html",title:"Shopping cart demo"}],categories:["HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"y",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"Partial support in older IE refers to no support for the dataTransfer.files or .types objects and limited supported formats for dataTransfer.setData/getData.",usage_perc_y:64.83,usage_perc_a:14.25,ucprefix:!1,parent:"",keywords:"draganddrop"},queryselector:{title:"querySelector/querySelectorAll",description:"Method of accessing DOM elements using CSS selectors",spec:"http://www.w3.org/TR/selectors-api/",status:"rec",links:[{url:"http://docs.webplatform.org/wiki/css/selectors_api/querySelector",title:"WebPlatform Docs"},{url:"http://cjihrig.com/blog/javascripts-selectors-api/",title:"Blog post"},{url:"https://developer.mozilla.org/En/DOM/Element.querySelectorAll",title:"MDN article on querySelectorAll"},{url:"https://developer.mozilla.org/en/DOM/element.querySelector",title:"MDN article on querySelector"}],categories:["DOM"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Only works for the CSS selectors available. Thus the IE8 implementation is limited to the CSS 2.1 selectors",usage_perc_y:93.74,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"query,selectors,selectors api"},getelementsbyclassname:{title:"getElementsByClassName",description:"Method of accessing DOM elements by class name",spec:"http://www.w3.org/TR/dom/#dom-document-getelementsbyclassname",status:"wd",links:[{url:"http://www.quirksmode.org/dom/tests/basics.html#getElementsByClassName",title:"Test page"},{url:"http://docs.webplatform.org/wiki/dom/methods/getElementsByClassName",title:"WebPlatform Docs"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.52,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"byclassname"},forms:{title:"HTML5 form features",description:'Expanded form options, including things like date pickers, sliders, validation, placeholders and multiple file uploads. Previously known as "Web forms 2.0".',spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html",status:"wd",links:[{url:"https://github.com/westonruter/webforms2",title:"Cross-browser JS implementation (based on original spec)"},{url:"http://www.miketaylr.com/code/input-type-attr.html",title:"HTML5 inputs and attribute support page"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"a",11:"a"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"p",3.2:"p",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a"},and_chr:{0:"a"},and_ff:{0:"a"},ie_mob:{10:"a"}},notes:"",usage_perc_y:4.75,usage_perc_a:65.35,ucprefix:!1,parent:"",keywords:"input,datepicker"},html5semantic:{title:"New semantic elements",description:"HTML5 offers some new elements, primarily for semantic purposes. The elements include: section, article, aside, header, footer, nav, figure, figcaption, time, mark.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#sections",status:"wd",links:[{url:"http://oli.jp/2009/html5-structure3/",title:"Article on structural elements"},{url:"http://blog.whatwg.org/supporting-new-elements-in-ie",title:"Workaround for IE"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/dom.js#dom-html5-elements",title:"has.js test"},{url:"http://blog.whatwg.org/styling-ie-noscript",title:"Alternate workaround"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"a",3.5:"a",3.6:"a",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to missing the default styling. This is easily taken care of by using display:block for all new elements (except time and mark, these should be display:inline anyway).",usage_perc_y:80.26,usage_perc_a:5.26,ucprefix:!1,parent:"",keywords:""},"offline-apps":{title:"Offline web applications",description:"Method of defining web page files to be cached using a cache manifest file, allowing them to work offline on subsequent visits to the page",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html",status:"wd",links:[{url:"http://www.sitepoint.com/offline-web-application-tutorial/",title:"Sitepoint tutorial"},{url:"http://diveinto.org/html5/offline.html",title:"Dive Into HTML5 article"},{url:"http://docs.webplatform.org/wiki/apis/appcache/ApplicationCache",title:"WebPlatform Docs"},{url:"http://hacks.mozilla.org/2010/01/offline-web-applications/",title:"Mozilla Hacks article/demo"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"y",11:"y"},firefox:{2:"p",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:75.59,usage_perc_a:.09,ucprefix:!1,parent:"",keywords:"appcache,app cache,application cache,online"},webworkers:{title:"Web Workers",description:"Method of running scripts in the background, isolated from the web page",spec:"http://www.w3.org/TR/workers/",status:"cr",links:[{url:"http://code.google.com/p/ie-web-worker/",title:"Polyfill for IE (single threaded)"},{url:"http://net.tutsplus.com/tutorials/javascript-ajax/getting-started-with-web-workers/",title:"Tutorial"},{url:"https://developer.mozilla.org/En/Using_web_workers",title:"MDN article"},{url:"http://nerget.com/rayjs-mt/rayjs.html",title:"Web Worker demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:70.53,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},fontface:{title:"@font-face Web fonts",description:"Method of displaying fonts downloaded from websites",spec:"http://www.w3.org/TR/css3-webfonts/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/atrules/@font-face",title:"WebPlatform Docs"},{url:"http://www.css3files.com/font/",title:"Information page"},{url:"http://webfonts.info",title:"News and information site"},{url:"http://en.wikipedia.org/wiki/Web_typography",title:"Wikipedia"}],categories:["CSS3"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"a",2.3:"a",3:"a",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support before IE8 refers to only supporting EOT fonts. Safari for iOS 4.1 and below only supports SVG fonts.",usage_perc_y:79.25,usage_perc_a:10.6,ucprefix:!1,parent:"",keywords:"font face"},eot:{title:"EOT - Embedded OpenType fonts",description:"Type of font that can be derived from a regular font, allowing small files and legal use of high-quality fonts. Usage is restricted by the file being tied to the website",spec:"http://www.w3.org/Submission/EOT/",status:"unoff",links:[{url:"http://www.microsoft.com/typography/web/embedding/default.aspx",title:"Example pages"},{url:"http://en.wikipedia.org/wiki/Embedded_OpenType",title:"Wikipedia"}],categories:["Other"],stats:{ie:{5.5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Proposal by Microsoft, being considered for W3C standardization.",usage_perc_y:25.14,usage_perc_a:0,ucprefix:!1,parent:"fontface",keywords:""},woff:{title:"WOFF - Web Open Font Format",description:"Compressed TrueType/OpenType font that contains information about the font's source.",spec:"http://www.w3.org/TR/WOFF/",status:"rec",links:[{url:"http://hacks.mozilla.org/2009/10/woff/",title:"Mozilla hacks blog post"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Reported to be supported in some modified versions of the Android 4.0 browser.",usage_perc_y:75.23,usage_perc_a:0,ucprefix:!1,parent:"fontface",keywords:""},multibackgrounds:{title:"CSS3 Multiple backgrounds",description:"Method of using multiple images as a background",spec:"http://www.w3.org/TR/css3-background/",status:"cr",links:[{url:"http://www.css3.info/preview/multiple-backgrounds/",title:"Demo & information page"},{url:"http://www.css3files.com/background/",title:"Information page"},{url:"http://docs.webplatform.org/wiki/css/properties/background-image",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.37,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"border-image":{title:"CSS3 Border images",description:"Method of using images for borders",spec:"http://www.w3.org/TR/css3-background/#the-border-image",status:"cr",links:[{url:"http://www.css3files.com/border/",title:"Information page"},{url:"http://docs.webplatform.org/wiki/css/properties/border-image",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"y"},firefox:{2:"n",3:"n",3.5:"a x",3.6:"a x",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"a x",5.1:"a x",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"a",10.6:"a",11:"a x",11.1:"a x",11.5:"a x",11.6:"a x",12:"a x",12.1:"a x",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"y"},bb:{7:"a x",10:"y"},op_mob:{10:"n",11:"a x",11.1:"a x",11.5:"a x",12:"a x",12.1:"a x",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"In Firefox both the border-style and border-width must be specified for border-images to work. Partial support refers to supporting the shorthand syntax, but not the individual properties (border-image-source, border-image-slice, etc).",usage_perc_y:54.86,usage_perc_a:9.76,ucprefix:!1,parent:"",keywords:""},"background-img-opts":{title:"CSS3 Background-image options",description:"New properties to affect background images, including background-clip, background-origin and background-size",spec:"http://www.w3.org/TR/css3-background/#backgrounds",status:"cr",links:[{url:"https://github.com/louisremi/background-size-polyfill",title:"Polyfill for IE7-8"},{url:"http://www.standardista.com/css3/css3-background-properties",title:"Detailed compatibility tables and demos"},{url:"http://www.css3files.com/background/",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"a x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"a x",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a x",2.2:"y x",2.3:"y x",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in Opera Mini refers to not supporting background sizing or background attachments. Partial support in Safari 6 refers to not supporting background sizing offset from edges syntax.",usage_perc_y:78.07,usage_perc_a:7.32,ucprefix:!1,parent:"",keywords:""},"css-table":{title:"CSS Table display",description:"Method of displaying elements as tables, rows, and cells",spec:"http://www.w3.org/TR/CSS21/tables.html",status:"rec",links:[{url:"http://blog.12spokes.com/web-design-development/when-to-choose-between-the-html-table-element-and-css-displaytable-property/",title:"Deciding on HTML or CSS tables"},{url:"http://www.onenaught.com/posts/201/use-css-displaytable-for-layout",title:"Blog post on usage"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:93.86,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"display:table, display: table,table-cell,table-row,table-layout"},"css-gencontent":{title:"CSS Generated content",description:"Method of displaying text or images before or after the given element's contents using the :before and :after pseudo-elements",spec:"http://www.w3.org/TR/CSS21/generate.html",status:"rec",links:[{url:"http://www.westciv.com/style_master/academy/css_tutorial/advanced/generated_content.html",title:"Guide on usage"},{url:"http://docs.webplatform.org/wiki/css/generated_and_replaced_content",title:"WebPlatform Docs"},{url:"http://dev.opera.com/articles/view/css-generated-content-techniques/",title:"Dev.Opera article"}],categories:["CSS2","CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"IE8 only supports the single-colon CSS 2.1 syntax (i.e. pseudo-class). It does not support the double-colon CSS3 syntax (i.e. pseudo-element)",usage_perc_y:85.55,usage_perc_a:8.31,ucprefix:!1,parent:"",keywords:"before,after"},"css-fixed":{title:"CSS position:fixed",description:"Method of keeping an element in a fixed location regardless of scroll position",spec:"http://www.w3.org/TR/CSS21/visuren.html#fixed-positioning",status:"rec",links:[{url:"http://www.css-101.org/fixed-positioning/05.php",title:"Workaround for IE6"},{url:"http://bradfrostweb.com/blog/mobile/fixed-position/",title:"Article on mobile support"},{url:"http://docs.webplatform.org/wiki/css/properties/position",title:"WebPlatform Docs"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Only works in Android 2.2+ by using the following meta tag: &lt;meta name="viewport" content="width=device-width, user-scalable=no">. Partial support in iOS Safari refers to <a href="http://remysharp.com/2012/05/24/issues-with-position-fixed-scrolling-on-ios/">buggy behavior</a>.',usage_perc_y:84.35,usage_perc_a:5.39,ucprefix:!1,parent:"",keywords:""},hashchange:{title:"Hashchange event",description:"Event triggered in JavaScript when the URL's hash has changed (for example: page.html#foo to page.html#bar) ",spec:"http://www.w3.org/TR/html5/history.html#event-hashchange",status:"cr",links:[{url:"http://www.quirksmode.org/dom/events/tests/hashchange.html",title:"Simple demo"},{url:"http://docs.webplatform.org/wiki/dom/events/hashchange",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/DOM/window.onhashchange",title:"MDN article"},{url:"http://github.com/3nr1c/jUri.js",title:"Polyfill"},{url:"http://msdn.microsoft.com/en-us/library/cc288209(VS.85).aspx",title:"MSDN article"}],categories:["HTML5","JS API"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:88.92,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"onhashchange,HashChangeEvent"},"css-sel2":{title:"CSS 2.1 selectors",description:"Allows more accurate element selecting, using >, +, [attr], :first-child, etc.",spec:"http://www.w3.org/TR/CSS21/selector.html",status:"rec",links:[{url:"http://www.quirksmode.org/css/contents.html",title:"Detailed support information"},{url:"http://docs.webplatform.org/wiki/css/selectors",title:"WebPlatform Docs"},{url:"http://selectivizr.com",title:"Selectivizr: Polyfill for IE6-8"},{url:"http://www.yourhtmlsource.com/stylesheets/advancedselectors.html",title:"Examples of advanced selectors"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:94.36,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"child selector,:hover,adjacent,sibling,adjacent sibling"},"css-sel3":{title:"CSS3 selectors",description:"Advanced element selection using selectors like :nth-child(), :last-child, :first-of-type, etc.",spec:"http://www.w3.org/TR/css3-selectors/",status:"rec",links:[{url:"http://www.css3.info/selectors-test/",title:"Automated CSS3 selector test"},{url:"http://docs.webplatform.org/wiki/css/selectors",title:"WebPlatform Docs"},{url:"http://www.quirksmode.org/css/contents.html",title:"Detailed support information"},{url:"http://selectivizr.com",title:"Selectivizr: Polyfill for IE6-8"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.43,usage_perc_a:0,ucprefix:!1,parent:"",keywords:":target,:not"},"css-textshadow":{title:"CSS3 Text-shadow",description:"Method of applying one or more shadow or blur effects to text",spec:"http://www.w3.org/TR/css-text-decor-3/#text-shadow-property",status:"wd",links:[{url:"http://ie.microsoft.com/testdrive/Graphics/hands-on-css3/hands-on_text-shadow.htm",title:"Live editor"},{url:"http://docs.webplatform.org/wiki/css/properties/text-shadow",title:"WebPlatform Docs"},{url:"http://hacks.mozilla.org/2009/06/text-shadow/",title:"Mozilla hacks article"},{url:"http://www.css3files.com/shadow/#textshadow",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Opera Mini ignores the blur-radius set, so no blur effect is visible. Text-shadow behavior can be somewhat emulated in older IE versions using the non-standard "dropshadow" or "glow" filters. ',usage_perc_y:75.49,usage_perc_a:4.73,ucprefix:!1,parent:"",keywords:""},"css-boxshadow":{title:"CSS3 Box-shadow",description:"Method of displaying an inner or outer shadow effect to elements",spec:"http://www.w3.org/TR/css3-background/#box-shadow",status:"cr",links:[{url:"http://www.css3files.com/shadow/",title:"Information page"},{url:"https://developer.mozilla.org/En/CSS/-moz-box-shadow",title:"MDN article"},{url:"http://westciv.com/tools/boxshadows/index.html",title:"Live editor"},{url:"http://tests.themasta.com/blogstuff/boxshadowdemo.html",title:"Demo of various effects"},{url:"http://docs.webplatform.org/wiki/css/properties/box-shadow",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y x",3.6:"y x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"y x",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y x",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Can be partially emulated in older IE versions using the non-standard "shadow" filter. Partial support in Safari, iOS Safari and Android Browser refers to missing "inset" and blur radius value support.',usage_perc_y:79.27,usage_perc_a:1.55,ucprefix:!1,parent:"",keywords:"box-shadows,boxshadows,box shadow,shaow"},"css3-colors":{title:"CSS3 Colors",description:"Method of describing colors using Hue, Saturation and Lightness (hsl()) rather than just RGB, as well as allowing alpha-transparency with rgba() and hsla().",spec:"http://www.w3.org/TR/css3-color/",status:"rec",links:[{url:"http://www.zenelements.com/blog/css3-rgb-rgba-color-opacity/",title:"Guide to RGB & RGBA"},{url:"http://www.css3files.com/color/",title:"Information page"},{url:"http://www.zenelements.com/blog/css3-hsl-hsla-color-opacity/",title:"Guide to HSL & HSLA"},{url:"http://docs.webplatform.org/wiki/css/color#RGBA_Notation",title:"WebPlatform Docs"},{url:"http://dev.opera.com/articles/view/color-in-opera-10-hsl-rgb-and-alpha-transparency/",title:"Dev.Opera article"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.51,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:"rgb,hsl,rgba,hsla"},"css3-boxsizing":{title:"CSS3 Box-sizing",description:"Method of specifying whether or not an element's borders and padding should be included in size units",spec:"http://www.w3.org/TR/css3-ui/#box-sizing",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/box-sizing",title:"WebPlatform Docs"},{url:"http://css-tricks.com/box-sizing/",title:"CSS Tricks"},{url:"https://github.com/Schepp/box-sizing-polyfill",title:"Polyfill for IE"},{url:"https://developer.mozilla.org/En/CSS/Box-sizing",title:"MDN article"},{url:"http://www.456bereastreet.com/archive/201104/controlling_width_with_css3_box-sizing/",title:"Blog post"}],categories:["CSS3"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"y x",3:"y x",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"a x",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"a x",10:"a"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"a"},and_chr:{0:"a"},and_ff:{0:"y x"},ie_mob:{10:"a"}},notes:'Partial support refers to supporting only the "border-box" value, not "padding-box" (which was added to the spec later).',usage_perc_y:15.43,usage_perc_a:78.42,ucprefix:!1,parent:"",keywords:"border-box,content-box,padding-box"},"css-mediaqueries":{title:"CSS3 Media Queries",description:"Method of applying styles based on media information. Includes things like page and device dimensions",spec:"http://www.w3.org/TR/css3-mediaqueries/",status:"rec",links:[{url:"http://docs.webplatform.org/wiki/css/atrules/@media",title:"WebPlatform Docs"},{url:"http://ie.microsoft.com/testdrive/HTML5/85CSS3_MediaQueries/",title:"IE demo page with information"},{url:"https://github.com/scottjehl/Respond",title:"Polyfill for IE"},{url:"http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries",title:"Media Queries tutorial"}],categories:["CSS3"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Incomplete support by older webkit browsers refers to only acknowledging different media rules on page reload",usage_perc_y:85.42,usage_perc_a:.01,ucprefix:!1,parent:"",keywords:"@media"},multicolumn:{title:"CSS3 Multiple column layout",description:"Method of flowing information in multiple columns",spec:"http://www.w3.org/TR/css3-multicol/",status:"cr",links:[{url:"http://dev.opera.com/articles/view/css3-multi-column-layout/",title:"Dev.Opera article"},{url:"http://docs.webplatform.org/wiki/css/properties/column-width",title:"WebPlatform Docs"},{url:"http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/an-introduction-to-the-css3-multiple-column-layout-module/",title:"Introduction page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"a x",3:"a x",3.5:"a x",3.6:"a x",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x",28:"a x",29:"a x",30:"a x",31:"a x",32:"a x"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"a x",5.1:"a x",6:"a x",6.1:"a x",7:"a x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"a x",16:"a x",17:"a x",18:"a x"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"a x","7.0":"a x"},op_mini:{"5.0-7.0":"y"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"a x",10:"a x"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"a x"},ie_mob:{10:"y"}},notes:"Partial support refers to not supporting the break-before, break-after, break-inside properties. Webkit browsers do have equivalent support for the non-standard -webkit-column-break-* properties.",usage_perc_y:16.41,usage_perc_a:63.85,ucprefix:!1,parent:"",keywords:"column-count"},"border-radius":{title:"CSS3 Border-radius (rounded corners)",description:"Method of making the border corners round",spec:"http://www.w3.org/TR/css3-background/#the-border-radius",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/css/properties/border-radius",title:"WebPlatform Docs"},{url:"http://muddledramblings.com/table-of-css3-border-radius-compliance",title:"Detailed compliance table"},{url:"http://www.css3files.com/border/#borderradius",title:"Information page"},{url:"http://css3pie.com/",title:"Polyfill which includes border-radius"},{url:"http://border-radius.com",title:"Border-radius CSS Generator"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"a x",3:"y x",3.5:"y x",3.6:"y x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y x","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.91,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:"roundedcorners, border radius,-moz-border-radius"},transforms2d:{title:"CSS3 Transforms",description:"Method of transforming an element including rotating, scaling, etc.",spec:"http://www.w3.org/TR/css3-2d-transforms/",status:"wd",links:[{url:"http://www.westciv.com/tools/transforms/",title:"Live editor"},{url:"http://www.useragentman.com/IETransformsTranslator/",title:"Converter for IE"},{url:"http://docs.webplatform.org/wiki/css/transforms/transform",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-transform",title:"has.js test"},{url:"https://developer.mozilla.org/en/CSS/-moz-transform",title:"MDN article"},{url:"http://www.webresourcesdepot.com/cross-browser-css-transforms-csssandpaper/",title:"Workaround script for IE"},{url:"http://www.css3files.com/transform/",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y x",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y x",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'The scale transform can be emulated in IE < 9 using Microsoft\'s "zoom" extension, others are (not easily) possible using the MS Matrix filter',usage_perc_y:80.82,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"transformation,translate,rotation,rotate,scale,css-transforms"},"use-strict":{title:"ECMAScript 5 Strict Mode",description:'Method of placing code in a "strict" operating context.',spec:"http://ecma-international.org/ecma-262/5.1/#sec-14.1",status:"other",links:[{url:"http://javascriptweblog.wordpress.com/2011/05/03/javascript-strict-mode/",title:"Article with test suite"},{url:"http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/",title:"Information page"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Safari refers to strict mode still accepting a lot of JS that should be considered invalid.",usage_perc_y:71.65,usage_perc_a:1.59,ucprefix:!1,parent:"",keywords:""},transforms3d:{title:"CSS3 3D Transforms",description:"Method of transforming an element in the third dimension",spec:"http://www.w3.org/TR/css3-3d-transforms/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/transforms/transform",title:"WebPlatform Docs"},{url:"http://css3.bradshawenterprises.com/flip/",title:"Multi-browser demo"},{url:"http://thewebrocks.com/demos/3D-css-tester/",title:"3D CSS Tester"},{url:"http://hacks.mozilla.org/2011/10/css-3d-transformations-in-firefox-nightly/",title:"Mozilla hacks article"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-transform",title:"has.js test"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in IE10 refers to not supporting <a href="http://msdn.microsoft.com/en-us/library/ie/hh673529%28v=vs.85%29.aspx#the_ms_transform_style_property">the transform-style: preserve-3d property</a>. This prevents nesting 3D transformed elements.',usage_perc_y:61.31,usage_perc_a:11.11,ucprefix:!1,parent:"",keywords:"css 3d,3dtransforms,translate3d,transform3d"},sharedworkers:{title:"Shared Web Workers",description:"Method of allowing multiple scripts to communicate with a single web worker.",spec:"http://www.w3.org/TR/workers/#shared-workers-introduction",status:"cr",links:[{url:"http://www.sitepoint.com/javascript-shared-web-workers-html5/",title:"Sitepoint article"},{url:"http://greenido.wordpress.com/2011/11/03/web-workers-part-3-out-of-3-shared-wrokers/",title:"Blog post"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"y",10:"y"},op_mob:{10:"u",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Expected to be supported in Firefox 27.",usage_perc_y:40.07,usage_perc_a:0,ucprefix:!1,parent:"webworkers",keywords:"shared worker"},"css-hyphens":{title:"CSS Hyphenation",description:'Method of controlling when words at the end of lines should be hyphenated using the "hyphens" property.',spec:"http://www.w3.org/TR/css3-text/#hyphenation",status:"wd",links:[{url:"https://developer.mozilla.org/en/CSS/hyphens",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/css/properties/hyphens",title:"WebPlatform Docs"},{url:"http://blog.fontdeck.com/post/9037028497/hyphens",title:"Blog post"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:'Chrome 29- and Android 4.0 Browser support "-webkit-hyphens: none", but not the "auto" property. Chrome 30+ doesn\'t support it either.',usage_perc_y:33.31,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"hyphen,shy"},"css-transitions":{title:"CSS3 Transitions",description:"Simple method of animating certain properties of an element",spec:"http://www.w3.org/TR/css3-transitions/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/transition",title:"WebPlatform Docs"},{url:"http://www.webdesignerdepot.com/2010/01/css-transitions-101/",title:"Article on usage"},{url:"http://www.opera.com/docs/specs/presto2.12/css/transitions/#anima",title:"Animation of property types support in Opera"},{url:"http://www.css3files.com/transition/",title:"Information page"},{url:"http://www.the-art-of-web.com/css/timing-function/",title:"Examples on timing functions"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y x",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"y x",10:"y x"},op_mob:{10:"y x",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:75.27,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"css transition"},"font-feature":{title:"Font feature settings",description:"Method of applying advanced typographic and language-specific font features to supported OpenType fonts.",spec:"http://w3.org/TR/css3-fonts/#font-rend-props",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/font-feature-settings",title:"WebPlatform Docs"},{url:"http://hacks.mozilla.org/2010/11/firefox-4-font-feature-support/",title:"Mozilla hacks article"},{url:"http://html5accessibility.com/",title:"Detailed tables on accessability support"},{url:"http://ie.microsoft.com/testdrive/Graphics/opentype/",title:"Demo pages (IE/Firefox only)"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"a",5:"a",5.1:"a",6:"a",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"Partial support in older Firefox versions refers to using an older syntax. Partial support in older Chrome versions refers to lacking support in Mac OS X. ",usage_perc_y:62.13,usage_perc_a:6.41,ucprefix:!1,parent:"",keywords:"font-feature,font-feature-settings,kern,kerning,font-variant-alternates,ligatures,font-variant-ligatures"},"css-animation":{title:"CSS3 Animation",description:"Complex method of animating certain properties of an element",spec:"http://www.w3.org/TR/css3-animations/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/animations",title:"WebPlatform Docs"},{url:"http://www.css3files.com/animation/",title:"Information page"},{url:"http://robertnyman.com/2010/05/06/css3-animations/",title:"Blog post on usage"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y x",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in Android browser refers to buggy behavior in different scenarios.",usage_perc_y:73.62,usage_perc_a:1.44,ucprefix:!1,parent:"",keywords:"animations,css-animations,keyframe,keyframes"},"css-gradients":{title:"CSS Gradients",description:"Method of defining a linear or radial color gradient as a CSS image.",spec:"http://www.w3.org/TR/css3-images/",status:"cr",links:[{url:"http://www.colorzilla.com/gradient-editor/",title:"Cross-browser editor"},{url:"http://docs.webplatform.org/wiki/css/functions/linear-gradient",title:"WebPlatform Docs"},{url:"http://www.css3files.com/gradient/",title:"Information page"},{url:"http://css3pie.com/",title:"Tool to emulate support in IE"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"a x",5:"a x",5.1:"y x",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"a x",11.5:"a x",11.6:"y x",12:"y x",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"a x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"a x",11.5:"a x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Partial support in Opera 11.10 and 11.50 also refers to only having support for linear gradients. Support can be somewhat emulated in older IE versions using the non-standard "gradient" filter. Firefox 10+, Opera 11.6+, Chrome 26+ and IE10 also support the new "to (side)" syntax.',usage_perc_y:73.31,usage_perc_a:2.22,ucprefix:!1,parent:"",keywords:"linear,linear-gradient,gradiant"},"css-canvas":{title:"CSS Canvas Drawings",description:"Method of using HTML5 Canvas as a background image",spec:"http://webkit.org/blog/176/css-canvas-drawing/",status:"unoff",links:[{url:"http://webkit.org/blog/176/css-canvas-drawing/",title:"Webkit blog post"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Proposal by Webkit, being considered for W3C standardization. A similar effect can be achieved in Firefox 4+ using the -moz-element() background property",usage_perc_y:48.41,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"css-reflections":{title:"CSS Reflections",description:"Method of displaying a reflection of an element",spec:"http://webkit.org/blog/182/css-reflections/",status:"unoff",links:[{url:"http://webkit.org/blog/182/css-reflections/",title:"Webkit blog post"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Similar effect can be achieved in Firefox 4+ using the -moz-element() background property",usage_perc_y:48.41,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"box-reflect"},"css-masks":{title:"CSS Masks",description:"Method of displaying part of an element, using a selected image as a mask",spec:"http://www.w3.org/TR/css-masking/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/mask",title:"WebPlatform Docs"},{url:"http://www.html5rocks.com/en/tutorials/masking/adobe/",title:"HTML5 Rocks article"},{url:"http://thenittygritty.co/css-masking",title:"Detailed blog post"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x",28:"a x",29:"a x",30:"a x",31:"a x",32:"a x"},safari:{3.1:"n",3.2:"n",4:"a x",5:"a x",5.1:"a x",6:"a x",6.1:"a x",7:"a x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"a x",16:"a x",17:"a x",18:"a x"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"a x","7.0":"a x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"a x",10:"a x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Previously a WebKit-only property, now a W3C specification. Partial support refers to not yet fully supporting the new spec (details currently unknown).",usage_perc_y:0,usage_perc_a:48.41,ucprefix:!1,parent:"",keywords:""},svg:{title:"SVG (basic support)",description:"Method of displaying basic Vector Graphics features using the embed or object elements",spec:"http://www.w3.org/Graphics/SVG/",status:"rec",links:[{url:"http://en.wikipedia.org/wiki/Scalable_Vector_Graphics",title:"Wikipedia"},{url:"http://code.google.com/p/svgweb/",title:"SVG Web: Flash-based polyfill"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#svg",title:"has.js test"},{url:"http://svg-edit.googlecode.com",title:"Web-based SVG editor"},{url:"http://www.alistapart.com/articles/using-svg-for-flexible-scalable-and-fun-backgrounds-part-i",title:"A List Apart article"},{url:"http://svg-wow.org/",title:"SVG showcase site"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:84.1,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:""},"svg-css":{title:"SVG in CSS backgrounds",description:"Method of using SVG images as CSS backgrounds",spec:"http://www.w3.org/TR/css3-background/#background-image",status:"cr",links:[{url:"http://designfestival.com/a-farewell-to-css3-gradients/",title:"Tutorial for advanced effects"}],categories:["SVG","CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Firefox and Opera Mini/Mobile refers to SVG images being blurry when scaled. Partial support in iOS Safari and older Safari versions refers to failing to support tiling or the background-position property.",usage_perc_y:75.45,usage_perc_a:8.2,ucprefix:!1,parent:"",keywords:"svg-in-css,svgincss,css-svg"},"svg-smil":{title:"SVG SMIL animation",description:"Method of using animation elements to animate SVG images",spec:"http://www.w3.org/TR/SVG/animate.html",status:"rec",links:[{url:"https://github.com/madsgraphics/SVGEventListener",title:"Polyfill for SMIL animate events on SVG"},{url:"https://developer.mozilla.org/en/SVG/SVG_animation_with_SMIL",title:"MDN article"},{url:"http://svg-wow.org/blog/category/animation/",title:"Examples on SVG WOW"},{url:"http://leunen.me/fakesmile/",title:"JS library to support SMIL in SVG"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#svg-smil",title:"has.js test"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"Partial support in Safari refers to not working in HTML files.",usage_perc_y:54.76,usage_perc_a:7.99,ucprefix:!1,parent:"",keywords:""},"svg-fonts":{title:"SVG fonts",description:"Method of using fonts defined as SVG shapes",spec:"http://www.w3.org/TR/SVG/fonts.html",status:"rec",links:[{url:"http://opentype.info/blog/2010/04/13/the-ipad-and-svg-fonts-in-mobile-safari/",title:"Blog post on usage for iPad"},{url:"http://jeremie.patonnier.net/post/2011/02/07/Why-are-SVG-Fonts-so-different",title:"Blog post"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Supported in Opera Mini in SVG images only, not in HTML.",usage_perc_y:47.78,usage_perc_a:0,ucprefix:!1,parent:"fontface",keywords:""},"svg-filters":{title:"SVG filters",description:"Method of using photoshop-like effects on SVG objects including blurring and color manipulation.",spec:"http://www.w3.org/TR/SVG/filters.html",status:"rec",links:[{url:"http://electricbeach.org/?p=950",title:"Experiments with filter effects"},{url:"http://svg-wow.org/blog/category/filters/",title:"SVG filter demos"},{url:"http://docs.webplatform.org/wiki/svg/elements/filter",title:"WebPlatform Docs"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"a",6:"a",7:"a",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:72.99,usage_perc_a:.08,ucprefix:!1,parent:"",keywords:""},"svg-html":{title:"SVG effects for HTML",description:"Method of using SVG transforms, filters, etc on HTML elements using either CSS or the foreignObject element",spec:"http://www.w3.org/TR/SVG11/extend.html#ForeignObjectElement",status:"wd",links:[{url:"https://developer.mozilla.org/En/Applying_SVG_effects_to_HTML_content",title:"MDN Reference page"},{url:"https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html",title:"Filter Effects draft"},{url:"https://developer.mozilla.org/en/SVG/Tutorial/Other_content_in_SVG",title:"MDN Tutorial"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a",10:"a",11:"a"},firefox:{2:"n",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"y"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:'Partial support refers to lack of filter support or buggy result from effects. A <a href="https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html">CSS Filter Effects</a> specification is in the works that would replace this method.',usage_perc_y:15.33,usage_perc_a:60.21,ucprefix:!1,parent:"",keywords:""},"svg-html5":{title:"Inline SVG in HTML5",description:"Method of using SVG tags directly in HTML documents. Requires HTML5 parser.",spec:"http://www.w3.org/TR/html5/embedded-content-0.html#svg-0",status:"cr",links:[{url:"http://hacks.mozilla.org/2010/05/firefox-4-the-html5-parser-inline-svg-speed-and-more/",title:"Mozilla Hacks blog post"},{url:"http://samples.msdn.microsoft.com/ietestcenter/html5/svghtml_harness.htm?url=SVG_HTML_Elements_001",title:"Test suite"}],categories:["SVG","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:78.45,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},canvas:{title:"Canvas (basic support)",description:"Method of generating fast, dynamic graphics using JavaScript",spec:"http://www.w3.org/TR/html5/embedded-content-0.html#the-canvas-element",status:"cr",links:[{url:"https://developer.mozilla.org/en/Canvas_tutorial",title:"Tutorial by Mozilla"},{url:"http://explorercanvas.googlecode.com/",title:"Implementation for Internet Explorer"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#canvas",title:"has.js test"},{url:"http://www.diveinto.org/html5/canvas.html",title:"Another tutorial"},{url:"http://glimr.rubyforge.org/cake/canvas.html",title:"Animation kit "},{url:"http://www.canvasdemos.com/",title:"Showcase site"}],categories:["Canvas","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Opera Mini supports the canvas element, but is unable to play animations or run other more complex applications. Android 2.x supports canvas except the toDataURL() function. See http://code.google.com/p/android/issues/detail?id=7901 Some (slow) workarounds are described here: http://stackoverflow.com/q/10488033/841830",usage_perc_y:79.53,usage_perc_a:6.02,ucprefix:!1,parent:"",keywords:""},"canvas-text":{title:"Text API for Canvas",description:"Method of displaying text on Canvas elements",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-0",status:"wd",links:[{url:"http://code.google.com/p/canvas-text/",title:"Support library"},{url:"http://docs.webplatform.org/wiki/apis/canvas/CanvasRenderingContext2D/fillText",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#canvas-text",title:"has.js test"},{url:"https://developer.mozilla.org/en/Drawing_text_using_a_canvas#Additional_examples",title:"Examples by Mozilla"}],categories:["Canvas","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.82,usage_perc_a:0,ucprefix:!1,parent:"canvas",keywords:""},"namevalue-storage":{title:"Web Storage - name/value pairs",description:"Method of storing data locally like cookies, but for larger amounts of data (sessionStorage and localStorage, used to fall under HTML5).",spec:"http://www.w3.org/TR/webstorage/#storage",status:"rec",links:[{url:"http://html5demos.com/storage",title:"Simple demo"},{url:"http://docs.webplatform.org/wiki/apis/web-storage/Storage/localStorage",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/En/DOM/Storage",title:"Gecko reference"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-localstorage;native-sessionstorage",title:"has.js test"},{url:"http://code.google.com/p/sessionstorage/",title:"Support library"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"In private browsing mode Safari and iOS Safari don't support setting localStorage.",usage_perc_y:89.13,usage_perc_a:.1,ucprefix:!1,parent:"",keywords:"webstorage,local storage"},"sql-storage":{title:"Web SQL Database",description:"Method of storing data client-side, allows Sqlite database queries for access and manipulation",spec:"http://www.w3.org/TR/webdatabase/",status:"unoff",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-sql-db",title:"has.js test"},{url:"http://html5doctor.com/introducing-web-sql-databases/",title:"HTML5 Doctor article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"The Web SQL Database specification is no longer being maintained and support may be dropped in future versions.",usage_perc_y:49.18,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"db-storage,websql"},indexeddb:{title:"IndexedDB",description:"Method of storing data client-side, allows indexed database queries. Previously known as WebSimpleDB API.",spec:"http://www.w3.org/TR/IndexedDB/",status:"wd",links:[{url:"http://hacks.mozilla.org/2010/06/comparing-indexeddb-and-webdatabase/",title:"Mozilla Hacks article"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-indexeddb",title:"has.js test"},{url:"http://docs.webplatform.org/wiki/apis/indexedDB",title:"WebPlatform Docs"},{url:"https://github.com/axemclion/IndexedDBShim",title:"Polyfill for browsers supporting WebSQL"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"y x",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"a x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Partial support in BB10 refers to an <a href="http://www.w3.org/TR/2011/WD-IndexedDB-20110419/">outdated specification</a> being implemented. Code targeting the <a href="http://www.w3.org/TR/IndexedDB/">current state of the specification</a> might not work.',usage_perc_y:59.46,usage_perc_a:1.68,ucprefix:!1,parent:"",keywords:"indexdb"},eventsource:{title:"Server-sent DOM events",description:"Method of continuously sending data from a server to the browser, rather than repeatedly requesting it (EventSource interface, used to fall under HTML5)",spec:"http://www.w3.org/TR/eventsource/",status:"cr",links:[{url:"http://www.html5rocks.com/tutorials/eventsource/basics/",title:"HTML5 Rocks tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-eventsource",title:"has.js test"},{url:"http://samshull.blogspot.com/2010/10/ajax-push-in-ios-safari-and-chrome-with.html",title:"Blog post with demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"a",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:58.8,usage_perc_a:.06,ucprefix:!1,parent:"",keywords:"serversent,s-sent-events"},"x-doc-messaging":{title:"Cross-document messaging",description:"Method of sending information from a page on one domain to a page on a different one (using postMessage)",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages",status:"wd",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-crosswindowmessaging",title:"has.js test"},{url:"http://html5demos.com/postmessage2",title:"Simple demo"},{url:"https://developer.mozilla.org/en/DOM/window.postMessage",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/apis/web-messaging/methods/postMessage_%28window%29",title:"WebPlatform Docs"},{url:"http://72lions.com/2011/05/cross-origin-communication-with-html5",title:"Article and demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"y"},firefox:{2:"n",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in IE8-9 refers to only working in frames/iframes (not other tabs/windows). Also in IE 9 and below an object cannot be sent using postMessage. Partial support in IE10 refers to <a href="http://stackoverflow.com/questions/16226924/is-cross-origin-postmessage-broken-in-ie10">limitations in certain conditions</a>',usage_perc_y:69.31,usage_perc_a:24.52,ucprefix:!1,parent:"",keywords:""},datauri:{title:"Data URIs",description:"Method of embedding images and other files in webpages as a string of text",spec:"http://www.ietf.org/rfc/rfc2397.txt",status:"other",links:[{url:"http://www.websiteoptimization.com/speed/tweak/inline-images/",title:"Data URL converter"},{url:"http://css-tricks.com/5970-data-uris/",title:"Information page"},{url:"http://en.wikipedia.org/wiki/data_URI_scheme",title:"Wikipedia"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:"Support in Internet Explorer 8 is limited to images and linked resources like CSS files, not HTML files. Max URI length in IE8 is 32KB. In IE9+ JavaScript files are supported too and the maximum size limit set to 4GB.",usage_perc_y:69.23,usage_perc_a:24.63,ucprefix:!1,parent:"",keywords:"data url,datauris,data uri,dataurl,dataurls"},mathml:{title:"MathML",description:"An XML language that allows mathematical formulas and notations to be written on web pages.",spec:"http://www.w3.org/TR/MathML/",status:"rec",links:[{url:"http://www.mozilla.org/projects/mathml/demo/",title:"MathML demos"},{url:"http://en.wikipedia.org/wiki/MathML",title:"Wikipedia"},{url:"http://www.mathjax.org",title:"Cross-browser support script"},{url:"https://developer.mozilla.org/en/MathML/Element",title:"MDN element reference"}],categories:["Other"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"n",11:"n"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"y",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"p",32:"p"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"p",16:"p",17:"p",18:"p"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"y"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"p"},and_chr:{0:"p"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Opera's support is limited to a CSS profile of MathML. Support was added in Chrome 24, but removed afterwards due to instability.",usage_perc_y:23.15,usage_perc_a:.63,ucprefix:!1,parent:"",keywords:""},"css-featurequeries":{title:"CSS Feature Queries",description:"CSS Feature Queries allow authors to condition rules based on whether particular property declarations are supported in CSS using the @supports at rule.",spec:"http://www.w3.org/TR/css3-conditional/#at-supports",status:"cr",links:[{url:"http://dabblet.com/gist/3895764",title:"Test case"},{url:"http://mcc.id.au/blog/2012/08/supports",title:"@supports in Firefox"},{url:"https://developer.mozilla.org/en-US/docs/Web/CSS/@supports",title:"MDN Article"},{url:"http://docs.webplatform.org/wiki/css/atrules/@supports",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:45.52,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"supports,conditional"},xhtml:{title:"XHTML served as application/xhtml+xml",description:"A strict form of HTML, and allows embedding of other XML languages",spec:"http://www.w3.org/TR/xhtml1/",status:"rec",links:[{url:"http://en.wikipedia.org/wiki/XHTML",title:"Wikipedia"},{url:"http://docs.webplatform.org/wiki/concepts/internet_and_web/the_web_standards_model#What_is_XHTML.3F",title:"WebPlatform Docs"},{url:"http://www.xmlplease.com/xhtml/xhtml5polyglot/",title:"Information on XHTML5"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'The XHTML syntax is very close to HTML, and thus is almost always (<a href="https://developer.mozilla.org/en-US/docs/XHTML#MIME_type_versus_DOCTYPE">incorrectly</a>) served as text/html on the web.',usage_perc_y:85.55,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"xhtml+xml"},xhtmlsmil:{title:"XHTML+SMIL animation",description:"Method of using SMIL animation in web pages",spec:"http://www.w3.org/TR/XHTMLplusSMIL/",status:"unoff",links:[{url:"http://en.wikipedia.org/wiki/XHTML%2BSMIL",title:"Wikipedia"},{url:"http://leunen.me/fakesmile/",title:"JS library to support XHTML+SMIL"}],categories:["Other"],stats:{ie:{5.5:"n",6:"a",7:"a",8:"a",9:"n",10:"n",11:"n"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"p",32:"p"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"p",6:"p",6.1:"p",7:"p"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"p",12.1:"p",15:"p",16:"p",17:"p",18:"p"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"p"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"p"},and_chr:{0:"p"},and_ff:{0:"p"},ie_mob:{10:"n"}},notes:"Internet Explorer supports the W3C proposal HTML+TIME, which is largely the same as XHTML+SMIL",usage_perc_y:0,usage_perc_a:9.02,ucprefix:!1,parent:"xhtml",keywords:""},"wai-aria":{title:"WAI-ARIA Accessibility features",description:"Method of providing ways for people with disabilities to use dynamic web content and web applications.",spec:"http://www.w3.org/TR/wai-aria/",status:"cr",links:[{url:"http://www.alistapart.com/articles/the-accessibility-of-wai-aria/",title:"ALA Article"},{url:"http://en.wikipedia.org/wiki/WAI-ARIA",title:"Wikipedia"},{url:"http://zufelt.ca/blog/are-you-confused-html5-and-wai-aria-yet",title:"HTML5/WAI-ARIA information"},{url:"http://www.w3.org/WAI/intro/aria",title:"Information page"},{url:"http://www.paciellogroup.com/blog/2011/10/browser-assistive-technology-tests-redux/",title:"Links to various test results"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"a"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"n"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:40.05,usage_perc_a:48.6,ucprefix:!1,parent:"",keywords:"wai,aria"},geolocation:{title:"Geolocation",description:"Method of informing a website of the user's geographical location",spec:"http://www.w3.org/TR/geolocation-API/",status:"cr",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-geolocation",title:"has.js test"},{url:"http://docs.webplatform.org/wiki/apis/geolocation",title:"WebPlatform Docs"},{url:"http://html5demos.com/geo",title:"Simple demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"n",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.65,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:""},flexbox:{title:"Flexible Box Layout Module",description:"Method of positioning elements in horizontal or vertical stacks.",spec:"http://www.w3.org/TR/css3-flexbox/",status:"cr",links:[{url:"http://css-tricks.com/snippets/css/a-guide-to-flexbox/",title:"A Complete Guide to Flexbox"},{url:"http://bennettfeely.com/flexplorer/",title:"Flexbox CSS generator"},{url:"http://www.adobe.com/devnet/html5/articles/working-with-flexbox-the-new-spec.html",title:"Article on using the latest spec"},{url:"http://philipwalton.github.io/solved-by-flexbox/",title:"Examples on how to solve common layout problems with flexbox"},{url:"http://dev.opera.com/articles/view/advanced-cross-browser-flexbox/",title:"Tutorial on cross-browser support"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x #2",11:"y"},firefox:{2:"a x #1",3:"a x #1",3.5:"a x #1",3.6:"a x #1",4:"a x #1",5:"a x #1",6:"a x #1",7:"a x #1",8:"a x #1",9:"a x #1",10:"a x #1",11:"a x #1",12:"a x #1",13:"a x #1",14:"a x #1",15:"a x #1",16:"a x #1",17:"a x #1",18:"a x #1",19:"a x #1",20:"a x #1",21:"a x #1",22:"a #3",23:"a #3",24:"a #3",25:"a #3",26:"a #3",27:"a #3"},chrome:{4:"a x #1",5:"a x #1",6:"a x #1",7:"a x #1",8:"a x #1",9:"a x #1",10:"a x #1",11:"a x #1",12:"a x #1",13:"a x #1",14:"a x #1",15:"a x #1",16:"a x #1",17:"a x #1",18:"a x #1",19:"a x #1",20:"a x #1",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a x #1",3.2:"a x #1",4:"a x #1",5:"a x #1",5.1:"a x #1",6:"a x #1",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y x",16:"y x",17:"y",18:"y"},ios_saf:{3.2:"a x #1","4.0-4.1":"a x #1","4.2-4.3":"a x #1","5.0-5.1":"a x #1","6.0-6.1":"a x #1","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x #1",2.2:"a x #1",2.3:"a x #1",3:"a x #1",4:"a x #1",4.1:"a x #1","4.2-4.3":"a x #1",4.4:"y"},bb:{7:"a x #1",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"a x #1"},ie_mob:{10:"a x #2"}},notes:'Most partial support refers to supporting an <a href="http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/">older version</a> of the specification or an <a href="http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/">older syntax</a>. For Firefox 21+ it refers to lack of flex-wrap & flex-flow support.',usage_perc_y:37.88,usage_perc_a:37.66,ucprefix:!1,parent:"",keywords:"flex"},webgl:{title:"WebGL - 3D Canvas graphics",description:"Method of generating dynamic 3D graphics using JavaScript, accelerated through hardware",spec:"https://www.khronos.org/registry/webgl/specs/1.0/",status:"other",links:[{url:"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation",title:"Instructions on enabling WebGL"},{url:"http://webkit.org/blog/603/webgl-now-available-in-webkit-nightlies/",title:"Webkit blog post"},{url:"http://www.khronos.org/webgl/wiki/Tutorial",title:"Tutorial"},{url:"http://hacks.mozilla.org/2009/12/webgl-draft-released-today/",title:"Firefox blog post"},{url:"http://iewebgl.com/",title:"Polyfill for IE"}],categories:["Canvas"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"p",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"a",12.1:"a",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"a",12.1:"a",0:"y"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:'Support listed as "partial" refers to the fact that not all users with these browsers have WebGL access. This is due to the additional requirement for users to have <a href="http://www.khronos.org/webgl/wiki/BlacklistsAndWhitelists">up to date video drivers</a>. This problem was <a href="http://blog.chromium.org/2012/02/gpu-accelerating-2d-canvas-and-enabling.html">solved in Chrome</a> as of version 18.\r\n\r\nNote that WebGL is part of the <a href="http://www.khronos.org/webgl/">Khronos Group</a>, not the W3C. On Chrome for Android, WebGL is disabled by default, but can be enabled by enabling the "Enable WebGL" flag under chrome://flags',usage_perc_y:33.4,usage_perc_a:19.68,ucprefix:!1,parent:"canvas",keywords:"web gl"},fileapi:{title:"File API",description:"Method of manipulating file objects in web applications client-side, as well as programmatically selecting them and accessing their data.",spec:"http://www.w3.org/TR/FileAPI/",status:"wd",links:[{url:"https://developer.mozilla.org/en/Using_files_from_web_applications",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/apis/file",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Partial support in older Safari refers to lacking FileReader support. ",usage_perc_y:67.73,usage_perc_a:5.38,ucprefix:!1,parent:"",keywords:"FileReader"},shadowdom:{title:"Shadow DOM",description:"Method of establishing and maintaining functional boundaries between DOM trees and how these trees interact with each other within a document, thus enabling better functional encapsulation within the DOM.",spec:"http://www.w3.org/TR/shadow-dom/",status:"wd",links:[{url:"http://www.html5rocks.com/tutorials/webcomponents/shadowdom/",title:"HTML5Rocks - Shadow DOM 101 article"},{url:"http://html5-demos.appspot.com/static/shadowdom-visualizer/index.html",title:"Shadow DOM Visualizer"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:33.29,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"web components"},websockets:{title:"Web Sockets",description:"Bidirectional communication technology for web apps",spec:"http://www.w3.org/TR/websockets/",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/apis/websocket",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-websockets",title:"has.js test"},{url:"http://websocket.org/aboutwebsocket.html",title:"WebSockets information"},{url:"http://en.wikipedia.org/wiki/WebSocket",title:"Wikipedia"},{url:"http://updates.html5rocks.com/2011/08/What-s-different-in-the-new-WebSocket-protocol",title:"Details on newer protocol"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to the websockets implementation using an older version of the protocol and/or the implementation being disabled by default (due to security issues with the older protocol).",usage_perc_y:67.46,usage_perc_a:2.62,ucprefix:!0,parent:"",keywords:""},"script-async":{title:"async attribute for external scripts",description:"The boolean async attribute on script elements allows the external JavaScript file to run when it's available, without delaying page load first.",spec:"http://www.w3.org/TR/html5/scripting-1.html#attr-script-async",status:"cr",links:[{url:"https://developer.mozilla.org/en/HTML/Element/script#Attributes",title:"MDN article"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/script.js#script-async",title:"has.js test"},{url:"http://ie.microsoft.com/testdrive/Performance/AsyncScripts/Default.html",title:"Demo"}],categories:["HTML5","DOM"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Using script.async = false; to maintain execution order for dynamically-added scripts isn't supported in Safari 5.0",usage_perc_y:72.82,usage_perc_a:.31,ucprefix:!1,parent:"",keywords:""},cors:{title:"Cross-Origin Resource Sharing",description:"Method of performing XMLHttpRequests across domains",spec:"http://www.w3.org/TR/cors/",status:"cr",links:[{url:"http://saltybeagle.com/2009/09/cross-origin-resource-sharing-demo/",title:"Demo and script with cross-browser support"},{url:"http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/",title:"Mozilla Hacks blog post"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-cors-xhr",title:"has.js test"},{url:"http://msdn.microsoft.com/en-us/library/cc288060(VS.85).aspx",title:"Alternative implementation by IE8"},{url:"http://dev.opera.com/articles/view/dom-access-control-using-cross-origin-resource-sharing/",title:"DOM access using CORS"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"a",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Supported somewhat in IE8 and IE9 using the XDomainRequest object (but has <a href=" http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx">limitations</a>)',usage_perc_y:75.51,usage_perc_a:13.52,ucprefix:!1,parent:"",keywords:""},calc:{title:"calc() as CSS unit value",description:"Method of allowing calculated values for length units, i.e. width: calc(100% - 3em)",spec:"http://www.w3.org/TR/css3-values/#calc",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/css/functions/calc",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS/-moz-calc",title:"MDN article"},{url:"http://hacks.mozilla.org/2010/06/css3-calc/",title:"Mozilla Hacks article"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Support can be somewhat emulated in older versions of IE using the non-standard expression() syntax. ",usage_perc_y:71.77,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},ruby:{title:"Ruby annotation",description:"Method of adding pronunciation or other annotations using ruby elements (primarily used in East Asian typography)",spec:"http://www.w3.org/TR/html-markup/ruby.html",status:"wd",links:[{url:"https://addons.mozilla.org/firefox/addon/6812/",title:'Addon "HTML Ruby" for Firefox support'},{url:"http://html5doctor.com/ruby-rt-rp-element/",title:"HTML5 Doctor article"},{url:"http://docs.webplatform.org/wiki/html/elements/ruby",title:"WebPlatform Docs"},{url:"https://addons.mozilla.org/firefox/addon/1935/",title:'Add-on "XHTML Ruby Support" for Firefox'}],categories:["HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"p",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"p",3.2:"p",4:"p",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"p",12.1:"p",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"p",10:"a"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"a"},and_chr:{0:"a"},and_ff:{0:"p"},ie_mob:{10:"a"}},notes:"Browsers without native support can still simulate support using CSS. Partial support refers to only supporting basic ruby, may still be missing writing-mode, Complex ruby and CSS3 Ruby",usage_perc_y:0,usage_perc_a:72.03,ucprefix:!1,parent:"",keywords:""},"css-opacity":{title:"CSS3 Opacity",description:"Method of setting the transparency level of an element",spec:"http://www.w3.org/TR/css3-color/",status:"rec",links:[{url:"http://www.css3files.com/color/#opacity",title:"Information page"},{url:"http://docs.webplatform.org/wiki/css/properties/opacity",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Transparency for elements in IE8 and older can be achieved using the proprietary "filter" property and does not work well with PNG images using alpha transparency.',usage_perc_y:85.55,usage_perc_a:9.03,ucprefix:!1,parent:"",keywords:"transparent,transparency,alpha"},"form-validation":{title:"Form validation",description:"Method of setting required fields and field types without requiring JavaScript",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#client-side-form-validation",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/html/attributes/required",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:"Partial support in Safari refers to lack of notice when form with required fields is attempted to be submitted. Partial support in IE10 mobile refers to lack of warning when blocking submission.",usage_perc_y:61.75,usage_perc_a:4.07,ucprefix:!1,parent:"forms",keywords:""},history:{title:"Session history management",description:"Method of manipulating the user's browser's session history in JavaScript using history.pushState, history.replaceState and the popstate event",spec:"http://www.w3.org/TR/html5/browsers.html#history-1",status:"cr",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-history-state",title:"has.js test"},{url:"https://github.com/browserstate/history.js",title:"History.js polyfill "},{url:"http://docs.webplatform.org/wiki/dom/history",title:"WebPlatform Docs"},{url:"http://html5demos.com/history",title:"Demo page"},{url:"http://www.adequatelygood.com/2010/7/Saner-HTML5-History-Management",title:"Introduction to history management"},{url:"https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history",title:"MDN article"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"n",4:"n",4.1:"n","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Older iOS versions and Android 4.0.4 claim support, but implementation is too buggy to be useful. Partial support in other Safari browsers refers to other buggy behavior.",usage_perc_y:68.29,usage_perc_a:3.89,ucprefix:!1,parent:"",keywords:"onpushstate,onreplacestate"},json:{title:"JSON parsing",description:"Method of converting JavaScript objects to JSON strings and JSON back to objects using JSON.stringify() and JSON.parse()",spec:"http://es5.github.com/#x15.12",status:"other",links:[{url:"http://docs.webplatform.org/wiki/apis/json",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/json.js#json",title:"has.js test"},{url:"http://www.json.org/js.html",title:"JSON in JS (includes script w/support)"},{url:"https://developer.mozilla.org/En/Using_native_JSON",title:"MDN article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Requires document to be in IE8+ <a href="http://msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx">standards mode</a> to work in IE8.',usage_perc_y:93.71,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},classlist:{title:"classList (DOMTokenList )",description:"Method of easily manipulating classes on elements, using the DOMTokenList object.",spec:"http://www.w3.org/TR/dom/#dom-element-classlist",status:"wd",links:[{url:"https://github.com/eligrey/classList.js",title:"Polyfill script"},{url:"http://hacks.mozilla.org/2010/01/classlist-in-firefox-3-6/",title:"Mozilla Hacks article"},{url:"http://docs.webplatform.org/wiki/dom/properties/classList",title:"WebPlatform Docs"},{url:"https://github.com/eligrey/classList.js/pull/12",title:"Polyfill script for classList on SVG elements on WebKit"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"p",9:"p",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"p",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:73.54,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"text-overflow":{title:"CSS3 Text-overflow",description:"Append ellipsis when text overflows its containing element",spec:"http://www.w3.org/TR/css3-ui/#text-overflow0",status:"wd",links:[{url:"http://www.css3files.com/text/",title:"Information page"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-text-overflow",title:"has.js test"},{url:"http://docs.webplatform.org/wiki/css/properties/text-overflow",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/En/CSS/Text-overflow",title:"MDN article"},{url:"https://github.com/rmorse/AutoEllipsis",title:"jQuery polyfill for Firefox"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y x","9.5-9.6":"y x","10.0-10.1":"y x",10.5:"y x",10.6:"y x",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y x"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y x",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:93.95,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"textoverflow,ellipsis"},webm:{title:"WebM/VP8 video format",description:"Multimedia format designed to provide a royalty-free, high-quality open video compression format for use with HTML5 video.",spec:"http://www.webmproject.org/",status:"other",links:[{url:"http://perian.org/",title:"Perian :Mac OSX Webm Codec install"},{url:"https://tools.google.com/dlpage/webmmf",title:"Codec for IE9 support"},{url:"http://webmproject.org",title:"Officical website"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/video.js#video-webm",title:"has.js test"},{url:"http://www.broken-links.com/2010/09/01/playing-webm-in-safari-with-plugins/",title:"Info on supporting WebM in Safari"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"p",11:"p"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"p",4:"p",5:"p",5.1:"p",6:"p",6.1:"p",7:"p"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"Will work in IE9+ and Safari/MacOSX provided the user has the WebM codecs installed.",usage_perc_y:55.72,usage_perc_a:0,ucprefix:!1,parent:"video",keywords:"matroska"},mpeg4:{title:"MPEG-4/H.264 video format",description:"Commonly used video compression format (not royalty-free)",spec:"http://ip.hhi.de/imagecom_G1/assets/pdfs/csvt_overview_0305.pdf",status:"other",links:[{url:"http://www.interoperabilitybridges.com/html5-extension-for-wmp-plugin",title:"Firefox extension allowing support in Win7"},{url:"http://en.wikipedia.org/wiki/H.264/MPEG-4_AVC",title:"Wikipedia article"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"a"},ie_mob:{10:"y"}},notes:'The Android 2.3 browser currently requires <a href="http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/">specific handling</a> to play videos. Firefox <a href="http://blog.lizardwrangler.com/2012/03/18/video-user-experience-and-our-mission/">will include support</a> on some platforms in upcoming versions. Firefox supports H.264 on Windows 7 and later since version 21. Partial support for Firefox refers to the lack of support in OSX & Linux platforms, for Android Firefox it refers to the inability of hardware acceleration.',usage_perc_y:59.55,usage_perc_a:18.1,ucprefix:!1,parent:"video",keywords:"avc,mp4,mpv,mov,aac"},ogv:{title:"Ogg/Theora video format",description:"Free lossy video compression format.",spec:"http://theora.org/doc/",status:"other",links:[{url:"http://en.wikipedia.org/wiki/Theora",title:"Wikipedia article"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"p",11:"p"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"",usage_perc_y:49.8,usage_perc_a:0,ucprefix:!1,parent:"video",keywords:"xiph"},wordwrap:{title:"CSS3 Overflow-wrap",description:"Allows lines to be broken within words if an otherwise unbreakable string is too long to fit.",spec:"http://www.w3.org/TR/css3-text/#overflow-wrap",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/word-wrap",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/En/CSS/Word-wrap",title:"MDN article"},{url:"http://www.css3files.com/text/#wordwrap",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"a",3.6:"a",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"a",5.1:"a",6:"a",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"y"},and_chr:{0:"y"},and_ff:{0:"a"},ie_mob:{10:"a"}},notes:'Partial support refers to requiring the legacy name "word-wrap" (rather than overflow-wrap) to work.',usage_perc_y:36.93,usage_perc_a:57.51,ucprefix:!1,parent:"",keywords:"wordwrap,word-wrap"},progressmeter:{title:"Progress & Meter",description:"Method of indicating a progress state (progress element) or the current level of a gauge (meter element).\r\n",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#the-progress-element",status:"wd",links:[{url:"http://dev.opera.com/articles/view/new-form-features-in-HTML5/#newoutput",title:"Dev.Opera article"},{url:"http://peter.sh/examples/?/html/meter-progress.html",title:"Examples of progress and meter elements"},{url:"http://docs.webplatform.org/wiki/html/elements/progress",title:"WebPlatform Docs"},{url:"http://html5doctor.com/measure-up-with-the-meter-tag/",title:"HTML5 Doctor on meter element "}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in Firefox 6-15, IE10 & iOS7 Safari refers to supporting the progress element, but not the meter element. iOS7 Safari also does not support "indeterminate" progress elements.',usage_perc_y:52.21,usage_perc_a:14.58,ucprefix:!1,parent:"forms",keywords:""},"object-fit":{title:"CSS3 object-fit/object-position",description:'Method of specifying how an object (image or video) should fit inside its box. object-fit options include "contain" (fit according to aspect ratio), "fill" (stretches object to fill) and "cover" (overflows box but maintains ratio), where object-position allows the object to be repositioned like background-image does.',spec:"http://www.w3.org/TR/css3-images/",status:"cr",links:[{url:"http://dev.opera.com/articles/view/css3-object-fit-object-position/",title:"Dev.Opera article"},{url:"http://docs.webplatform.org/wiki/css/properties/object-fit",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y x",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y x",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Can be enabled in Chrome 31+ and Opera 18+ by enabling experimental Web Platform features under chrome://flags/ or opera://flags/.",usage_perc_y:.81,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"objectfit,objectposition"},xhr2:{title:"XMLHttpRequest 2",description:"Adds more functionality to AJAX requests like file uploads, transfer progress information and the ability to send form data.",spec:"http://www.w3.org/TR/XMLHttpRequest2/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/apis/xhr/XMLHttpRequest",title:"WebPlatform Docs"},{url:"http://www.profilepicture.co.uk/tutorials/ajax-file-upload-xmlhttprequest-level-2/",title:"Article with file upload demo"},{url:"https://developer.mozilla.org/en/XMLHttpRequest/FormData",title:"MDN article on FormData"},{url:"https://github.com/3nr1c/jUri.js",title:"Polyfill for FormData object"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"a",3.6:"a",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"u",5:"u",6:"u",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:73.51,usage_perc_a:.35,ucprefix:!1,parent:"",keywords:"formdata"},minmaxwh:{title:"CSS min/max-width/height",description:"Method of setting a minimum or maximum width or height to an element. ",spec:"http://www.w3.org/TR/CSS21/visudet.html#min-max-widths",status:"rec",links:[{url:"http://docs.webplatform.org/wiki/css/properties/min-width",title:"WebPlatform Docs"},{url:"http://code.google.com/p/ie7-js/",title:"JS library with support"},{url:"http://www.impressivewebs.com/min-max-width-height-css/",title:"CSS Basics post"}],categories:["CSS2"],stats:{ie:{5.5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'IE7 does not support "inherit" as a value on any of these properties. IE8 has some bugs with max-width/height combined with overflow: auto/scroll.',usage_perc_y:94.36,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"min-width,min-height,max-width,max-height"},details:{title:"Details & Summary elements",description:"The &lt;details> element generates a simple no-JavaScript widget to show/hide element contents, optionally by clicking on its child &lt;summary> element.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-details-element",status:"wd",links:[{url:"http://html5doctor.com/summary-figcaption-element/",title:"HTML5 Doctor article"},{url:"http://mathiasbynens.be/notes/html5-details-jquery",title:"jQuery fallback script"},{url:"http://docs.webplatform.org/wiki/html/elements/details",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-details",title:"has.js test"},{url:"https://gist.github.com/370590",title:"Fallback script"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"p",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"p",10:"y"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:44.5,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"text-stroke":{title:"CSS text-stroke",description:"Method of declaring the outline (stroke) width and color for text.",spec:"http://developer.apple.com/library/safari/documentation/appleapplications/reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266-_webkit_text_stroke",status:"unoff",links:[{url:"http://www.westciv.com/tools/textStroke/",title:"Live editor"},{url:"http://css-tricks.com/7405-adding-stroke-to-web-text/",title:"Information & workarounds"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"a x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"n",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Does not yet appear in any W3C specification. Was briefly included in a spec as the "text-outline" property, but this was removed.',usage_perc_y:48.41,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"textstroke,stroke-color,stroke-width,fill-color"},"inline-block":{title:"CSS inline-block",description:"Method of displaying an element as a block while flowing it with text. ",spec:"http://www.w3.org/TR/CSS21/visuren.html#fixed-positioning",status:"rec",links:[{url:"http://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/",title:"Blog post w/info"},{url:"http://docs.webplatform.org/wiki/css/properties/display",title:"WebPlatform Docs"},{url:"http://blog.mozilla.com/webdev/2009/02/20/cross-browser-inline-block/",title:"Info on cross browser support"}],categories:["CSS2"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"a x",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Only supported in IE6 and IE7 on elements with a display of "inline" by default. <a href="http://blog.mozilla.com/webdev/2009/02/20/cross-browser-inline-block/">Alternative properties</a> are available to provide complete cross-browser support.',usage_perc_y:93.84,usage_perc_a:.74,ucprefix:!1,parent:"",keywords:"inlineblock"},notifications:{title:"Web Notifications",description:"Method of alerting the user outside of a web page by displaying notifications (that do not require interaction by the user).",spec:"http://www.w3.org/TR/notifications/",status:"wd",links:[{url:"http://www.html5rocks.com/tutorials/notifications/quick/",title:"HTML5 Rocks tutorial"},{url:"http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification",title:"Chromium API"},{url:"https://addons.mozilla.org/en-us/firefox/addon/221523/",title:"Add-on "}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a x"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:45.27,usage_perc_a:2.66,ucprefix:!1,parent:"",keywords:""},stream:{title:"getUserMedia/Stream API",description:"Method of accessing external device data (such as a webcam video stream). Formerly this was envisioned as the &lt;device> element.",spec:"http://www.w3.org/TR/mediacapture-streams/",status:"wd",links:[{url:"http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview",title:"Technology preview from Opera"},{url:"http://docs.webplatform.org/wiki/dom/methods/getUserMedia",title:"WebPlatform Docs"}],categories:["HTML5","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"n",16:"n",17:"n",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y x"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"",usage_perc_y:48.44,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"camera,device,getUserMedia,media stream,Media Capture API"},"svg-img":{title:"SVG in HTML img element",description:"Method of displaying SVG images in HTML using &lt;img>",spec:"http://www.w3.org/TR/html5/embedded-content-1.html#the-img-element",status:"cr",links:[{url:"http://www.codedread.com/blog/",title:"Blog with SVGs an images"},{url:"http://blog.dholbert.org/2010/10/svg-as-image.html",title:"Blog post with examples"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"a",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:83.65,usage_perc_a:.01,ucprefix:!1,parent:"",keywords:"svg-as-img,svg-in-img"},datalist:{title:"Datalist element",description:"Method of setting a list of options for a user to select in a text field, while leaving the ability to enter a custom value.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#the-datalist-element",status:"wd",links:[{url:"http://demo.agektmr.com/datalist/",title:"Eiji Kitamura's options demos & tests"},{url:"http://docs.webplatform.org/wiki/html/elements/datalist",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/HTML/Element/datalist",title:"MDN reference"},{url:"http://afarkas.github.com/webshim/demos/",title:"HTML5 Library including datalist support"},{url:"http://hacks.mozilla.org/2010/11/firefox-4-html5-forms/",title:"Mozilla Hacks article"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"a",11:"a"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"p",6:"n",6.1:"n",7:"n"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"n"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"p"},and_chr:{0:"p"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:'Partial support in IE10 refers to <a href="http://playground.onereason.eu/2013/04/ie10s-lousy-support-for-datalists/">significantly buggy behavior</a>.',usage_perc_y:48.86,usage_perc_a:10.9,ucprefix:!1,parent:"forms",keywords:"list attribute"},dataset:{title:"dataset & data-* attributes",description:"Method of applying and accessing custom data to elements.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#embedding-custom-non-visible-data-with-the-data-*-attributes",status:"wd",links:[{url:"http://www.orangesoda.net/jquery.dataset.html",title:"jQuery polyfill for dataset support"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/dom.js#dom-dataset",title:"has.js test"},{url:"http://html5demos.com/dataset",title:"Demo using dataset"},{url:"http://html5doctor.com/html5-custom-data-attributes/",title:"HTML5 Doctor article"},{url:"http://docs.webplatform.org/wiki/html/attributes/data-*",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"y"},firefox:{2:"a",3:"a",3.5:"a",3.6:"a",4:"a",5:"a",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"a",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"a",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'All browsers can already use data-* attributes and access them using getAttribute. "Supported" refers to accessing the values using the dataset property. Current spec only refers to support on HTML elements, only some browsers also have support for SVG/MathML elements.',usage_perc_y:62.15,usage_perc_a:32.43,ucprefix:!1,parent:"",keywords:"DOMStringMap"},"css-grid":{title:"CSS Grid Layout",description:"Method of using a grid concept to lay out content, providing a mechanism for authors to divide available space for lay out into columns and rows using a set of predictable sizing behaviors",spec:"http://www.w3.org/TR/css3-grid-layout/",status:"wd",links:[{url:"https://bugzilla.mozilla.org/show_bug.cgi?id=616605",title:"Mozilla (Firefox) feature request"},{url:"http://blogs.msdn.com/b/ie/archive/2011/04/14/ie10-platform-preview-and-css-features-for-adaptive-layouts.aspx",title:"IE Blog post"},{url:"https://github.com/codler/Grid-Layout-Polyfill",title:"Grid Layout Polyfill"},{url:"https://bugs.webkit.org/show_bug.cgi?id=60731",title:"Webkit (Chrome, Safari, etc.) feature request"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"y x",11:"y x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"u",27:"u"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"p",6.1:"p",7:"p"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"p",4.4:"p"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"p"},and_chr:{0:"p"},and_ff:{0:"n"},ie_mob:{10:"y x"}},notes:"",usage_perc_y:11.11,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"grids,grid-row,grid-column"},menu:{title:"Toolbar/context menu",description:"Method of defining a toolbar menu, a context menu or a list of (interactive) options using the &lt;menu> element.",spec:"http://www.w3.org/TR/html5/interactive-elements.html#context-menus",status:"cr",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/events.js#event-contextmenu",title:"has.js test"},{url:"https://bug617528.bugzilla.mozilla.org/attachment.cgi?id=554309",title:"Demo"},{url:"http://addyosmani.github.com/jQuery-contextMenu/",title:"jQuery polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Partial support in Firefox refers to using the non-standard "menuitem" child elements, where the current spec uses "<a href="http://www.w3.org/TR/html5/interactive-elements.html#the-command-element">command</a>" child elements. It is also currently limited to context menus, not toolbar menus.',usage_perc_y:0,usage_perc_a:14.7,ucprefix:!1,parent:"",keywords:"contextmenu,menuitem,command"},rem:{title:"rem (root em) units",description:'Type of unit similar to "em", but relative only to the root element, not any parent element. Thus compounding does not occur as it does with "em" units.',spec:"http://www.w3.org/TR/css3-values/#font-relative-lengths",status:"cr",links:[{url:"http://snook.ca/archives/html_and_css/font-size-with-rem",title:"Article on usage"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"u",5:"u",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.56,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},ttf:{title:"TTF/OTF - TrueType and OpenType font support",description:"Support for the TrueType (.ttf)and OpenType (.otf) outline font formats in @font-face. ",spec:"http://developer.apple.com/fonts/TTRefMan/index.html",status:"other",links:[{url:"http://stackoverflow.com/questions/17694143/what-is-the-status-of-ttf-support-in-internet-explorer",title:"What is the status of TTF support in Internet Explorer?"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"u"}},notes:'Partial support in IE9 refers to the fonts only working <a href="http://blogs.msdn.com/b/ie/archive/2010/07/15/the-css-corner-better-web-typography-for-better-design.aspx">when set to be "installable"</a>.',usage_perc_y:64.48,usage_perc_a:16.11,ucprefix:!1,parent:"fontface",keywords:""},touch:{title:"Touch events",description:"Method of registering when, where and how the interface is touched, for devices with a touch screen. These DOM events are similar to mousedown, mousemove, etc.",spec:"http://www.w3.org/TR/touch-events/",status:"rec",links:[{url:"http://schepers.cc/getintouch",title:"Information on the spec development"},{url:"http://www.quirksmode.org/mobile/tableTouch.html",title:"Detailed support tables"},{url:"http://www.quirksmode.org/m/tests/drag2.html",title:"Multi-touch demo"},{url:"http://msdn.microsoft.com/en-us/library/ie/hh673557(v=vs.85).aspx",title:"Internet Explorer's gesture and touch implementation."}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"p",11:"p"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"Internet Explorer implements Pointer Events specification which supports more input devices than Touch Events one.",usage_perc_y:58.16,usage_perc_a:.12,ucprefix:!1,parent:"",keywords:"touchstart,touchend,touchmove,touchenter,touchleave,touchcancel"},matchesselector:{title:"matches() DOM method",description:"Method of testing whether or not a DOM element matches a given selector. Formerly known (and largely supported with prefix) as matchesSelector.",spec:"http://www.w3.org/TR/selectors-api2/",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/Element.mozMatchesSelector",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/dom/methods/matchesSelector",title:"WebPlatform Docs"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a x",10:"a x",11:"a x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"a x",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x",28:"a x",29:"a x",30:"a x",31:"a x",32:"a x"},safari:{3.1:"n",3.2:"n",4:"n",5:"a x",5.1:"a x",6:"a x",6.1:"a x",7:"a x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"a x",11.6:"a x",12:"a x",12.1:"a x",15:"a x",16:"a x",17:"a x",18:"a x"},ios_saf:{3.2:"n","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"a x","7.0":"a x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"a x",10:"a x"},op_mob:{10:"n",11:"n",11.1:"a x",11.5:"a x",12:"a x",12.1:"a x",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"a x"},ie_mob:{10:"a x"}},notes:'Partial support refers to supporting the older specification\'s "matchesSelector" name rather than just "matches".',usage_perc_y:0,usage_perc_a:80.6,ucprefix:!1,parent:"",keywords:" matchesSelector"},"pointer-events":{title:"CSS pointer-events (for HTML)",description:'This CSS property, when set to "none" allows elements to not receive hover/click events, instead the event will occur on anything behind it. ',spec:"http://wiki.csswg.org/spec/css4-ui#pointer-events",status:"unoff",links:[{url:"http://robertnyman.com/2010/03/22/css-pointer-events-to-allow-clicks-on-underlying-elements/",title:"Article & tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-pointerevents",title:"has.js test"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Already part of the SVG specification, and all SVG-supporting browsers appear to support the property on SVG elements.",usage_perc_y:63.82,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"pointerevents"},blobbuilder:{title:"Blob constructing",description:"Construct Blobs (binary large objects) either using the BlobBuilder API (deprecated) or the Blob constructor.",spec:"http://www.w3.org/TR/file-writer-api/#the-blobbuilder-interface",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/BlobBuilder",title:"MDN article on BlobBuilder"},{url:"https://developer.mozilla.org/en-US/docs/DOM/Blob",title:"MDN article on Blobs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"a x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to only supporting the now deprecated BlobBuilder to create blobs.",usage_perc_y:64.97,usage_perc_a:6.3,ucprefix:!0,parent:"fileapi",keywords:""},filereader:{title:"FileReader API",description:"Method of reading the contents of a File or Blob object into memory",spec:"http://www.w3.org/TR/FileAPI/#dfn-filereader",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/apis/file/FileReader",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/DOM/FileReader",title:"FileReader API"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:71.89,usage_perc_a:0,ucprefix:!1,parent:"fileapi",keywords:""},filesystem:{title:"Filesystem & FileWriter API",description:"Method of reading and writing files to a sandboxed file system.\r\n",spec:"http://www.w3.org/TR/file-system-api/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/apis/filesystem",title:"WebPlatform Docs"},{url:"http://www.html5rocks.com/en/tutorials/file/filesystem/",title:"HTML5 Rocks tutorial"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:34.87,usage_perc_a:.28,ucprefix:!1,parent:"",keywords:"filewriter"},bloburls:{title:"Blob URLs",description:"Method of creating URL handles to the specified File or Blob object.",spec:"http://www.w3.org/TR/FileAPI/#url",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/window.URL.createObjectURL",title:"MDN article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:70.6,usage_perc_a:0,ucprefix:!1,parent:"fileapi",keywords:"createobjecturl"},typedarrays:{title:"Typed Arrays",description:"JavaScript typed arrays provide a mechanism for accessing raw binary data much more efficiently.\r\n",spec:"http://www.khronos.org/registry/typedarray/specs/latest/",status:"other",links:[{url:"https://developer.mozilla.org/en/javascript_typed_arrays",title:"MDN article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:73.11,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"float64array,dataview,uint8array"},deviceorientation:{title:"DeviceOrientation events",description:"API for detecting orientation and motion events from the device running the browser.",spec:"http://www.w3.org/TR/orientation-event/",status:"wd",links:[{url:"http://html5labs.interoperabilitybridges.com/prototypes/device-orientation-events/device-orientation-events/info",title:"DeviceOrientation implementation prototype for IE10"},{url:"http://www.html5rocks.com/en/tutorials/device/orientation/",title:"HTML5 Rocks tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-orientation",title:"has.js test"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"p",4:"p",5:"p",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"n",5:"n",6:"n",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"a"},and_chr:{0:"a"},and_ff:{0:"a"},ie_mob:{10:"n"}},notes:'Partial support refers to the lack of compassneedscalibration event. Partial support also refers to the lack of devicemotion event support for Chrome 30- and Opera. Opera Mobile 14 lost the ondevicemotion event support. Firefox 3.6, 4 and 5 support the non-standard <a href="https://developer.mozilla.org/en/DOM/MozOrientation">MozOrientation</a> event.',usage_perc_y:.14,usage_perc_a:57.76,ucprefix:!1,parent:"",keywords:""},"script-defer":{title:"defer attribute for external scripts",description:"The boolean defer attribute on script elements allows the external JavaScript file to run when the DOM is loaded, without delaying page load first.",spec:"http://www.w3.org/TR/html5/the-script-element.html#attr-script-defer",status:"cr",links:[{url:"https://developer.mozilla.org/en/HTML/Element/script#Attributes",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/html/attributes/defer",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/script.js#script-defer",title:"has.js test"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to a buggy implementation in IE<10",usage_perc_y:73.17,usage_perc_a:14.25,ucprefix:!1,parent:"",keywords:""},"nav-timing":{title:"Navigation Timing API",description:"API for accessing timing information related to navigation and elements.",spec:"http://www.w3.org/TR/navigation-timing/",status:"cr",links:[{url:"https://developer.mozilla.org/en/API/navigationTiming",title:"MDN article"},{url:"http://www.html5rocks.com/en/tutorials/webperformance/basics/",title:"HTML5 Rocks tutorial"},{url:"http://docs.webplatform.org/wiki/apis/navigation_timing",title:"WebPlatform Docs"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:69.95,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"performance,performance.timing"},"audio-api":{title:"Web Audio API",description:"High-level JavaScript API for processing and synthesizing audio",spec:"http://www.w3.org/TR/webaudio/",status:"wd",links:[{url:"http://www.doboism.com/projects/webaudio-compatibility/",title:"Additional browser compatibility tests for specific features"},{url:"http://docs.webplatform.org/wiki/apis/webaudio",title:"WebPlatform Docs"},{url:"https://github.com/corbanbrook/audionode.js",title:"Polyfill to support Web Audio API in Firefox"},{url:"https://github.com/g200kg/WAAPISim",title:"Polyfill to enable Web Audio API through Firefox Audio Data api or flash"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Firefox versions < 25 support an alternative, deprecated audio API.",usage_perc_y:41.68,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"web-audio"},"css-regions":{title:"CSS Regions",description:"Method of flowing content into multiple elements.",spec:"http://www.w3.org/TR/css3-regions/",status:"wd",links:[{url:"http://msdn.microsoft.com/en-us/ie/hh272902#_CSSConnected",title:"IE10 developer guide info"},{url:"http://html.adobe.com/webstandards/cssregions/",title:"Adobe demos and samples"},{url:"http://docs.webplatform.org/wiki/css/atrules/@region",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"a x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"a x",16:"a x",17:"a x",18:"a x",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"a x"}},notes:'Currently supported in WebKit Nightly using <code>-webkit-flow-into: flow_name;</code> and <code>-webkit-from-flow: flow_name;</code>. Support in Chrome 19+ is disabled by default and can be enabled using a runtime flag (see <code>about:flags</code>) or a command line flag (see  <a href="http://peter.sh/experiments/chromium-command-line-switches/#enable-css-regions">this list</a>). For Chrome 19-22 the flag is named "Enable CSS Regions" / <code>--enable-css-regions</code>, while for Chrome 23+ the flag is named "Enable experimental WebKit features" / <code>--enable-experimental-webkit-features</code>. Support in IE10 is limited to using an iframe as a content source with the <code>-ms-flow-into: flow_name;</code> and <code>-ms-flow-from: flow_name;</code> syntax. Support for Safari 6.1&7 is <a href="http://www.broken-links.com/2013/07/10/web-platform-technologies-in-safari-6-1-and-7/">likely</a> but not official.',usage_perc_y:2.75,usage_perc_a:11.35,ucprefix:!1,parent:"",keywords:""},fullscreen:{title:"Full Screen API",description:"API for allowing content (like a video or canvas element) to take up the entire screen.",spec:"http://www.w3.org/TR/fullscreen/",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/Using_full-screen_mode",title:"MDN article"},{url:"http://jlongster.com/2011/11/21/canvas.html",title:"Blog post"},{url:"http://hacks.mozilla.org/2012/01/using-the-fullscreen-api-in-web-browsers/",title:"Mozilla hacks article"},{url:"http://docs.webplatform.org/wiki/dom/methods/requestFullscreen",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"y x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"a x"},ie_mob:{10:"n"}},notes:"Partial support refers to supporting an earlier draft of the spec.",usage_perc_y:37.35,usage_perc_a:16.21,ucprefix:!1,parent:"",keywords:"full-screen"},requestanimationframe:{title:"requestAnimationFrame",description:"API allowing a more efficient way of running script-based animation, compared to traditional methods using timeouts.",spec:"http://www.w3.org/TR/animation-timing/#requestAnimationFrame",status:"wd",links:[{url:"http://hacks.mozilla.org/2011/08/animating-with-javascript-from-setinterval-to-requestanimationframe/",title:"Mozilla Hacks article"},{url:"http://paulirish.com/2011/requestanimationframe-for-smart-animating/",title:"Blog post"},{url:"http://docs.webplatform.org/wiki/apis/timing/methods/requestAnimationFrame",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"y"}},notes:"",usage_perc_y:67.13,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"input-range":{title:"Range input type",description:"Form field type that allows the user to select a value using a slider widget.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#range-state-(type=range)",status:"wd",links:[{url:"https://github.com/fryn/html5slider",title:"Polyfill for Firefox"},{url:"http://docs.webplatform.org/wiki/html/elements/input/type/range",title:"WebPlatform Docs"},{url:"http://tutorialzine.com/2011/12/what-you-need-to-know-html5-range-input/",title:"Tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-range",title:"has.js test"},{url:"https://github.com/freqdec/fd-slider",title:"Cross-browser polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"u",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Currently all Android browsers with partial support hide the slider input field by default. However, the element <a href="http://tiffanybbrown.com/2012/02/07/input-typerange-and-androids-stock-browser/">can be styled</a> to be made visible and usable.',usage_perc_y:68.52,usage_perc_a:4.31,ucprefix:!1,parent:"forms",keywords:""},matchmedia:{title:"matchMedia",description:"API for finding out whether or not a media query applies to the document.",spec:"http://www.w3.org/TR/cssom-view/#dom-window-matchmedia",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/media_queries/apis/matchMedia",title:"WebPlatform Docs"},{url:"https://github.com/paulirish/matchMedia.js/",title:"matchMedia.js polyfill"},{url:"https://developer.mozilla.org/en/DOM/window.matchMedia",title:"MDN article"},{url:"https://developer.mozilla.org/en/CSS/Using_media_queries_from_code",title:"MDN tutorial"}],categories:["JS API","DOM"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:72.81,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"mediaquerylist"},"input-datetime":{title:"Date/time input types",description:"Form field widget to easily allow users to enter dates and/or times, generally by using a calendar widget.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#date-state-(type=date)",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/html/elements/input/type/date",title:"WebPlatform Docs"},{url:"http://net.tutsplus.com/tutorials/javascript-ajax/quick-tip-cross-browser-datepickers-within-minutes/",title:"Datepicker tutorial w/polyfill"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-datetime;input-type-datetime-local",title:"has.js test"},{url:"https://github.com/zoltan-dulac/html5Forms.js",title:"Polyfill for HTML5 forms"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Safari provides date-formatted text fields, but no real calendar widget. Partial support in Chrome refers to a missing calendar widget for the "datetime" type (and other types in older versions). Some modified versions of the Android 4.x browser do have support for date/time fields. ',usage_perc_y:6.13,usage_perc_a:33.1,ucprefix:!1,parent:"forms",keywords:"datepicker,timepicker"},"input-color":{title:"Color input type",description:"Form field allowing the user to select a color.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#color-state-(type=color)",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/html/elements/input/type/color",title:"WebPlatform Docs"},{url:"http://www.html5tutorial.info/html5-color.php",title:"Tutorial"},{url:"https://github.com/jonstipe/color-polyfill",title:"Polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"n",16:"n",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:35.22,usage_perc_a:0,ucprefix:!1,parent:"forms",keywords:"colour"},"input-number":{title:"Number input type",description:"Form field type for numbers.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#number-state-(type=number)",status:"wd",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-number",title:"has.js test"},{url:"http://www.html5tutorial.info/html5-number.php",title:"Tutorial"},{url:"https://github.com/jonstipe/number-polyfill",title:"Polyfill"},{url:"http://docs.webplatform.org/wiki/html/elements/input/type/number",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"u",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a"},and_chr:{0:"a"},and_ff:{0:"n"},ie_mob:{10:"a"}},notes:'iOS Safari, Android 4 and Chrome for Android show number input, but do not use "step", "min" or "max" attributes or show increment/decrement buttons. Internet Explorer 10 does not show increment/decrement buttons.',usage_perc_y:38.44,usage_perc_a:20.1,ucprefix:!1,parent:"forms",keywords:"spinner"},"iframe-sandbox":{title:"sandbox attribute for iframes",description:"Method of running external site pages with reduced privileges (e.g. no JavaScript) in iframes",spec:"http://www.w3.org/TR/html5/the-iframe-element.html#attr-iframe-sandbox",status:"cr",links:[{url:"http://msdn.microsoft.com/en-us/hh563496",title:"MSDN article"},{url:"http://blog.chromium.org/2010/05/security-in-depth-html5s-sandbox.html",title:"Chromium blog article"},{url:"http://docs.webplatform.org/wiki/html/attributes/sandbox",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:59.45,usage_perc_a:13.57,ucprefix:!1,parent:"",keywords:""},"css-counters":{title:"CSS Counters",description:"Method of controlling number values in generated content, using the counter-reset and counter-increment properties.",spec:"http://www.w3.org/TR/CSS21/generate.html#counters",status:"wd",links:[{url:"http://onwebdev.blogspot.com/2012/02/css-counters-tutorial.html",title:"Tutorial and information"},{url:"http://docs.webplatform.org/wiki/css/properties/counter-reset",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS_Counters",title:"MDN article"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:93.86,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"css-resize":{title:"CSS resize property",description:"Method of allowing an element to be resized by the user, with options to limit to a given direction. ",spec:"http://www.w3.org/TR/css3-ui/#resize",status:"wd",links:[{url:"http://css-tricks.com/almanac/properties/r/resize/",title:"CSS Tricks info"},{url:"http://davidwalsh.name/textarea-resize",title:"On textarea resizing"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"a",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Opera 12.10+ currently only supports the resize property for textarea elements.",usage_perc_y:52.82,usage_perc_a:.48,ucprefix:!1,parent:"",keywords:"horizontal,vertical"},"input-placeholder":{title:"input placeholder attribute",description:"Method of setting placeholder text for text-like input fields, to suggest the expected inserted information.",spec:"http://dev.w3.org/html5/spec/Overview.html#attr-input-placeholder",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/html/attributes/placeholder",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-attr-placeholder",title:"has.js test"},{url:"http://www.zachleat.com/web/placeholder/",title:"Article on usage"},{url:"https://github.com/mathiasbynens/jquery-placeholder",title:"Polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"a",11.1:"a",11.5:"a",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Safari and Opera versions refers to lacking placeholder support on textarea elements. ",usage_perc_y:75.1,usage_perc_a:.15,ucprefix:!1,parent:"forms",keywords:""},spdy:{title:"SPDY networking protocol",description:"Networking protocol for low-latency transport of content over the web.",spec:"http://tools.ietf.org/html/draft-mbelshe-httpbis-spdy-00",status:"unoff",links:[{url:"http://en.wikipedia.org/wiki/SPDY",title:"Wikipedia"},{url:"http://dev.chromium.org/spdy/spdy-whitepaper",title:"SPDY whitepaper"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"u"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:53.69,usage_perc_a:.11,ucprefix:!1,parent:"",keywords:""},"css-repeating-gradients":{title:"CSS Repeating Gradients",description:"Method of defining a repeating linear or radial color gradient as a CSS image.",spec:"http://www.w3.org/TR/css3-images/#repeating-gradients",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/css/repeating-linear-gradient",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS/repeating-linear-gradient",title:"MDN article"},{url:"http://www.css3files.com/gradient/#repeatinglineargradient",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y x",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"a x",11.5:"a x",11.6:"y x",12:"y x",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"a x",11.5:"a x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"y"}},notes:'Firefox 10+, Chrome 26+ and Opera 11.6+ also support the new "to (side)" syntax.',usage_perc_y:73.31,usage_perc_a:.03,ucprefix:!1,parent:"css-gradients",keywords:""},"css-filters":{title:"CSS Filter Effects",description:"Method of applying filter effects (like blur, grayscale, brightness, contrast and hue) to elements, previously only possible by using SVG.",spec:"http://www.w3.org/TR/filter-effects/",status:"wd",links:[{url:"http://dl.dropbox.com/u/3260327/angular/CSS3ImageManipulation.html",title:"Filter editor"},{url:"http://bennettfeely.com/filters/",title:"Filter Playground"},{url:"http://html5-demos.appspot.com/static/css/filters/index.html",title:"Demo file for WebKit browsers"},{url:"http://www.html5rocks.com/en/tutorials/filters/understanding-css/",title:"Mozilla hacks article"}],categories:["CSS3","CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Note that this property is significantly different from and incompatible with Microsoft\'s <a href="http://msdn.microsoft.com/en-us/library/ie/ms530752%28v=vs.85%29.aspx">older "filter" property</a>.',usage_perc_y:40.55,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"sepia,hue-rotate,invert,saturate"},getcomputedstyle:{title:"getComputedStyle",description:"API to get the current computed CSS styles applied to an element. This may be the current value applied by an animation or as set by a stylesheet.",spec:"http://www.w3.org/TR/cssom/#dom-window-getcomputedstyle",status:"rec",links:[{url:"http://ie.microsoft.com/testdrive/HTML5/getComputedStyle/",title:"Demo"},{url:"http://snipplr.com/view/13523/",title:"Polyfill for IE"},{url:"https://developer.mozilla.org/en/DOM/window.getComputedStyle",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/css/cssom/methods/getComputedStyle",title:"WebPlatform Docs"}],categories:["JS API","CSS3","DOM"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"a",3.5:"a",3.6:"a",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"a",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Firefox versions refers to requiring the second parameter to be included. Partial support in all other browsers refers to not supporting getComputedStyle on pseudo-elements.",usage_perc_y:78.53,usage_perc_a:7,ucprefix:!1,parent:"",keywords:""},"word-break":{title:"CSS3 word-break",description:"Property to prevent or allow words to be broken over multiple lines between letters.",spec:"http://www.w3.org/TR/css3-text/#word-break",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/word-break",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS/word-break",title:"MDN article"}],categories:["CSS3"],stats:{ie:{5.5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"a",3.2:"a",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"a",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Partial support refers to supporting the "break-all" value, but not the "keep-all" value.',usage_perc_y:39.39,usage_perc_a:48.42,ucprefix:!1,parent:"",keywords:"break-all,keep-all"},"viewport-units":{title:"Viewport units: vw, vh, vmin, vmax",description:"Length units representing 1% of the viewport size for viewport width (vw), height (vh), the smaller of the two (vmin), or the larger of the two (vmax).",spec:"http://www.w3.org/TR/css3-values/#viewport-relative-lengths",status:"cr",links:[{url:"http://css-tricks.com/viewport-sized-typography/",title:"Blog post"},{url:"https://github.com/saabi/vminpoly",title:"Polyfill"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a",10:"a",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"a","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in IE9 refers to supporting "vm" instead of "vmin". All other partial support refers to not supporting the "vmax" unit.',usage_perc_y:48.9,usage_perc_a:21.18,ucprefix:!1,parent:"",keywords:"vm,viewport-percentage"},contentsecuritypolicy:{title:"Content Security Policy",description:"Mitigate cross-site scripting attacks by whitelisting allowed sources of script, style, and other resources.",spec:"http://www.w3.org/TR/CSP/",status:"cr",links:[{url:"http://content-security-policy.com/",title:"CSP Examples & Quick Reference"},{url:"http://html5rocks.com/en/tutorials/security/content-security-policy/",title:"HTML5Rocks article"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"a x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"a x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"a x"}},notes:"The HTTP header is 'X-Content-Security-Policy' for Firefox and IE 10&11, and 'X-WebKit-CSP' for Safari and Chrome. IE 10&11's support is limited to the 'sandbox' directive.",usage_perc_y:55.74,usage_perc_a:12.68,ucprefix:!1,parent:"",keywords:"csp,security,header"},pagevisibility:{title:"PageVisibility",description:"JavaScript API for determining whether a document is visible on the display",spec:"http://www.w3.org/TR/page-visibility/",status:"cr",links:[{url:"https://developer.mozilla.org/en-US/docs/DOM/Using_the_Page_Visibility_API",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/apis/timing/properties/visibilityState",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:63.89,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"visibilitystate"},stricttransportsecurity:{title:"Strict Transport Security",description:"Declare that a website is only accessible over a secure connection (HTTPS).",spec:"http://tools.ietf.org/html/rfc6797",status:"other",links:[{url:"http://dev.chromium.org/sts",title:"Strict Transport Security @ Chromium"},{url:"https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security",title:"Strict Transport Security @ Mozilla Developer Network"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"u"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"The HTTP header is 'Strict-Transport-Security'.",usage_perc_y:50.76,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"sts,hsts,security,header"},"style-scoped":{title:"Scoped CSS",description:"Allows CSS rules to be scoped to part of the document, based on the position of the style element.",spec:"http://www.w3.org/TR/html5/document-metadata.html#attr-style-scoped",status:"cr",links:[{url:"https://github.com/PM5544/scoped-polyfill",title:"Polyfill"},{url:"http://html5doctor.com/the-scoped-attribute/",title:"HTML5 Doctor article"},{url:"http://updates.html5rocks.com/2012/03/A-New-Experimental-Feature-style-scoped",title:"HTML5Rocks article"}],categories:["CSS","HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"u",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:'Supported in Chrome 20+ by enabling the "experimental WebKit features" flag in chrome://flags.',usage_perc_y:13.05,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"scope"},"svg-fragment":{title:"SVG fragment identifiers",description:"Method of displaying only a part of an SVG image by defining a view ID or view box dimensions as the file's fragment identifier.",spec:"http://www.w3.org/TR/SVG/linking.html#SVGFragmentIdentifiers",status:"rec",links:[{url:"http://www.broken-links.com/2012/08/14/better-svg-sprites-with-fragment-identifiers/",title:"Blog post"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"u",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:25.15,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"fragments,sprite"},outline:{title:"CSS outline",description:"The CSS outline property is a shorthand property for setting one or more of the individual outline properties outline-style, outline-width and outline-color in a single rule. In most cases the use of this shortcut is preferable and more convenient.",spec:"http://www.w3.org/TR/CSS2/ui.html#propdef-outline",status:"rec",links:[{url:"https://developer.mozilla.org/en-US/docs/CSS/outline",title:"Mozilla Developer Network: outline"},{url:"http://dev.w3.org/csswg/css3-ui/#outline",title:"CSS Basic User Interface Module Level 3"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:89.27,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"-moz-outline,outline-width,outline-style,outline-color"},download:{title:"Download attribute",description:"When used on an anchor, this attribute signifies that the resource it points to should be downloaded by the browser rather than navigate to it.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#downloading-resources",status:"wd",links:[{url:"http://html5-demos.appspot.com/static/a.download.html",title:"Demo: creating a text file and downloading it."},{url:"http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download",title:"HTML5Rocks post"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:48.02,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"download,a.download,a[download],download attribute"},pointer:{title:"Pointer events",description:'This specification integrates various inputs from mice, touchscreens, and pens, making separate implementations no longer necessary and authoring for cross-device pointers easier. Not to be mistaken with the unrelated "pointer-events" CSS property.',spec:"http://www.w3.org/TR/pointerevents/",status:"cr",links:[{url:"http://blogs.msdn.com/b/eternalcoding/archive/2013/01/16/hand-js-a-polyfill-for-supporting-pointer-events-on-every-browser.aspx",title:"Hand.js, the polyfill for browsers only supporting Touch Events"},{url:"http://blogs.msdn.com/b/ie/archive/2011/09/20/touch-input-for-ie10-and-metro-style-apps.aspx",title:"Implementation of Pointer Events in IE10"},{url:"http://blogs.msdn.com/b/davrous/archive/2013/02/20/handling-touch-in-your-html5-apps-thanks-to-the-pointer-events-of-ie10-and-windows-8.aspx",title:"Article & tutorial"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"p",32:"p"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"p",16:"p",17:"p",18:"p"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"n"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"p"},op_mob:{10:"n",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"p"},and_chr:{0:"p"},and_ff:{0:"p"},ie_mob:{10:"a x"}},notes:"Partial support in IE10 refers the lack of pointerenter and pointerleave events.",usage_perc_y:.11,usage_perc_a:10.99,ucprefix:!1,parent:"",keywords:"pointerdown,pointermove,pointerup,pointercancel,pointerover,pointerout,pointerenter,pointerleave"},"user-select-none":{title:"CSS user-select: none",description:"Method of preventing text/element selection using CSS. ",spec:"https://developer.mozilla.org/en-US/docs/CSS/user-select",status:"unoff",links:[{url:"http://msdn.microsoft.com/en-us/library/ie/hh781492(v=vs.85).aspx",title:"MSDN Documentation"},{url:"https://developer.mozilla.org/en-US/docs/CSS/user-select",title:"MDN article"},{url:"http://css-tricks.com/almanac/properties/u/user-select/",title:"CSS Tricks article"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x"},firefox:{2:"y x",3:"y x",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"u",5:"u",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"y x"}},notes:'Currently the user-select property does not appear in any W3C specification. Support information here is only for "none" value, not others.',usage_perc_y:74.91,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},webp:{title:"WebP image format",description:"Image format that supports lossy and lossless compression, as well as animation and alpha transparency.",spec:"https://developers.google.com/speed/webp/",status:"other",links:[{url:"http://libwebpjs.appspot.com/",title:"Decoder in JS"},{url:"https://developers.google.com/speed/webp/",title:"Official website"},{url:"http://antimatter15.github.io/weppy/demo.html",title:"Polyfill for browsers with WebM support"},{url:"http://webpjs.appspot.com/",title:"Polyfill for browsers with or without WebM support (i.e. IE6-IE9, Safari/iOS version 6.1 and below; Firefox versions 24 and bel"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"n",5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"a",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Animated webp images are supported in Chrome 32+ and Opera 19+.",usage_perc_y:39.4,usage_perc_a:.01,ucprefix:!1,parent:"",keywords:""},"intrinsic-width":{title:"Intrinsic & Extrinsic Sizing",description:"Allows for the heights and widths to be specified in intrinsic values using the fill-available, max-content, min-content, and fit-content properties.",spec:"http://www.w3.org/TR/css3-sizing/",status:"wd",links:[{url:"http://demosthenes.info/blog/662/Design-From-the-Inside-Out-With-CSS-MinContent",title:"Min-Content tutorial"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:'Prefixes are on the values, not the property names (e.g. -webkit-min-content) Firefox currently supports the "-moz-available" property rather than "-moz-fill-available".',usage_perc_y:51.68,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"fill-available,max-content,min-content,fit-content,contain-floats"},template:{title:"HTML templates",description:"Method of declaring a portion of reusable markup that is parsed but not rendered until cloned.",spec:"http://www.w3.org/TR/html-templates/",status:"wd",links:[{url:"http://www.html5rocks.com/en/tutorials/webcomponents/template/",title:"HTML5Rocks - HTML's New template Tag"},{url:"http://polymer-project.org",title:"Polymer project (polyfill & web compontents framework)"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:45.76,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"web components, template"},opus:{title:"Opus",description:"Royalty-free open audio codec by IETF, which incorporated SILK from Skype and CELT from Xiph.org, to serve higher sound quality and lower latency at the same bitrate.",spec:"http://tools.ietf.org/html/rfc6716",status:"other",links:[{url:"https://hacks.mozilla.org/2012/07/firefox-beta-15-supports-the-new-opus-audio-format/",title:"Introduction of Opus by Mozilla"},{url:"http://www.ietf.org/mail-archive/web/rtcweb/current/msg04953.html",title:"Google's statement about the use of VP8 and Opus codec for WebRTC standard"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"u"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Chrome does not support Opus by default but users can enable it via the 'enable-opus-playback' flag. When it comes to Opera, it is said that the Linux version may be able to play it when the GStreamer module is up to date and the served mime-type is 'audio/ogg'.",usage_perc_y:14.04,usage_perc_a:0,ucprefix:!1,parent:"audio",keywords:""},jpegxr:{title:"JPEG XR image format",description:"The latest JPEG image format of Joint Photographic Experts Group which boasts better compression and supports lossless compression, alpha channel, and 48-bit deep color over normal jpg format.",spec:"http://www.itu.int/rec/T-REC-T.832",status:"other",links:[{url:"http://msdn.microsoft.com/en-us/library/windows/desktop/hh707223(v=vs.85).aspx",title:"Microsoft JPEG XR Codec Overview"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"",usage_perc_y:16.32,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"channel-messaging":{title:"Channel messaging",description:"Method for having two-way communication between browsing contexts (using MessageChannel)",spec:"http://www.w3.org/TR/webmessaging/#channel-messaging",status:"cr",links:[{url:"http://dev.opera.com/articles/view/window-postmessage-messagechannel/#channel",title:"An Introduction to HTML5 web messaging"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"u","10.0-10.1":"u",10.5:"u",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"u",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"",usage_perc_y:55.07,usage_perc_a:0,ucprefix:!1,parent:"x-doc-messaging",keywords:""},"css3-tabsize":{title:"CSS3 tab-size",description:"Method of customizing the width of a tab character. Only effective using 'white-space: pre'.",spec:"http://www.w3.org/TR/css3-text/#tab-size1",status:"wd",links:[{url:"https://developer.mozilla.org/en-US/docs/Web/CSS/tab-size",title:"MDN article"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y x",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y x",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"",usage_perc_y:53.05,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"tab-size,tab-width"},mutationobserver:{title:"Mutation Observer",description:"Method for observing and reacting to changes to the DOM. Replaces MutationEvents, which is deprecated.",spec:"http://www.w3.org/TR/dom/",status:"wd",links:[{url:"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver",title:"MutationObserver from MDN"},{url:"https://github.com/Polymer/MutationObservers",title:"Polyfill"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"p",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"p",4.1:"p","4.2-4.3":"p",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"When the content of a node with a single CharacterData child node is changed by innerHTML attribute and the node have a single different one as a result, WebKit browsers consider it as a characterData mutation of the child CharacterData node, while other browsers think it as a childList mutation of the parent node.",usage_perc_y:54.8,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"MutationObserver"},"css-selection":{title:"::selection CSS pseudo-element",description:"The ::selection CSS pseudo-element applies rules to the portion of a document that has been highlighted (e.g., selected with the mouse or another pointing device) by the user.",spec:"https://developer.mozilla.org/en-US/docs/Web/CSS/::selection",status:"unoff",links:[{url:"http://docs.webplatform.org/wiki/css/selectors/pseudo-elements/::selection",title:"WebPlatform Docs"},{url:"http://quirksmode.org/css/selectors/selection.html",title:"::selection test"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"y x",3:"y x",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"u",11:"u",11.1:"u",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"",usage_perc_y:71.68,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"::selection,selection"},"canvas-blending":{title:"Canvas blend modes",description:"Method of defining the effect resulting from overlaying two layers on a Canvas element. ",spec:"http://www.w3.org/TR/compositing-1/#blending",status:"wd",links:[{url:"http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/",title:"Blog post"}],categories:["Canvas"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:42.33,usage_perc_a:0,ucprefix:!1,parent:"canvas",keywords:""},clipboard:{title:"Clipboard API",description:"API to provide copy, cut and paste functionality using the OS clipboard.",spec:"http://www.w3.org/TR/clipboard-apis/",status:"wd",links:[{url:"http://www.deluxeblogtips.com/2010/06/javascript-copy-to-clipboard.html",title:"Blog post on cross-browser usage"},{url:"https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent",title:"MDN page on ClipboardEvent"}],categories:["JS API"],stats:{ie:{5.5:"a #1",6:"a #1",7:"a #1",8:"a #1",9:"a #1",10:"a #1",11:"a #1"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"u",3.2:"u",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:'Partial support in IE refers using <a href="http://msdn.microsoft.com/en-us/library/ie/ms535220%28v=vs.85%29.aspx">a non-standard method</a> of interacting with the clipboard. For other browsers it refers to not supporting the ClipboardEvent constructor.',usage_perc_y:12.83,usage_perc_a:67.91,ucprefix:!1,parent:"",keywords:"cut,copy,paste,clipboarddata"},rtcpeerconnection:{title:"WebRTC Peer-to-peer connections",description:"Method of allowing two users to communicate directly, browser to browser using the RTCPeerConnection API.",spec:"http://www.w3.org/TR/webrtc/#peer-to-peer-connections",status:"wd",links:[{url:"http://www.webrtc.org/",title:"WebRTC Project site"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"BlackBerry 10 recognizes RTCPeerConnection but real support is unconfirmed.",usage_perc_y:46.24,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""}}}},{}],36:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/range"),i=e("../utils/common"),o=e("../vendor/klass");function a(e,t){this.options=i.extend({offset:0},t),this.source=e,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}a.extend=o.extend,a.prototype={type:"container",initialize:function(){},_pos:function(e,t){return e+(t?this.options.offset:0)},_updateSource:function(e,t,n){var o=r.create(t,void 0===n?0:n-t),a=e.length-o.length(),s=function(e){Object.keys(e).forEach(function(t){e[t]>=o.end&&(e[t]+=a)})};s(this._positions);var l=function(e){e.forEach(function(e){s(e._positions),"container"==e.type&&l(e.list())})};l(this.list()),this.source=i.replaceSubstring(this.source,e,o)},add:function(e,t,n){var r=new s(e,t);return this._children.push(r),r},get:function(e){return"number"==typeof e?this.list()[e]:"string"==typeof e?i.find(this.list(),function(t){return t.name()===e}):e},getAll:function(e){Array.isArray(e)||(e=[e]);var t=[],n=[];return e.forEach(function(e){"string"==typeof e?t.push(e):"number"==typeof e&&n.push(e)}),this.list().filter(function(e,r){return~n.indexOf(r)||~t.indexOf(e.name())})},list:function(){return this._children},remove:function(e){var t=this.get(e);if(t){this._updateSource("",t.fullRange());var n=this._children.indexOf(t);~n&&this._children.splice(n,1)}},indexOf:function(e){return this.list().indexOf(this.get(e))},value:function(e,t,n){var r=this.get(e);return r?r.value(t):void 0!==t?this.add(e,t,n):void 0},values:function(e){return this.getAll(e).map(function(e){return e.value()})},name:function(e){return void 0!==e&&this._name!==(e=String(e))&&(this._updateSource(e,this._positions.name,this._positions.name+this._name.length),this._name=e),this._name},nameRange:function(e){return r.create(this._positions.name+(e?this.options.offset:0),this.name())},range:function(e){return r.create(e?this.options.offset:0,this.valueOf())},itemFromPosition:function(e,t){return i.find(this.list(),function(n){return n.range(t).inside(e)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}};function s(e,t,n){this.parent=e,this._name=t.value,this._value=n?n.value:"",this._positions={name:t.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}return s.extend=o.extend,s.prototype={type:"element",initialize:function(){},_pos:function(e,t){return e+(t?this.parent.options.offset:0)},value:function(e){return void 0!==e&&this._value!==(e=String(e))&&(this.parent._updateSource(e,this.valueRange()),this._value=e),this._value},name:function(e){return void 0!==e&&this._name!==(e=String(e))&&(this.parent._updateSource(e,this.nameRange()),this._name=e),this._name},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.value,e)},range:function(e){return r.create(this.namePosition(e),this.valueOf())},fullRange:function(e){return this.range(e)},nameRange:function(e){return r.create(this.namePosition(e),this.name())},valueRange:function(e){return r.create(this.valuePosition(e),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:a,EditElement:s,createToken:function(e,t,n){var r={start:e||0,value:t||"",type:n};return r.end=r.start+r.value.length,r}}})},{"../assets/range":30,"../utils/common":73,"../vendor/klass":78}],37:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("./base"),o=e("../parser/css"),a=e("../utils/cssSections"),s=e("../assets/range"),l=e("../assets/stringStream"),c=e("../assets/tokenIterator"),u={styleBefore:"\n\t",styleSeparator:": ",offset:0},p=/^\s+/,h=/\s+$/,f=1,d=2;function y(e,t,n){n=n||f|d,t=e.substring(t);var r;return n&f&&(r=t.match(p))&&(e.start+=r[0].length),n&d&&(r=t.match(h))&&(e.end-=r[0].length),e.end<e.start&&(e.end=e.start),e}function m(e,t){var n,r,i,o=e.current();if(!o)return null;for(var a={white:1,line:1,comment:1};(o=e.current())&&o.type in a;)e.next();if(!e.hasNext())return null;o=e.current(),n=s(o.start,o.value);for(var l="@"==o.value.charAt(0);o=e.next();)if(n.end=o.end,":"==o.type||"white"==o.type){if(n.end=o.start,e.next(),":"==o.type||l)break}else if(";"==o.type||"line"==o.type){n.end=o.start,r=s(o.start,0),e.next();break}if(o=e.current(),!r&&o){"line"==o.type&&(c=o),r=s(o.start,o.value);for(var c;o=e.next();)if(r.end=o.end,"line"==o.type)c=o;else{if("}"==o.type||";"==o.type){r.end=o.start,";"==o.type&&(i=s(o.start,o.value)),e.next();break}if(":"==o.type&&c){r.end=c.start,e._i=e.tokens.indexOf(c);break}}}return r||(r=s(n.end,0)),{name:y(n,t),value:y(r,t,f|(i?d:0)),end:i||s(r.end,0)}}function g(e){var t,n=l.create(e),i=[],o=/[\s\u00a0,;]/,a=function(){n.next(),i.push(s(n.start,n.current())),n.start=n.pos};for(n.eatSpace(),n.start=n.pos;t=n.next();)if('"'==t||"'"==t){if(n.next(),!n.skipTo(t))break;a()}else if("("==t){if(n.backUp(1),!n.skipToPair("(",")"))break;n.backUp(1),a()}else o.test(t)&&(i.push(s(n.start,n.current().length-1)),n.eatWhile(o),n.start=n.pos);return a(),r.unique(i.filter(function(e){return!!e.length()}))}function v(e,t,n){b(t,n).forEach(function(t){e._children.push(new w(e,i.createToken(t.name.start,t.nameText),i.createToken(t.value.start,t.valueText),i.createToken(t.end.start,t.endText)))})}function b(e,t){t=t||0;var n=[];if(!(e=e.replace(h,"")))return n;for(var r,i=o.parse(e),a=c.create(i);r=m(a,e);)n.push({nameText:r.name.substring(e),name:r.name.shift(t),valueText:r.value.substring(e),value:r.value.shift(t),endText:r.end.substring(e),end:r.end.shift(t)});return n}var x=i.EditContainer.extend({initialize:function(e,t){r.extend(this.options,u,t),Array.isArray(e)&&(e=o.toSource(e));var n=a.findAllRules(e),i=n.shift(),l=[];n.forEach(function(e){!r.find(l,function(t){return t.contains(e)})&&l.push(e)});var c=s.create2(i.start,i._selectorEnd);this._name=c.substring(e),this._positions.name=c.start,this._positions.contentStart=i._contentStart+1;var p=i._contentStart+1,h=(i.end,this);l.forEach(function(t){v(h,e.substring(p,t.start),p);r.extend({},h.options,{offset:t.start+h.options.offset});p=t.end}),v(this,e.substring(p,i.end-1),p),this._saveStyle()},_saveStyle:function(){var e=this._positions.contentStart,t=this.source;this.list().forEach(function(n){if("container"!==n.type){n.styleBefore=t.substring(e,n.namePosition());var i=r.splitByLines(n.styleBefore);i.length>1&&(n.styleBefore="\n"+i[i.length-1]),n.styleSeparator=t.substring(n.nameRange().end,n.valuePosition());var o=n.styleBefore.split("*/");n.styleBefore=o[o.length-1],n.styleSeparator=n.styleSeparator.replace(/\/\*.*?\*\//g,""),e=n.range().end}})},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.contentStart,e)},valueRange:function(e){return s.create2(this.valuePosition(e),this._pos(this.valueOf().length,e)-1)},add:function(e,t,n){var o=this.list(),a=this._positions.contentStart,s=r.pick(this.options,"styleBefore","styleSeparator");void 0===n&&(n=o.length);var l=o[n];l?a=l.fullRange().start:(l=o[n-1])&&(l.end(";"),a=l.range().end),l&&(s=r.pick(l,"styleBefore","styleSeparator"));var c=i.createToken(a+s.styleBefore.length,e),u=i.createToken(c.end+s.styleSeparator.length,t),p=new w(this,c,u,i.createToken(u.end,";"));return r.extend(p,s),this._updateSource(p.styleBefore+p.toString(),a),this._children.splice(n,0,p),p}}),w=i.EditElement.extend({initialize:function(e,t,n,r){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(e){var t=g(this.value());if(e){var n=this.valuePosition(!0);t.forEach(function(e){e.shift(n)})}return t},value:function(e){var t=void 0!==e,n=this.parent.list();if(t&&this.isIncomplete()){var i=this,o=r.find(n,function(e){return e!==i&&!e.isIncomplete()});this.styleSeparator=o?o.styleSeparator:this.parent.options.styleSeparator,this.parent._updateSource(this.styleSeparator,s(this.valueRange().start,0))}var a=this.constructor.__super__.value.apply(this,arguments);if(t){n.indexOf(this)===n.length-1||this.end()||this.end(";")}return a},isIncomplete:function(){return this.nameRange().end===this.valueRange().start},end:function(e){return void 0!==e&&this._end!==e&&(this.parent._updateSource(e,this._positions.end,this._positions.end+this._end.length),this._end=e),this._end},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(e,t){return new x(e,t)},parseFromPosition:function(e,t,n){var r=a.locateRule(e,t,n);return r&&r.inside(t)?this.parse(r.substring(e),{offset:r.start}):null},propertyFromPosition:function(e,t){var n=null,i="string"==typeof e?this.parseFromPosition(e,t,!0):e;return i&&((n=i.itemFromPosition(t,!0))||(n=r.find(i.list(),function(e){return e.range(!0).end==t}))),n},baseName:function(e){return e.replace(/^\s*\-\w+\-/,"")},findParts:g,extractPropertiesFromSource:b}})},{"../assets/range":30,"../assets/stringStream":32,"../assets/tokenIterator":34,"../parser/css":56,"../utils/common":73,"../utils/cssSections":74,"./base":36}],38:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./base"),i=e("../parser/xml"),o=e("../assets/range"),a=e("../utils/common"),s={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},l=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,c=r.EditContainer.extend({initialize:function(e,t){a.defaults(this.options,s),this._positions.name=1;var n=null;i.parse(e).forEach(function(t){switch(t.value=o.create(t).substring(e),t.type){case"tag":/^<[^\/]+/.test(t.value)&&(this._name=t.value.substring(1));break;case"attribute":n&&this._children.push(new u(this,n)),n=t;break;case"string":this._children.push(new u(this,n,t)),n=null}},this),n&&this._children.push(new u(this,n)),this._saveStyle()},_saveStyle:function(){var e=this.nameRange().end,t=this.source;this.list().forEach(function(n){n.styleBefore=t.substring(e,n.namePosition()),-1!==n.valuePosition()&&(n.styleSeparator=t.substring(n.namePosition()+n.name().length,n.valuePosition()-n.styleQuote.length)),e=n.range().end})},add:function(e,t,n){var i=this.list(),o=this.nameRange().end,s=a.pick(this.options,"styleBefore","styleSeparator","styleQuote");void 0===n&&(n=i.length);var l=i[n];l?o=l.fullRange().start:(l=i[n-1])&&(o=l.range().end),l&&(s=a.pick(l,"styleBefore","styleSeparator","styleQuote")),t=s.styleQuote+t+s.styleQuote;var c=new u(this,r.createToken(o+s.styleBefore.length,e),r.createToken(o+s.styleBefore.length+e.length+s.styleSeparator.length,t));return a.extend(c,s),this._updateSource(c.styleBefore+c.toString(),o),this._children.splice(n,0,c),c},addClass:function(e){var t=this.get("class");if(e=a.trim(e),!t)return this.add("class",e);var n=t.value();~(" "+n.replace(/\n/g," ")+" ").indexOf(" "+e+" ")||t.value(n+" "+e)},removeClass:function(e){var t=this.get("class");if(e=a.trim(e),t){var n=new RegExp("(^|\\s+)"+a.escapeForRegexp(e)),r=t.value().replace(n,"");a.trim(r)?t.value(r):this.remove("class")}}}),u=r.EditElement.extend({initialize:function(e,t,n){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator;var r="",i=e.options.styleQuote;n&&('"'==(i=(r=n.value).charAt(0))||"'"==i?r=r.substring(1):i="",i&&r.charAt(r.length-1)==i&&(r=r.substring(0,r.length-1))),this.styleQuote=i,this._value=r,this._positions.value=n?n.start+i.length:-1},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(e,t){return new c(e,t)},parseFromPosition:function(e,t,n){var r=this.extractTag(e,t,n);return r&&r.inside(t)?this.parse(r.substring(e),{offset:r.start}):null},extractTag:function(e,t,n){var r,i=e.length,a=Math.min(2e3,i),s=null,c=function(t){var n;if("<"==e.charAt(t)&&(n=e.substr(t,a).match(l)))return o.create(t,n[0])};for(r=t;r>=0&&!(s=c(r));r--);if(s&&(s.inside(t)||n))return s;if(!s&&n)return null;for(r=t;r<i;r++)if(s=c(r))return s}}})},{"../assets/range":30,"../parser/xml":62,"../utils/common":73,"./base":36}],39:[function(require,module,exports){if("object"==typeof module&&"function"!=typeof define)var define=function(e){module.exports=e(require,exports,module)};define(function(require,exports,module){var global="undefined"!=typeof self?self:this,utils=require("./utils/common"),actions=require("./action/main"),parser=require("./parser/abbreviation"),file=require("./plugin/file"),preferences=require("./assets/preferences"),resources=require("./assets/resources"),profile=require("./assets/profile"),ciu=require("./assets/caniuse"),logger=require("./assets/logger"),sliceFn=Array.prototype.slice;function getFileName(e){var t=/([\w\.\-]+)$/i.exec(e);return t?t[1]:""}function normalizeProfile(e){return"object"==typeof e&&("indent"in e&&(e.indent=!!e.indent),"self_closing_tag"in e&&"number"==typeof e.self_closing_tag&&(e.self_closing_tag=!!e.self_closing_tag)),e}return{expandAbbreviation:function(e,t,n,r){return parser.expand(e,{syntax:t,profile:n,contextNode:r})},run:function(e){return actions.run.apply(actions,sliceFn.call(arguments,0))},loadExtensions:function(fileList){var payload={},userSnippets=null,that=this;fileList=fileList.filter(function(e){var t=file.getExt(e);return"json"===t||"js"===t});var reader=(file.readText||file.read).bind(file),next=function(){if(fileList.length){var f=fileList.shift();reader(f,function(err,content){if(err)return logger.log('Unable to read "'+f+'" file: '+err),next();switch(file.getExt(f)){case"js":try{eval(content)}catch(e){logger.log('Unable to eval "'+f+'" file: '+e)}break;case"json":var fileName=getFileName(f).toLowerCase().replace(/\.json$/,"");/^snippets/.test(fileName)?"snippets"===fileName?userSnippets=utils.parseJSON(content):payload.snippets=utils.deepMerge(payload.snippets||{},utils.parseJSON(content)):payload[fileName]=content}next()})}else userSnippets&&(payload.snippets=utils.deepMerge(payload.snippets||{},userSnippets)),that.loadUserData(payload)};next()},loadPreferences:function(e){preferences.load(utils.parseJSON(e))},loadSnippets:function(e){e=utils.parseJSON(e);var t=resources.getVocabulary("user")||{};resources.setVocabulary(utils.deepMerge(t,e),"user")},loadSystemSnippets:function(e){resources.setVocabulary(utils.parseJSON(e),"system")},loadCIU:function(e){ciu.load(utils.parseJSON(e))},resetSnippets:function(){resources.setVocabulary({},"user")},loadUserData:function(e){(e=utils.parseJSON(e)).snippets&&this.loadSnippets(e.snippets),e.preferences&&this.loadPreferences(e.preferences),e.profiles&&this.loadProfiles(e.profiles),e.caniuse&&this.loadCIU(e.caniuse);var t=e.syntaxProfiles||e.syntaxprofiles;t&&this.loadSyntaxProfiles(t)},resetUserData:function(){this.resetSnippets(),preferences.reset(),profile.reset()},loadSyntaxProfiles:function(e){e=utils.parseJSON(e);var t={};Object.keys(e).forEach(function(n){var r=e[n];n in t||(t[n]={}),t[n].profile=normalizeProfile(r)}),this.loadSnippets(t)},loadProfiles:function(e){e=utils.parseJSON(e),Object.keys(e).forEach(function(t){profile.create(t,normalizeProfile(e[t]))})},require:require,actions:actions,file:file,preferences:preferences,resources:resources,profile:profile,tabStops:require("./assets/tabStops"),htmlMatcher:require("./assets/htmlMatcher"),utils:{common:utils,action:require("./utils/action"),editor:require("./utils/editor")}}})},{"./action/main":12,"./assets/caniuse":23,"./assets/htmlMatcher":26,"./assets/logger":27,"./assets/preferences":28,"./assets/profile":29,"./assets/resources":31,"./assets/tabStops":33,"./parser/abbreviation":55,"./plugin/file":63,"./utils/action":70,"./utils/common":73,"./utils/editor":75}],40:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./html"),i=e("../assets/preferences"),o=e("../utils/abbreviation"),a=e("../utils/common");i.define("bem.elementSeparator","__","Class name’s element separator."),i.define("bem.modifierSeparator","_","Class name’s modifier separator."),i.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var s=!1;function l(){return{element:i.get("bem.elementSeparator"),modifier:i.get("bem.modifierSeparator")}}function c(e){if(o.isSnippet(e))return e;e.__bem={block:"",element:"",modifier:""};var t=function(e){e=(" "+(e||"")+" ").replace(/\s+/g," ");var t=i.get("bem.shortElementPrefix");if(t){var n=new RegExp("\\s("+a.escapeForRegexp(t)+"+)","g");e=e.replace(n,function(e,t){return" "+a.repeatString(l().element,t.length)})}return a.trim(e)}(e.attribute("class")).split(" "),n=/^[a-z]\-/i;return e.__bem.block=a.find(t,function(e){return n.test(e)}),e.__bem.block||(n=/^[a-z]/i,e.__bem.block=a.find(t,function(e){return n.test(e)})||""),t=t.map(function(t){return function(e,t){e=u(e=u(e,t,"element"),t,"modifier");var n="",r="",i="",o=l();if(~e.indexOf(o.element)){var a=e.split(o.element);n=a.shift();var s=a.pop().split(o.modifier);a.push(s.shift()),r=a.join(o.element),i=s.join(o.modifier)}else if(~e.indexOf(o.modifier)){var c=e.split(o.modifier);n=c.shift(),i=c.join(o.modifier)}if(n||r||i){n||(n=t.__bem.block);var p=n,h=[];return r?(p+=o.element+r,h.push(p)):h.push(p),i&&h.push(p+o.modifier+i),t.__bem.block=n,t.__bem.element=r,t.__bem.modifier=i,h}return e}(t,e)}),(t=a.unique(a.flatten(t)).join(" "))&&e.attribute("class",t),e}function u(e,t,n){var r=l(),i=new RegExp("^("+r[n]+")+","g");if(i.test(e)){for(var o=0,a=e.replace(i,function(e){return o=e.length/r[n].length,""}),s=t;s.parent&&o--;)s=s.parent;if(s&&s.__bem||(s=t),s&&s.__bem){var c=s.__bem.block;return"modifier"==n&&s.__bem.element&&(c+=r.element+s.__bem.element),c+r[n]+a}}return e}return function(e,t){return s=!1,e=function e(t,n){return t.name&&c(t),t.children.forEach(function(t){e(t,n),!o.isSnippet(t)&&t.start&&(s=!0)}),t}(e,t),s&&(e=r(e,t)),e}})},{"../assets/preferences":28,"../utils/abbreviation":69,"../utils/common":73,"./html":46}],41:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences"),i=e("../utils/common"),o=e("../utils/template"),a=e("../utils/abbreviation");e("./main");r.define("filter.commentAfter",'\n\x3c!-- /<%= attr("id", "#") %><%= attr("class", ".") %> --\x3e',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> – a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> – current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> – name of current tag</li><li><code>padding</code> – current string padding, can be used for formatting</li></ul>"),r.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),r.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>");function s(e,t,n){return e.children.forEach(function(e){a.isBlock(e)&&function(e,t,n){var o=r.get("filter.commentTrigger");if("*"!=o&&!i.find(o.split(","),function(t){return!!e.attribute(i.trim(t))}))return;var a={node:e,name:e.name(),padding:e.parent?e.parent.padding:"",attr:function(t,n,r){var i=e.attribute(t);return i?(n||"")+i+(r||""):""}},s=t?t(a):"",l=n?n(a):"";e.start=e.start.replace(/</,s+"<"),e.end=e.end.replace(/>/,">"+l)}(e,t,n),s(e,t,n)}),e}return function(e){return s(e,o(r.get("filter.commentBefore")),o(r.get("filter.commentAfter")))}})},{"../assets/preferences":28,"../utils/abbreviation":69,"../utils/common":73,"../utils/template":77,"./main":49}],42:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){return function e(t,n,r){return r=r||0,t.children.forEach(function(t){(i=t).parent&&!i.parent.parent&&!i.index()||!1===n.tag_nl||(t.start="\n"+t.start);var i;e(t,n,r+1)}),t}})},{}],43:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r={"<":"&lt;",">":"&gt;","&":"&amp;"};function i(e){return e.replace(/([<>&])/g,function(e,t){return r[t]})}return function e(t){return t.children.forEach(function(t){t.start=i(t.start),t.end=i(t.end),t.content=i(t.content),e(t)}),t}})},{}],44:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/abbreviation"),o=e("../assets/preferences");e("../assets/resources");o.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),o.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");var a="%s";function s(e){return e.parent&&!e.parent.parent&&!e.index()}function l(e,t){return!(!0!==t.tag_nl&&!i.isBlock(e))||!(!e.parent||!t.inline_break)&&c(e.parent,t)}function c(e,t){var n=0;return!!r.find(e.children,function(e){if(e.isTextNode()||!i.isInline(e)?n=0:i.isInline(e)&&n++,n>=t.inline_break)return!0})}function u(e,t){e.start=e.end=a;var n,r=i.isUnary(e),u=(n=e,~(o.getArray("format.noIndentTags")||[]).indexOf(n.name())?"":"\t");if(!1!==t.tag_nl){var p=!0===t.tag_nl&&(t.tag_nl_leaf||e.children.length);if(!p){p=~(o.getArray("format.forceIndentationForTags")||[]).indexOf(e.name())}e.isTextNode()||(l(e,t)?(s(e)||i.isSnippet(e.parent)&&!e.index()||(e.start="\n"+e.start),(i.hasBlockChildren(e)||(y=e,m=t,y.children.length&&l(y.children[0],m))||p&&!r)&&(e.end="\n"+e.end),(i.hasTagsInContent(e)||p&&!e.children.length&&!r)&&(e.start+="\n"+u)):i.isInline(e)&&(d=e,d.parent&&i.hasBlockChildren(d.parent))&&!s(e)?e.start="\n"+e.start:i.isInline(e)&&(h=e,f=t,h.children.some(function(e){return!i.isSnippet(e)&&!i.isInline(e)})||c(h,f))&&(e.end="\n"+e.end),e.padding=u)}var h,f,d,y,m;return e}return function e(t,n,r){return r=r||0,t.children.forEach(function(t){i.isSnippet(t)?(a=n,(o=t).start=o.end="",!s(o)&&!1!==a.tag_nl&&l(o,a)&&(o.parent.parent&&i.isInline(o.parent)||(o.start="\n"+o.start))):u(t,n);var o,a;e(t,n,r+1)}),t}})},{"../assets/preferences":28,"../assets/resources":31,"../utils/abbreviation":69,"../utils/common":73}],45:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/abbreviation"),o=e("./format");function a(e,t){var n="",i=[],o=(t.attributeQuote(),t.cursor());return e.attributeList().forEach(function(e){var a=t.attributeName(e.name);switch(a.toLowerCase()){case"id":n+="#"+(e.value||o);break;case"class":n+="."+(s=e.value||o,r.trim(s).replace(/\s+/g,"."));break;default:i.push({name:a,value:e.value||o,isBoolean:t.isBoolean(e.name,e.value)})}var s}),i.length&&(n+=function e(t,n){var r=n.attributeQuote();return"{"+t.map(function(t){var i=r+t.value+r;return Array.isArray(t.value)?i=e(t.value,n):t.isBoolean&&(i="true"),":"+t.name+" => "+i}).join(", ")+"}"}(function(e){var t=[],n=null,i=/^data-/i;return e.forEach(function(e){i.test(e.name)?(n||(n=[],t.push({name:"data",value:n})),n.push(r.extend({},e,{name:e.name.replace(i,"")}))):t.push(e)}),t}(i),t)),n}return function e(t,n,s){return(s=s||0)||(t=o(t,"_format",n)),t.children.forEach(function(t){i.isSnippet(t)||function(e,t){if(!e.parent)return e;var n=a(e,t),o=t.cursor(),s=i.isUnary(e),l=t.self_closing_tag&&s?"/":"",c="",u="%"+t.tagName(e.name());"%div"==u.toLowerCase()&&n&&-1==n.indexOf("{")&&(u=""),e.end="",c=u+n+l,e.content&&!/^\s/.test(e.content)&&(e.content=" "+e.content),e.start=r.replaceSubstring(e.start,c,e.start.indexOf("%s"),"%s"),e.children.length||s||(e.start+=o)}(t,n),e(t,n,s+1)}),t}})},{"../utils/abbreviation":69,"../utils/common":73,"./format":44}],46:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/abbreviation"),i=e("../utils/common"),o=e("../assets/tabStops"),a=e("./format");return function e(t,n,s){return(s=s||0)||(t=a(t,n,s)),t.children.forEach(function(t){r.isSnippet(t)||function(e,t){if(!e.parent)return e;var n=function(e,t){var n=t.attributeQuote(),r=t.cursor();return e.attributeList().map(function(e){var i=t.isBoolean(e.name,e.value),o=t.attributeName(e.name),a=i?o:e.value;return i&&t.allowCompactBoolean()?" "+o:" "+o+"="+n+(a||r)+n}).join("")}(e,t),a=t.cursor(),s=r.isUnary(e),l="",c="";if(!e.isTextNode()){var u=t.tagName(e.name());s?(l="<"+u+n+t.selfClosing()+">",e.end=""):(l="<"+u+n+">",c="</"+u+">")}e.start=i.replaceSubstring(e.start,l,e.start.indexOf("%s"),"%s"),e.end=i.replaceSubstring(e.end,c,e.end.indexOf("%s"),"%s"),e.children.length||s||~e.content.indexOf(a)||o.extract(e.content).tabstops.length||(e.start+=a)}(t,n),e(t,n,s+1)}),t}})},{"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],47:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/abbreviation"),o=e("./format"),a=e("../assets/tabStops"),s=e("../assets/profile"),l=/[\n\r]/,c=/^\s*\|/,u=/^\s/;function p(e,t){var n="",i=[],o=(t.attributeQuote(),t.cursor());return e.attributeList().forEach(function(e){var a=t.attributeName(e.name);switch(a.toLowerCase()){case"id":n+="#"+(e.value||o);break;case"class":n+="."+(s=e.value||o,r.trim(s).replace(/\s+/g,"."));break;default:i.push({name:a,value:e.value||o,isBoolean:t.isBoolean(e.name,e.value)})}var s}),i.length&&(n+=function(e,t){var n=t.attributeQuote();return"("+e.map(function(e){return e.isBoolean?e.name:e.name+"="+n+e.value+n}).join(", ")+")"}(i,t)),n}function h(e,t){if(!e.parent)return e;var n=p(e,t),o=t.cursor(),s=i.isUnary(e),h=t.tagName(e.name());"div"==h.toLowerCase()&&n&&"("!=n.charAt(0)&&(h=""),e.end="";var f=h+n;!function(e){if(e.content){var t=a.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});l.test(t)&&!c.test(t)?e.content="\n| "+r.padString(t,"| "):u.test(t)||(e.content=" "+t)}}(e);return e.start=r.replaceSubstring(e.start,f,e.start.indexOf("%s"),"%s"),e.children.length||s||(e.start+=o),e}return function e(t,n,r){return(r=r||0)||(t=o(t,s.get("xml"))),t.children.forEach(function(t){i.isSnippet(t)||h(t,n),e(t,n,r+1)}),t}})},{"../assets/profile":29,"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],48:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r={class:"className",for:"htmlFor"};return function e(t){return t.children.forEach(function(t){t._attributes.forEach(function(e){e.name in r&&(e.name=r[e.name])}),e(t)}),t}})},{}],49:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../assets/profile"),o=e("../assets/resources"),a={html:e("./html"),haml:e("./haml"),jade:e("./jade"),jsx:e("./jsx"),slim:e("./slim"),xsl:e("./xsl"),css:e("./css"),bem:e("./bem"),c:e("./comment"),e:e("./escape"),s:e("./singleLine"),t:e("./trim")};function s(e){return e?"string"==typeof e?e.split(/[\|,]/g):e:[]}return{add:function(e,t){a[e]=t},apply:function(e,t,n){return n=i.get(n),s(t).forEach(function(t){var i=r.trim(t.toLowerCase());i&&i in a&&(e=a[i](e,n))}),e},composeList:function(e,t,n){var r=s((t=i.get(t)).filters||o.findItem(e,"filters")||"html");return t.extraFilters&&(r=r.concat(s(t.extraFilters))),n&&(r=r.concat(s(n))),r&&r.length||(r=s("html")),r},extract:function(e){var t="";return[e=e.replace(/\|([\w\|\-]+)$/,function(e,n){return t=n,""}),s(t)]}}})},{"../assets/profile":29,"../assets/resources":31,"../utils/common":73,"./bem":40,"./comment":41,"./css":42,"./escape":43,"./haml":45,"./html":46,"./jade":47,"./jsx":48,"./singleLine":50,"./slim":51,"./trim":52,"./xsl":53}],50:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/abbreviation"),i=/^\s+/,o=/[\n\r]/g;return function e(t){return t.children.forEach(function(t){r.isSnippet(t)||(t.start=t.start.replace(i,""),t.end=t.end.replace(i,"")),t.start=t.start.replace(o,""),t.end=t.end.replace(o,""),t.content=t.content.replace(o,""),e(t)}),t}})},{"../utils/abbreviation":69}],51:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=e("../utils/abbreviation"),o=e("./format"),a=e("../assets/tabStops"),s=e("../assets/preferences"),l=e("../assets/profile"),c=/[\n\r]/,u=/^\s*\|/,p=/^\s/;s.define("slim.attributesWrapper","none","Defines how attributes will be wrapped:<ul><li><code>none</code> – no wrapping;</li><li><code>round</code> — wrap attributes with round braces;</li><li><code>square</code> — wrap attributes with round braces;</li><li><code>curly</code> — wrap attributes with curly braces.</li></ul>");function h(e,t){var n=t.attributeQuote(),r=function(){var e=" ",t="";switch(s.get("slim.attributesWrapper")){case"round":e="(",t=")";break;case"square":e="[",t="]";break;case"curly":e="{",t="}"}return{start:e,end:t}}();return r.start+e.map(function(e){var t=n+e.value+n;if(e.isBoolean){if(r.end)return e.name;t="true"}return e.name+"="+t}).join(" ")+r.end}function f(e,t){var n="",i=[],o=(t.attributeQuote(),t.cursor());return e.attributeList().forEach(function(e){var a=t.attributeName(e.name);switch(a.toLowerCase()){case"id":n+="#"+(e.value||o);break;case"class":n+="."+(s=e.value||o,r.trim(s).replace(/\s+/g,"."));break;default:i.push({name:a,value:e.value||o,isBoolean:t.isBoolean(e.name,e.value)})}var s}),i.length&&(n+=h(i,t)),n}function d(e,t){if(!e.parent)return e;var n=f(e,t),o=t.cursor(),s=i.isUnary(e),l=t.self_closing_tag&&s?"/":"",h=t.tagName(e.name());"div"==h.toLowerCase()&&n&&-1=="([{".indexOf(n.charAt(0))&&(h=""),e.end="";var d=h+n+l;!function(e){if(e.content){var t=a.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});c.test(t)&&!u.test(t)?e.content="\n| "+r.padString(t,"  "):p.test(t)||(e.content=" "+t)}}(e);return e.start=r.replaceSubstring(e.start,d,e.start.indexOf("%s"),"%s"),e.children.length||s||(e.start+=o),e}return function e(t,n,r){return(r=r||0)||(t=o(t,l.get("xml"))),t.children.forEach(function(t){i.isSnippet(t)||d(t,n),e(t,n,r+1)}),t}})},{"../assets/preferences":28,"../assets/profile":29,"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],52:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences");r.define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents).");return function(e){return function e(t,n){return t.children.forEach(function(t){t.content&&(t.content=t.content.replace(n,"")),e(t,n)}),t}(e,new RegExp(r.get("filter.trimRegexp")))}})},{"../assets/preferences":28}],53:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/abbreviation"),i={"xsl:variable":1,"xsl:with-param":1};return function e(t){return t.children.forEach(function(t){!r.isSnippet(t)&&(t.name()||"").toLowerCase()in i&&t.children.length&&(n=t,n.start=n.start.replace(/\s+select\s*=\s*(['"]).*?\1/,""));var n;e(t)}),t}})},{"../utils/abbreviation":69}],54:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences"),i={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},sp:{common:["mujer","uno","dolor","más","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","paño","suntuoso","molde","namibia","planeador","mirar","demás","oficinista","excepción","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cuórum","dignísimo","facilismo","letra","nihilista","expedición","alma","alveolar","aparte","león","animal","como","paria","belleza","modo","natividad","justo","ataque","séquito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunción","incidente","marejada","placenta","amanecer","fuga","previsor","presentación","lejos","necesariamente","sospechoso","adiposidad","quindío","pócima","voluble","débito","sintió","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mínima","mayores","repugnante","dulce","obcecado","montaña","enigma","total","deletéreo","décima","cábala","fotografía","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnífico","distinción","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepúsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abadía","analfabeto","remo","fugacidad","oficio","en","almácigo","vos","pan","represión","números","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrón","explícito","paloma","síndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apéndice","arquitecto","columna","yugo","computador","mula","a","propósito","fantasía","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}};r.define("lorem.defaultLang","en",'Default language of generated dummy text. Currently, <code>en</code>\t\tand <code>ru</code> are supported, but users can add their own syntaxes\t\tsee <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.'),r.define("lorem.omitCommonPart",!1,"Omit commonly used part (e.g. “Lorem ipsum dolor sit amet“) from generated text.");function o(e,t){return Math.round(Math.random()*(t-e)+e)}function a(e,t){for(var n=e.length,r=Math.min(n,t),i=[];i.length<r;){var a=o(0,n-1);~i.indexOf(a)||i.push(a)}return i.map(function(t){return e[t]})}function s(e,t){return e.length&&(e[0]=e[0].charAt(0).toUpperCase()+e[0].substring(1)),e.join(" ")+(t||(n="?!...","string"==typeof n?n.charAt(o(0,n.length-1)):n[o(0,n.length-1)]));var n}function l(e){var t=e.length;if(!(t<2)){var n=0;n=t>3&&t<=6?o(0,1):t>6&&t<=12?o(0,2):o(1,4);for(var r,i,a=0;a<n;a++)","!==(i=e[r=o(0,e.length-2)]).charAt(i.length-1)&&(e[r]+=",")}}return{addLang:function(e,t){"string"==typeof t?t={words:t.split(" ").filter(function(e){return!!e})}:Array.isArray(t)&&(t={words:t}),i[e]=t},preprocessor:function(e){var t,n=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,c=!r.get("lorem.omitCommonPart");e.findAll(function(e){if(e._name&&(t=e._name.match(n))){var u=t[2]||30,p=t[1]||r.get("lorem.defaultLang")||"en";e._name="",e.data("forceNameResolving",e.isRepeating()||e.attributeList().length),e.data("pasteOverwrites",!0),e.data("paste",function(e){return function(e,t,n){var r=i[e];if(!r)return"";var c,u=[],p=0;for(t=parseInt(t,10),n&&r.common&&((c=r.common.slice(0,t)).length>5&&(c[4]+=","),p+=c.length,u.push(s(c,".")));p<t;)p+=(c=a(r.words,Math.min(o(2,30),t-p))).length,l(c),u.push(s(c));return u.join(" ")}(p,u,!e&&c)})}})}}})},{"../assets/preferences":28}],55:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/tabStops"),i=e("../assets/profile"),o=e("../filter/main"),a=e("../utils/common"),s=e("../utils/abbreviation"),l=e("../assets/stringStream"),c=e("../generator/lorem"),u=e("./processor/pastedContent"),p=e("./processor/tagName"),h=e("./processor/resourceMatcher"),f=e("./processor/attributes"),d=e("./processor/href"),y=/^[\w\-\$\:@\!%]+\+?$/i,m=/[\w\-:\$@]/,g="%default",v={"[":"]","(":")","{":"}"},b=Array.prototype.splice,x=[],w=[],_=[];function k(e){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}k.prototype={addChild:function(e,t){return(e=e||new k).parent=this,void 0===t?this.children.push(e):this.children.splice(t,0,e),e},clone:function(){var e=new k;return["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"].forEach(function(t){e[t]=this[t]},this),e._attributes=this._attributes.map(function(e){return a.extend({},e)}),e._data=a.extend({},this._data),e.children=this.children.map(function(t){return(t=t.clone()).parent=e,t}),e},remove:function(){if(this.parent){var e=this.parent.children.indexOf(this);~e&&this.parent.children.splice(e,1)}return this},replace:function(){var e=this.parent,t=e.children.indexOf(this),n=a.flatten(arguments);b.apply(e.children,[t,1].concat(n)),n.forEach(function(t){t.parent=e})},updateProperty:function(e,t){return this[e]=t,this.children.forEach(function(n){n.updateProperty(e,t)}),this},find:function(e){return this.findAll(e,{amount:1})[0]},findAll:function(e,t){if(t=a.extend({amount:0,found:0},t||{}),"function"!=typeof e){var n=e.toLowerCase();e=function(e){return e.name().toLowerCase()==n}}var r=[];return this.children.forEach(function(n){e(n)&&(r.push(n),t.found++,t.amount&&t.found>=t.amount)||(r=r.concat(n.findAll(e)))}),r.filter(function(e){return!!e})},data:function(e,t){return 2==arguments.length&&(this._data[e]=t),this._data[e]},name:function(){return this._name},attributeList:function(){return E(this._attributes.slice(0))},attribute:function(e,t){if(2==arguments.length){if(null===t){var n=this;return void this._attributes.filter(function(t){return t.name===e}).forEach(function(e){var t=n._attributes.indexOf(e);~t&&n._attributes.splice(t,1)})}var r=this._attributes.map(function(e){return e.name}).indexOf(e.toLowerCase());~r?this._attributes[r].value=t:this._attributes.push({name:e,value:t})}return(a.find(this.attributeList(),function(t){return t.name==e})||{}).value},index:function(){return this.parent?this.parent.children.indexOf(this):-1},_setRepeat:function(e){e?this.repeatCount=parseInt(e,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(e){var t=this;e=(e=e||"").replace(/\*(\d+)?$/,function(e,n){return t._setRepeat(n),""}),this.abbreviation=e;var n=function(e){if(!~e.indexOf("{"))return null;var t=l.create(e);for(;!t.eol();)switch(t.peek()){case"[":case"(":t.skipToPair(t.peek(),v[t.peek()]);break;case"{":return t.start=t.pos,t.skipToPair("{","}"),{element:e.substring(0,t.start),text:S(t.current())};default:t.next()}}(e);n&&(e=n.element,this.content=this._text=n.text);var r=function(e){var t=[],n={"#":"id",".":"class"},r=null,i=l.create(e);for(;!i.eol();)switch(i.peek()){case"#":case".":null===r&&(r=i.pos);var o=n[i.peek()];i.next(),i.start=i.pos,i.eatWhile(m),t.push({name:o,value:i.current()});break;case"[":if(null===r&&(r=i.pos),i.start=i.pos,!i.skipToPair("[","]"))throw new Error("Invalid attribute set definition");t=t.concat(T(S(i.current())));break;default:i.next()}return t.length?{element:e.substring(0,r),attributes:E(t)}:null}(e);if(r&&(e=r.element,this._attributes=r.attributes),this._name=e,this._name&&!y.test(this._name))throw new Error("Invalid abbreviation")},valueOf:function(){var e=this.start,t=this.end,n=this.content,r=this;_.forEach(function(i){e=i(e,r,"start"),n=i(n,r,"content"),t=i(t,r,"end")});var i=this.children.map(function(e){return e.valueOf()}).join("");return n=s.insertChildContent(n,i,{keepVariable:!1}),e+a.padString(n,this.padding)+t},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!a.find(this.children,function(e){return e.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var e=this;e.children.length;)e=e.children[e.children.length-1];return e}};function S(e){return e.substring(1,e.length-1)}function C(e){var t=e.charAt(0);if('"'==t||"'"==t){(e=e.substr(1)).charAt(e.length-1)===t&&(e=e.substr(0,e.length-1))}return e}function T(e){var t=/^[\w\-:\$@]+\.?$/;return function(e){e=a.trim(e);for(var t,n=[],r=l(e);t=r.next();)if(" "==t){for(n.push(a.trim(r.current()));" "==r.peek();)r.next();r.start=r.pos}else if(('"'==t||"'"==t)&&!r.skipString(t))throw new Error("Invalid attribute set");return n.push(a.trim(r.current())),n}(e).map(function(e){if(t.test(e)){var n="";return"."==e.charAt(e.length-1)&&(n=e=e.substr(0,e.length-1)),{name:e,value:n}}if(~e.indexOf("=")){var r=e.split("=");return{name:r.shift(),value:C(r.join("="))}}return{name:g,value:C(e)}})}function E(e){var t={};return(e=e.map(function(e){return a.clone(e)})).filter(function(e){if(!(e.name in t))return t[e.name]=e;var n=t[e.name];return"class"==e.name.toLowerCase()?n.value+=(n.value.length?" ":"")+e.value:(n.value=e.value,n.isImplied=!!e.isImplied),!1})}function M(e){for(var t,n,r,i=e.children.length-1;i>=0;i--)if((n=e.children[i]).isRepeating())for(r=t=n.repeatCount,n.repeatCount=1,n.updateProperty("counter",1),n.updateProperty("maxCount",r);--t>0;)n.parent.addChild(n.clone(),i+1).updateProperty("counter",t+1).updateProperty("maxCount",r);return e.children.forEach(M),e}function A(e){for(var t=e.children.length-1;t>=0;t--){var n=e.children[t];n.isGroup()?n.replace(A(n).children):n.isEmpty()&&n.remove()}return e.children.forEach(A),e}function L(e){var t=e.charCodeAt(0);return t>64&&t<91||t>96&&t<123||t>47&&t<58||-1!="#.*:$-_!@|%".indexOf(e)}return _.push(function(e,t){return a.replaceCounter(e,t.counter,t.maxCount)}),_.push(r.abbrOutputProcessor.bind(r)),[c,h,f,u,p,d].forEach(function(e){e.preprocessor&&x.push(e.preprocessor.bind(e)),e.postprocessor&&w.push(e.postprocessor.bind(e))}),{DEFAULT_ATTR_NAME:g,parse:function(e,t){t=t||{};var n=function e(t){t=a.trim(t);for(var n,r=new k,i=r.addChild(),o=l.create(t),s=1e3,c=function(e){i.addChild(e)};!o.eol()&&--s>0;)switch(o.peek()){case"(":if(o.start=o.pos,!o.skipToPair("(",")"))throw new Error('Invalid abbreviation: mo matching ")" found for character at '+o.pos);var u=e(S(o.current()));(n=o.match(/^\*(\d+)?/,!0))&&i._setRepeat(n[1]),u.children.forEach(c);break;case">":i=i.addChild(),o.next();break;case"+":i=i.parent.addChild(),o.next();break;case"^":var p=i.parent||i;i=(p.parent||p).addChild(),o.next();break;default:o.start=o.pos,o.eatWhile(function(e){if("["==e||"{"==e){if(o.skipToPair(e,v[e]))return o.backUp(1),!0;throw new Error('Invalid abbreviation: mo matching "'+v[e]+'" found for character at '+o.pos)}if("+"==e){o.next();var t=o.eol()||~"+>^*".indexOf(o.peek());return o.backUp(1),t}return"("!=e&&L(e)}),i.setAbbreviation(o.current()),o.start=o.pos}if(s<1)throw new Error("Endless loop detected");return r}(e),r=this;if(t.contextNode){n._name=t.contextNode.name;var i={};n._attributes.forEach(function(e){i[e.name]=e}),t.contextNode.attributes.forEach(function(e){e.name in i?i[e.name].value=e.value:(e=a.clone(e),n._attributes.push(e),i[e.name]=e)})}return x.forEach(function(e){e(n,t,r)}),"counter"in t&&n.updateProperty("counter",t.counter),n=A(M(n)),w.forEach(function(e){e(n,t,r)}),n},expand:function(e,t){if(!e)return"";if("string"==typeof t)throw new Error("Deprecated use of `expand` method: `options` must be object");(t=t||{}).syntax||(t.syntax=a.defaultSyntax());var n=i.get(t.profile,t.syntax);r.resetTabstopIndex();var s=o.extract(e),l=this.parse(s[0],t),c=o.composeList(t.syntax,n,s[1]);return o.apply(l,c,n),l.valueOf()},AbbreviationNode:k,addPreprocessor:function(e){~x.indexOf(e)||x.push(e)},removeFilter:function(e){var t=x.indexOf(e);~t&&x.splice(t,1)},addPostprocessor:function(e){~w.indexOf(e)||w.push(e)},removePostprocessor:function(e){var t=w.indexOf(e);~t&&w.splice(t,1)},addOutputProcessor:function(e){~_.indexOf(e)||_.push(e)},removeOutputProcessor:function(e){var t=_.indexOf(e);~t&&_.splice(t,1)},isAllowedChar:function(e){return L(e=String(e))||~">+^[](){}".indexOf(e)}}})},{"../assets/profile":29,"../assets/stringStream":32,"../assets/tabStops":33,"../filter/main":49,"../generator/lorem":54,"../utils/abbreviation":69,"../utils/common":73,"./processor/attributes":57,"./processor/href":58,"./processor/pastedContent":59,"./processor/resourceMatcher":60,"./processor/tagName":61}],56:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r={tokens:null},i={init:function(e){this.source=e,this.ch="",this.chnum=-1,this.nextChar()},nextChar:function(){return this.ch=this.source.charAt(++this.chnum)},peek:function(){return this.source.charAt(this.chnum+1)}};function o(e,t){return(t=t||e.charCodeAt(0))>=97&&t<=122||t>=65&&t<=90||t>=1024&&t<=1279||"&"===e||"_"===e||"<"===e||">"===e||"="===e||"-"===e}function a(e,t){return(t=t||e.charCodeAt(0))>=48&&t<=57}var s=function(){for(var e="{}[]()+*=.,;:>~|\\%$#@^!".split(""),t="*^|$~".split(""),n={},r={},i=0;i<e.length;i+=1)n[e[i]]=!0;for(i=0;i<t.length;i+=1)r[t[i]]=!0;return function(e,t){return t?e in r:e in n}}();function l(e,t){r.tokens.push({value:e,type:t||e,start:null,end:null})}function c(e){var t=function(e){var t=function(e){for(var t=e.chnum,n=e.source.replace(/\r\n?/g,"\n"),r=e.source.substring(0,t+1).replace(/\r\n?/g,"\n").split("\n"),i=(r[r.length-1]||"").length,o=n.split("\n")[r.length-1]||"",a=Math.max(0,i-100),s=o.substr(a,200)+"\n",l=0;l<i-a-1;l++)s+="-";return s+="^",{line:r.length,ch:i,text:o,hint:s}}(i);r.tokens;r.tokens=null;var n="CSS parsing error at line "+t.line+", char "+t.ch+": "+e;return{name:"ParseError",message:n+="\n"+t.hint,hint:t.hint,line:t.line,ch:t.ch}}(e),n=new Error(t.message,"",t.line);throw n.line=t.line,n.ch=t.ch,n.name=t.name,n.hint=t.hint,n}function u(){var e,t=i,n=t.ch,r=n,o=n;for(n=t.nextChar();n!==r;)"\n"===n?"\\"===(e=t.nextChar())?o+=n+e:c("Unterminated string"):o+="\\"===n?n+t.nextChar():n,n=t.nextChar();return o+=n}function p(e){for(var t=i.ch,n=e?e+t:t,r=(t=i.nextChar()).charCodeAt(0);o(t,r)||a(t,r);)n+=t,r=(t=i.nextChar()).charCodeAt(0);l(n,"identifier")}function h(){var e=i.ch;return" "===e||"\t"===e?function(){for(var e=i.ch,t="";" "===e||"\t"===e;)t+=e,e=i.nextChar();l(t,"white")}():"/"===e?function(){var e,t=i,n=t.ch,r=n;if("/"===(e=t.nextChar()))for(;n&&"\n"!==e&&"\r"!==e;)r+=e,n=e,e=t.nextChar();else{if("*"!==e)return l(r,r);for(;n&&("*"!==n||"/"!==e);)r+=e,n=e,e=t.nextChar()}r+=e,t.nextChar(),l(r,"comment")}():'"'===e||"'"===e?function(){var e=u();i.nextChar(),l(e,"string")}():"("===e?function(){var e=i,t=e.ch,n=1,r=t,o=!1;for(t=e.nextChar();t&&!o;)"("===t?n++:")"===t?--n||(o=!0):'"'===t||"'"===t?t=u():""===t&&c("Unterminated brace"),r+=t,t=e.nextChar();l(r,"brace")}():"-"===e||"."===e||a(e)?function(){var e,t=i,n=t.ch,r=n,o="."===r;if(e=!a(n=t.nextChar()),o&&e)return l(r,".");if("-"===r&&e)return p("-");for(;""!==n&&(a(n)||!o&&"."===n);)"."===n&&(o=!0),r+=n,n=t.nextChar();l(r,"number")}():o(e)?p():s(e)?function(){var e=i,t=e.ch,n=e.nextChar();if("="===n&&s(t,!0))return l(t+=n,"match"),void e.nextChar();l(t,t)}():"\r"===e?("\n"===i.peek()&&(e+=i.nextChar()),l(e,"line"),void i.nextChar()):"\n"===e?(l(e,"line"),void i.nextChar()):void c("Unrecognized character '"+e+"'")}return{lex:function(e){if(i.init(e),r.tokens=[],e)for(;""!==i.ch;)h();else r.tokens.push(this.white());var t=r.tokens;return r.tokens=null,t},parse:function(e){for(var t,n=this.lex(e),r=0,i=0,o=n.length;i<o;i++)(t=n[i]).start=r,t.end=r+=t.value.length;return n},white:function(){return{value:"",type:"white",start:0,end:0}},toSource:function(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}}})},{}],57:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../../utils/common"),i=function(e){return e.isDefault},o=function(e){return e.isImplied},a=function(e){return!e.value};return{preprocessor:function(e,t,n){!function e(t,n){t.children.forEach(function(t){var s=t.attributeList(),l=t.attribute(n.DEFAULT_ATTR_NAME);if(void 0!==l){if(t.attribute(n.DEFAULT_ATTR_NAME,null),s.length){var c=r.find(s,i)||r.find(s,o)||r.find(s,a);if(c){var u=t.attribute(c.name),p=r.replaceUnescapedSymbol(u,"|",l);u==p&&(p=l),t.attribute(c.name,p)}}}else s.forEach(function(e){e.isImplied&&t.attribute(e.name,null)});e(t,n)})}(e,n)}}})},{"../../utils/common":73}],58:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../../assets/preferences"),i=e("../../utils/common"),o=e("./pastedContent");return r.define("href.autodetect",!0,"Enables or disables automatic URL recognition when wrapping\t\ttext with <code>&lt;a&gt;</code> tag. With this option enabled,\t\tif wrapped text matches URL or e-mail pattern it will be automatically\t\tinserted into <code>href</code> attribute."),r.define("href.urlPattern","^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","RegExp pattern to match wrapped URLs. Matched content will be inserts\t\tas-is into <code>href</code> attribute, only whitespace will be trimmed."),r.define("href.emailPattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$","RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,\t\twrapped content will be prefixed with <code>mailto:</code> in <code>href</code>\t\tattribute"),{postprocessor:function(e,t){if(r.get("href.autodetect")){var n=new RegExp(r.get("href.urlPattern"),"i"),a=new RegExp(r.get("href.emailPattern"),"i"),s=/^([a-z]+:)?\/\//i;e.findAll(function(e){if("a"==e.name().toLowerCase()&&!e.attribute("href")){var r=i.trim(o.pastedContent(e)||t.pastedContent);r&&(n.test(r)?(s.test(r)||(r="http://"+r),e.attribute("href",r)):a.test(r)&&e.attribute("href","mailto:"+r))}})}}}})},{"../../assets/preferences":28,"../../utils/common":73,"./pastedContent":59}],59:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../../utils/common"),i=e("../../utils/abbreviation"),o=e("../../assets/stringStream"),a=e("../../assets/range"),s="$#";function l(e){for(var t=[],n=o.create(e);!n.eol();){if("\\"==n.peek())n.next();else if(n.start=n.pos,n.match(s,!0)){t.push(a.create(n.start,s));continue}n.next()}return t}function c(e,t){return l(e).reverse().forEach(function(n){e=r.replaceSubstring(e,t,n)}),e}function u(e){return!!l(e.content).length||!!r.find(e.attributeList(),function(e){return!!l(e.value).length})}function p(e,t,n){var r=e.findAll(function(e){return u(e)});if(u(e)&&r.unshift(e),r.length)r.forEach(function(e){e.content=c(e.content,t),e._attributes.forEach(function(e){e.value=c(e.value,t)})});else{var o=e.deepestChild()||e;o.content=n?t:i.insertChildContent(o.content,t)}}return{pastedContent:function(e){var t=e.data("paste");return Array.isArray(t)?t[e.counter-1]:"function"==typeof t?t(e.counter-1,e.content):t||void 0},preprocessor:function(e,t){if(t.pastedContent){var n=r.splitByLines(t.pastedContent,!0).map(r.trim);e.findAll(function(e){if(e.hasImplicitRepeat)return e.data("paste",n),e.repeatCount=n.length})}},postprocessor:function(e,t){var n=this;!e.findAll(function(e){var t=n.pastedContent(e);return t&&p(e,t,!!e.data("pasteOverwrites")),!!t}).length&&t.pastedContent&&p(e,t.pastedContent)}}})},{"../../assets/range":30,"../../assets/stringStream":32,"../../utils/abbreviation":69,"../../utils/common":73}],60:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../../assets/resources"),i=e("../../assets/elements"),o=e("../../utils/common"),a=e("../../utils/abbreviation");return{preprocessor:function(e,t,n){!function e(t,n,o){t.children.slice(0).forEach(function(t){var s=r.getMatchedResource(t,n);"string"==typeof s&&(s=i.create("snippet",s)),t.data("resource",s);var l=i.type(s);if("snippet"==l){var c=s.data,u=t._text||t.content;u&&(c=a.insertChildContent(c,u)),t.content=c}else if("element"==l)t._name=s.name,Array.isArray(s.attributes)&&(t._attributes=[].concat(s.attributes,t._attributes));else if("reference"==l){var p=o.parse(s.data,{syntax:n});if(t.repeatCount>1){var h=p.findAll(function(e){return e.hasImplicitRepeat});h.length||(h=p.children),h.forEach(function(e){e.repeatCount=t.repeatCount,e.hasImplicitRepeat=!1})}var f=p.deepestChild();f&&(t.children.forEach(function(e){f.addChild(e)}),f.content=t.content),p.children.forEach(function(e){t.attributeList().forEach(function(t){e.attribute(t.name,t.value)})}),t.replace(p.children)}e(t,n,o)})}(e,t.syntax||o.defaultSyntax(),n)}}})},{"../../assets/elements":24,"../../assets/resources":31,"../../utils/abbreviation":69,"../../utils/common":73}],61:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../../resolver/tagName");return{postprocessor:function e(t){return t.children.forEach(function(t){(t.hasImplicitName()||t.data("forceNameResolving"))&&(t._name=r.resolve(t.parent.name()),t.data("nameResolved",!0)),e(t)}),t}}})},{"../../resolver/tagName":67}],62:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/stringStream"),i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},o=null,a=null;function s(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(c("atom","]]>")):null:e.match("--")?n(c("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!==(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=s;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return"meta"}}(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=c("meta","?>"),"meta";a=e.eat("/")?"closeTag":"openTag",e.eatSpace(),o="";for(var i;i=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)o+=i;return t.tokenize=l,"tag"}if("&"==r){return(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}return e.eatWhile(/[^&<]/),"text"}function l(e,t){var n=e.next();return">"==n||"/"==n&&e.eat(">")?(t.tokenize=s,a=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(a="equals",null):/[\'\"]/.test(n)?(t.tokenize=(r=n,function(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=l;break}return"string"}),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word");var r}function c(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=s;break}n.next()}return e}}var u,p=null;function h(){for(var e=arguments.length-1;e>=0;e--)p.cc.push(arguments[e])}function f(){return h.apply(null,arguments),!0}function d(){p.context&&(p.context=p.context.prev)}function y(e){if("openTag"==e)return p.tagName=o,f(g,(r=p.startOfLine,function(e){return"selfcloseTag"==e||"endTag"==e&&i.autoSelfClosers.hasOwnProperty(p.tagName.toLowerCase())?(m(p.tagName.toLowerCase()),f()):"endTag"==e?(m(p.tagName.toLowerCase()),function(e,t){var n=i.doNotIndent.hasOwnProperty(e)||p.context&&p.context.noIndent;p.context={prev:p.context,tagName:e,indent:p.indented,startOfLine:t,noIndent:n}}(p.tagName,r),f()):f()}));if("closeTag"==e){var t=!1;return p.context?p.context.tagName!=o&&(i.implicitlyClosed.hasOwnProperty(p.context.tagName.toLowerCase())&&d(),t=!p.context||p.context.tagName!=o):t=!0,t&&(u="error"),f((n=t,function(e){return n&&(u="error"),"endTag"==e?(d(),f()):(u="error",f(arguments.callee))}))}var n,r;return f()}function m(e){for(var t;;){if(!p.context)return;if(t=p.context.tagName.toLowerCase(),!i.contextGrabbers.hasOwnProperty(t)||!i.contextGrabbers[t].hasOwnProperty(e))return;d()}}function g(e){return"word"==e?(u="attribute",f(v,g)):"endTag"==e||"selfcloseTag"==e?h():(u="error",f(g))}function v(e){return"equals"==e?f(b,g):(i.allowMissing||(u="error"),"endTag"==e||"selfcloseTag"==e?h():f())}function b(e){return"string"==e?f(x):"word"==e&&i.allowUnquoted?(u="string",f()):(u="error","endTag"==e||"selfCloseTag"==e?h():f())}function x(e){return"string"==e?f(x):h()}function w(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=0),e.eatSpace())return null;u=a=o=null;var n=t.tokenize(e,t);if(t.type=a,(n||a)&&"comment"!=n)for(p=t;;){if((t.cc.pop()||y)(a||n))break}return t.startOfLine=!1,u||n}return{parse:function(e,t){t=t||0;for(var n={tokenize:s,cc:[],indented:0,startOfLine:!0,tagName:null,context:null},i=r.create(e),o=[];!i.eol();)o.push({type:w(i,n),start:i.start+t,end:i.pos+t}),i.start=i.pos;return o}}})},{"../assets/stringStream":32}],63:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var i=e("../utils/common");!function(e){if(void 0===r||!r.amd)try{fs=e("fs"),path=e("path")}catch(e){}}(e),n.exports=function(e){e&&i.extend(n.exports,e)};function o(e){return/^https?:\/\//.test(e)}return i.extend(n.exports,{_parseParams:function(e){var t={path:e[0],size:0};return e=i.toArray(e,1),t.callback=e[e.length-1],(e=e.slice(0,e.length-1)).length&&(t.size=e[0]),t},_read:function(t,n){if(o(t.path))var r=e(/^https:/.test(t.path)?"https":"http").get(t.path,function(e){var i=[],o=0,a=!1;e.on("data",function(e){o+=e.length,i.push(e),t.size&&o>=t.size&&(a=!0,n(null,Buffer.concat(i)),r.abort())}).on("end",function(){a||(a=!0,n(null,Buffer.concat(i)))})}).on("error",n);else if(t.size){var i=fs.openSync(t.path,"r"),a=new Buffer(t.size);fs.read(i,a,0,t.size,null,function(e,t){n(e,a)})}else n(null,fs.readFileSync(t.path))},read:function(e,t,n){var r=this._parseParams(arguments);this._read(r,function(e,t){r.callback(e,e?"":function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(String.fromCharCode(e[n]));return t.join("")}(t))})},readText:function(e,t,n){var r=this._parseParams(arguments);this._read(r,function(e,t){r.callback(e,e?"":t.toString())})},locateFile:function(e,t){if(o(t))return t;var n,r=e;for(t=t.replace(/^\/+/,"");r&&r!==path.dirname(r);)if(r=path.dirname(r),n=path.join(r,t),fs.existsSync(n))return n;return""},createPath:function(e,t,n){var r=fs.statSync(e);return r&&!r.isDirectory()&&(e=path.dirname(e)),n(path.resolve(e,t))},save:function(e,t){fs.writeFileSync(e,t,"ascii")},getExt:function(e){var t=(e||"").match(/\.([\w\-]+)$/);return t?t[1].toLowerCase():""}})})},{"../utils/common":73}],64:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences"),i=e("../assets/resources"),o=e("../assets/stringStream"),a=e("../assets/caniuse"),s=e("../utils/common"),l=e("../utils/template"),c=e("../editTree/css"),u={prefix:"emmet",obsolete:!1,transformName:function(e){return"-"+this.prefix+"-"+e},properties:function(){return function(e){var t=r.getArray(e),n=r.getArray(e+"Addon");n&&n.forEach(function(e){"-"==e.charAt(0)?t=s.without(t,e.substr(1)):("+"==e.charAt(0)&&(e=e.substr(1)),t.push(e))});return t}("css."+this.prefix+"Properties")||[]},supports:function(e){return~this.properties().indexOf(e)}},p={};r.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),r.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),r.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),r.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),r.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),r.define("css.syntaxes","css, less, sass, scss, stylus, styl","List of syntaxes that should be treated as CSS dialects."),r.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you."),r.define("less.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax"),r.define("scss.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax"),r.define("sass.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax"),r.define("stylus.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax");var h=l("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),f=l("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>."),d={webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"};Object.keys(d).forEach(function(e){r.define("css."+e+"Properties",d[e],h({vendor:e})),r.define("css."+e+"PropertiesAddon","",f({vendor:e}))}),r.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),r.define("css.intUnit","px","Default unit for integer values"),r.define("css.floatUnit","em","Default unit for float values"),r.define("css.keywords","auto, inherit, all","A comma-separated list of valid keywords that can be used in CSS abbreviations."),r.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),r.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),r.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),r.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),r.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),r.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),r.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name.");function y(e){var t=e&&e.charCodeAt(0);return e&&"."==e||t>47&&t<58}function m(e){return e=s.trim(e),!/\/\*|\n|\r/.test(e)&&(!!/^[a-z0-9\-]+\s*\:/i.test(e)&&2==e.replace(/\$\{.+?\}/g,"").split(":").length)}function g(e){"-"!=e.charAt(0)||/^\-[\.\d]/.test(e)||(e=e.replace(/^\-+/,""));var t=e.charAt(0);return"#"==t?function(e){var t=e.replace(/^#+/,"")||"0";if("t"==t.toLowerCase())return"transparent";var n="";t=t.replace(/\.(\d+)$/,function(e){return n="0"+e,""});var i=s.repeatString,o=null;switch(t.length){case 1:o=i(t,6);break;case 2:o=i(t,3);break;case 3:o=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2);break;case 4:o=t+t.substr(0,2);break;case 5:o=t+t.charAt(0);break;default:o=t.substr(0,6)}if(n)return function(e,t){var n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return"rgba("+[n,r,i,t].join(", ")+")"}(o,n);if(r.get("css.color.short")){var a=o.split("");a[0]==a[1]&&a[2]==a[3]&&a[4]==a[5]&&(o=a[0]+a[2]+a[4])}switch(r.get("css.color.case")){case"upper":o=o.toUpperCase();break;case"lower":o=o.toLowerCase()}return"#"+o}(e):"$"==t?s.escapeText(e):v(e)}function v(e){var t=r.getDict("css.keywordAliases");return e in t?t[e]:e}function b(e){return~r.getArray("css.keywords").indexOf(v(e))}function x(e,t){var n=p[t];return n||(n=s.find(p,function(e){return e.prefix==t})),n&&n.supports(e)}function w(e){var t=a.resolvePrefixes(e);return t||(t=[],Object.keys(p).forEach(function(n){x(e,n)&&t.push(p[n].prefix)}),t.length||(t=null)),t}function _(e,t){"string"==typeof t&&(t={prefix:t}),p[e]=s.extend({},u,t)}function k(e,t){if(t){"styl"==t&&(t="stylus");var n=r.get(t+"."+e);if(void 0!==n)return n}return r.get("css."+e)}function S(e,t,n){return"string"!=typeof e&&(e=e.data),m(e)?(t&&(~e.indexOf(";")?e=e.split(";").join(" !important;"):e+=" !important"),function(e,t){var n=e.indexOf(":");return(e=e.substring(0,n).replace(/\s+$/,"")+k("valueSeparator",t)+s.trim(e.substring(n+1))).replace(/\s*;\s*$/,k("propertyEnd",t))}(e,n)):e}return _("w",{prefix:"webkit"}),_("m",{prefix:"moz"}),_("s",{prefix:"ms"}),_("o",{prefix:"o"}),(n=n||{}).exports={addPrefix:_,supportsPrefix:x,resolve:function(e,t){var n=r.getArray("css.syntaxes");return n&&~n.indexOf(t)&&e.isElement()?this.expandToSnippet(e.abbreviation,t):null},prefixed:function(e,t){return x(e,t)?"-"+t+"-"+e:e},listPrefixes:function(){return p.map(function(e){return e.prefix})},getPrefix:function(e){return p[e]},removePrefix:function(e){e in p&&delete p[e]},extractPrefixes:function(e){if("-"!=e.charAt(0))return{property:e,prefixes:null};for(var t,n=1,r=e.length,i=[];n<r;){if("-"==(t=e.charAt(n))){n++;break}if(!(t in p)){i.length=0,n=1;break}i.push(t),n++}return n==r-1&&(n=1,i.length=1),{property:e.substring(n),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(e,t){t=t||"css";for(var n,r=0,o=e.length,a="";r<o;){if(y(n=e.charAt(r))||"#"==n||"$"==n||"-"==n&&y(e.charAt(r+1))){a=e.substring(r);break}r++}for(var s=e.substring(0,e.length-a.length),l=[];~s.indexOf("-")&&!i.findSnippet(t,s);){var c=s.split("-"),u=c.pop();if(!b(u))break;l.unshift(u),s=c.join("-")}return l.join("-")+a},parseValues:function(e){for(var t=o.create(e),n=[],r=null;r=t.next();)"$"==r?(t.match(/^[^\$]+/,!0),n.push(t.current())):"#"==r?(t.match(/^t|[0-9a-f]+(\.\d+)?/i,!0),n.push(t.current())):"-"==r?((b(s.last(n))||t.start&&y(e.charAt(t.start-1)))&&(t.start=t.pos),t.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),n.push(t.current())):(t.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),n.push(t.current())),t.start=t.pos;return n.filter(function(e){return!!e}).map(g)},extractValues:function(e){var t=this.findValuesInAbbreviation(e);return t?{property:e.substring(0,e.length-t.length).replace(/-$/,""),values:this.parseValues(t)}:{property:e,values:null}},normalizeValue:function(e,t){t=(t||"").toLowerCase();var n=r.getArray("css.unitlessProperties");return e.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(e,i,o){return o||"0"!=i&&!~n.indexOf(t)?o?i+function(e){var t=r.getDict("css.unitAliases");return e in t?t[e]:e}(o):i.replace(/\.$/,"")+r.get(~i.indexOf(".")?"css.floatUnit":"css.intUnit"):i})},expand:function(e,t,n){n=n||"css";var o=r.get(n+".autoInsertVendorPrefixes"),a=/^(.+)\!$/.test(e);a&&(e=RegExp.$1);var l=i.findSnippet(n,e);if(l&&!o)return S(l,a,n);var u=this.extractPrefixes(e),h=this.extractValues(u.property),f=s.extend(u,h);if(l?f.values=null:l=i.findSnippet(n,f.property),!l&&r.get("css.fuzzySearch")&&(l=i.fuzzyFindSnippet(n,f.property,parseFloat(r.get("css.fuzzySearchMinScore")))),l)"string"!=typeof l&&(l=l.data);else{if(!f.property)return null;l=f.property+":${1};"}if(!m(l))return l;var d=this.splitSnippet(l),y=[];!t&&f.values&&(t=f.values.map(function(e){return this.normalizeValue(e,d.name)},this).join(" ")+";"),d.value=t||d.value;var g,v=[];if((("all"==f.prefixes||!f.prefixes&&o?function(e,t){var n=[],r=w(e);if(r){var i={};Object.keys(p).forEach(function(e){i[p[e].prefix]=e}),n=r.map(function(e){return i[e]})}return n.length||t||Object.keys(p).forEach(function(e){p[e].obsolete||n.push(e)}),n}(d.name,o&&"all"!=f.prefixes):f.prefixes)||[]).forEach(function(e){e in p&&(g=p[e].transformName(d.name),v.push(g),y.push(S(g+":"+d.value,a,n)))}),y.push(S(d.name+":"+d.value,a,n)),v.push(d.name),y=function(e,t,n){var r=[],i={},o=c.findParts(e.value);return o.reverse(),o.forEach(function(t){var n=t.substring(e.value);(w(n)||[]).forEach(function(o){i[o]||(i[o]=e.value,r.push(o)),i[o]=s.replaceSubstring(i[o],"-"+o+"-"+n,t)})}),r.map(function(r){return S(e.name+":"+i[r],t,n)})}(d,a,n).concat(y),r.get("css.alignVendor")){var b=s.getStringsPads(v);y=y.map(function(e,t){return b[t]+e})}return y},expandToSnippet:function(e,t){var n=this.expand(e,null,t);return null===n?null:Array.isArray(n)?n.join("\n"):"string"!=typeof n?n.data:n+""},splitSnippet:function(e){if(-1==(e=s.trim(e)).indexOf(":"))return{name:e,value:"${1};"};var t=e.split(":");return{name:s.trim(t.shift()),value:s.trim(t.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")}},getSyntaxPreference:k,transformSnippet:S,vendorPrefixes:w},n.exports})},{"../assets/caniuse":23,"../assets/preferences":28,"../assets/resources":31,"../assets/stringStream":32,"../editTree/css":37,"../utils/common":73,"../utils/template":77}],65:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/preferences"),i=e("../assets/resources"),o=e("../utils/common"),a=(e("../assets/stringStream"),e("./css")),s=e("../assets/range"),l=e("../editTree/css"),c=e("../utils/editor"),u=e("./gradient/linear"),p=["css","less","sass","scss","stylus","styl"];r.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),r.define("css.gradient.oldWebkit",!1,"Generate gradient definition for old Webkit implementations"),r.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),r.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),r.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers.");function h(e){var t=a.vendorPrefixes(e);return t||(t=r.getArray("css.gradient.prefixes")),t||[]}function f(e,t){var n=[],i=t.name(),o=r.get("css.gradient.omitDefaultDirection");r.get("css.gradient.fallback")&&~i.toLowerCase().indexOf("background")&&n.push({name:"background-color",value:"${1:"+e[0].gradient.colorStops[0].color+"}"});var s=t.value();return h("linear-gradient").forEach(function(t){var l=a.prefixed(i,t);if("webkit"==t&&r.get("css.gradient.oldWebkit"))try{n.push({name:l,value:d(e,s,{prefix:t,oldWebkit:!0,omitDefaultDirection:o})})}catch(e){}n.push({name:l,value:d(e,s,{prefix:t,omitDefaultDirection:o})})}),n.sort(function(e,t){return t.name.length-e.name.length})}function d(e,t,n){return n=n||{},(e=o.clone(e)).reverse().forEach(function(e,r){var i=!r&&n.placeholder?n.placeholder:"",a=n.oldWebkit?e.gradient.stringifyOldWebkit(n):e.gradient.stringify(n);t=o.replaceSubstring(t,a+i,e.matchedPart)}),t}function y(e){"string"!=typeof e&&(e=e.name());var t=(a.vendorPrefixes(e)||[]).map(function(t){return"-"+t+"-"+e});return t.push(e),t}return(n=n||{}).exports={findGradients:function(e){var t=e.value(),n=[];return e.valueParts().forEach(function(e){var r=e.substring(t);if(u.isLinearGradient(r)){var i=u.parse(r);i&&n.push({gradient:i,matchedPart:e})}}),n.length?n:null},gradientsFromCSSProperty:function(e,t){var n=l.propertyFromPosition(e,t);if(n){var r=this.findGradients(n);if(r)return{property:n,gradients:r}}return null},expandAbbreviationHandler:function(e,t,n){var s=c.outputInfo(e,t,n);if(!~p.indexOf(s.syntax))return!1;var l=e.getCaretPos(),u=s.content,h=this.gradientsFromCSSProperty(u,l);if(h){if(!function(e,t,n){if("css"==(n=n||"css")||"less"==n||"scss"==n)return!0;for(var r=e.property.valueRange(!0).start,i=e.gradients,o=i.length-1;o>=0;o--)if(i[o].matchedPart.start+r>=t)return!1;return!0}(h,l,s.syntax))return!1;var m=h.property,g=m.parent,v=g.options.offset||0,b=v+g.toString().length;if(/[\n\r]/.test(m.value())){var x=m.valueRange(!0).start+o.last(h.gradients).matchedPart.end;u=o.replaceSubstring(u,";",x);var w=this.gradientsFromCSSProperty(u,l);w&&(g=(m=(h=w).property).parent)}m.end(";");var _=function(e,t){var n=i.findSnippet(t,e);if(!n&&r.get("css.fuzzySearch")){var o=parseFloat(r.get("css.fuzzySearchMinScore"));n=i.fuzzyFindSnippet(t,e,o)}if(n)return"string"!=typeof n&&(n=n.data),a.splitSnippet(n).name}(m.name(),t);return _&&m.name(_),function(e,t){var n=e.parent,i=r.get("css.alignVendor"),a=r.get("css.gradient.omitDefaultDirection"),s=e.styleSeparator,l=e.styleBefore;if(n.getAll(y(e)).forEach(function(t){t!=e&&/gradient/i.test(t.value())&&(t.styleSeparator.length<s.length&&(s=t.styleSeparator),t.styleBefore.length<l.length&&(l=t.styleBefore),n.remove(t))}),i){if(l!=e.styleBefore){var c=e.fullRange();n._updateSource(l,c.start,c.start+e.styleBefore.length),e.styleBefore=l}s!=e.styleSeparator&&(n._updateSource(s,e.nameRange().end,e.valueRange().start),e.styleSeparator=s)}var u=e.value(),p=f(t,e);if(i){var h=[],m=[];p.forEach(function(e){h.push(e.name),m.push(e.value)}),m.push(e.value()),h.push(e.name());var g=o.getStringsPads(m.map(function(e){return e.substring(0,e.indexOf("("))})),v=o.getStringsPads(h);e.name(v[v.length-1]+e.name()),p.forEach(function(e,t){e.name=v[t]+e.name,e.value=g[t]+e.value}),e.value(g[g.length-1]+e.value())}p.forEach(function(t){n.add(t.name,t.value,n.indexOf(e))}),e.value(d(t,u,{placeholder:"${2}",omitDefaultDirection:a}))}(m,h.gradients),e.replaceContent(g.toString(),v,b,!0),!0}return this.expandGradientOutsideValue(e,t)},expandGradientOutsideValue:function(e,t){var n=r.get("css.gradient.defaultProperty"),i=r.get("css.gradient.omitDefaultDirection");if(!n)return!1;var l=String(e.getContent()),c=s.create(e.getCurrentLineRange()),u="a{"+n+": "+c.substring(l).replace(/^\s+/,function(e){return c.start+=e.length,""}).replace(/\s+$/,function(e){return c.end-=e.length,""})+";}",p=this.gradientsFromCSSProperty(u,u.length-2);if(p){var h=f(p.gradients,p.property);h.push({name:p.property.name(),value:d(p.gradients,p.property.value(),{placeholder:"${2}",omitDefaultDirection:i})});var y=a.getSyntaxPreference("valueSeparator",t),m=a.getSyntaxPreference("propertyEnd",t);if(r.get("css.alignVendor")){var g=o.getStringsPads(h.map(function(e){return e.value.substring(0,e.value.indexOf("("))}));h.forEach(function(e,t){e.value=g[t]+e.value})}return h=h.map(function(e){return e.name+y+e.value+m}),e.replaceContent(h.join("\n"),c.start,c.end),!0}return!1},reflectValueHandler:function(e){var t=r.get("css.gradient.omitDefaultDirection"),n=this.findGradients(e);if(!n)return!1;var i=this,o=e.value();return e.parent.getAll(y(e)).forEach(function(r){if(r!==e){var a=i.findGradients(r);if(a){var s=r.value(),l=a[0].matchedPart.substring(s),c="";/^\s*\-([a-z]+)\-/.test(l)&&(c=RegExp.$1),r.value(d(n,o,{prefix:c,omitDefaultDirection:t}))}}}),!0}}})},{"../assets/preferences":28,"../assets/range":30,"../assets/resources":31,"../assets/stringStream":32,"../editTree/css":37,"../utils/common":73,"../utils/editor":75,"./css":64,"./gradient/linear":66}],66:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../../assets/stringStream"),i=e("../../utils/common"),o={bottom:0,"bottom left":45,left:90,"top left":135,top:180,"top right":225,right:270,"bottom right":315,"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},a=["top","to bottom","0deg"],s=/^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i,l=/(\d+)deg/i,c=/top|bottom|left|right/i;function u(e){this.colorStops=[],this.direction=180;for(var t,n,o=r.create(i.trim(e));t=o.next();)","==o.peek()?(n=o.current(),this.colorStops.length||!l.test(n)&&!c.test(n)?this.addColorStop(n):this.direction=h(n),o.next(),o.eatSpace(),o.start=o.pos):"("==t&&o.skipTo(")");this.addColorStop(o.current())}u.prototype={type:"linear-gradient",addColorStop:function(e,t){(e=p(e||""))&&(e=this.parseColorStop(e),void 0===t?this.colorStops.push(e):this.colorStops.splice(t,0,e))},parseColorStop:function(e){var t=null;if(e=(e=p(e)).replace(/^(\w+\(.+?\))\s*/,function(e,n){return t=n,""}),!t){var n=e.split(" ");t=n[0],e=n[1]||""}var r={color:t};return e&&e.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(e,t,n){r.position=t,~t.indexOf(".")?n="":n||(n="%"),n&&(r.unit=n)}),r},stringify:function(e){var t="linear-gradient";(e=e||{}).prefix&&(t="-"+e.prefix+"-"+t);var n=this.colorStops.map(function(e){var t=e.position?" "+e.position+(e.unit||""):"";return e.color+t}),r=f(this.direction,!!e.prefix);return e.omitDefaultDirection&&~a.indexOf(r)||n.unshift(r),t+"("+n.join(", ")+")"},stringifyOldWebkit:function(){var e=this.colorStops.map(function(e){return i.clone(e)});return e.forEach(function(e){if("position"in e){if(!~e.position.indexOf(".")&&"%"!=e.unit)throw"Can't convert color stop '"+(e.position+(e.unit||""))+"'";e.position=parseFloat(e.position)/("%"==e.unit?100:1)}}),this._fillImpliedPositions(e),e=e.map(function(t,n){return t.position||n?1==t.position&&n==e.length-1?"to("+t.color+")":"color-stop("+t.position.toFixed(2).replace(/\.?0+$/,"")+", "+t.color+")":"from("+t.color+")"}),"-webkit-gradient(linear, "+function(e){if(e=f(e,!0),l.test(e))throw"The direction is an angle that can’t be converted.";var t=function(t){return~e.indexOf(t)?"100%":"0"};return t("left")+" "+t("top")+", "+t("right")+" "+t("bottom")}((this.direction+180)%360)+", "+e.join(", ")+")"},_fillImpliedPositions:function(e){var t=0;e.forEach(function(n,r){if(!r)return n.position=n.position||0;if(r!=e.length-1||"position"in n||(n.position=1),"position"in n){var i=e[t].position||0,o=(n.position-i)/(r-t);e.slice(t,r).forEach(function(e,t){e.position=i+o*t}),t=r}})},valueOf:function(){return this.stringify()}};function p(e){return i.trim(e).replace(/\s+/g," ")}function h(e){if("number"==typeof e)return e;if(e=p(e).toLowerCase(),l.test(e))return+RegExp.$1;var t=/^to\s/.test(e)?"to ":"",n=~e.indexOf("left")&&"left",r=~e.indexOf("right")&&"right",i=~e.indexOf("top")&&"top",a=~e.indexOf("bottom")&&"bottom",s=p(t+(i||a||"")+" "+(n||r||""));return o[s]||0}function f(e,t){for(var n=/^to\s/,r=Object.keys(o).filter(function(e){var r=n.test(e);return t?!r:r}),i=0;i<r.length;i++)if(o[r[i]]==e)return r[i];return t&&(e=(e+270)%360),e+"deg"}return{parse:function(e){if(!this.isLinearGradient(e))throw"Invalid linear gradient definition:\n"+e;return new u(e=e.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/gi,""))},isLinearGradient:function(e){return s.test(e)},resolveDirection:h,stringifyDirection:f}})},{"../../assets/stringStream":32,"../../utils/common":73}],67:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},o={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(e){return(e=(e||"").toLowerCase())in o?this.getMapping(e):this.isInlineLevel(e)?"span":"div"},getMapping:function(e){return o[e.toLowerCase()]},isInlineLevel:function(e){return this.isTypeOf(e,"inlineLevel")},isBlockLevel:function(e){return this.isTypeOf(e,"blockLevel")},isEmptyElement:function(e){return this.isTypeOf(e,"empty")},isTypeOf:function(e,t){return~i[t].indexOf(e)},addMapping:function(e,t){o[e]=t},removeMapping:function(e){e in o&&delete o[e]},addElementToCollection:function(e,t){i[t]||(i[t]=[]);var n=this.getCollection(t);~n.indexOf(e)||n.push(e)},removeElementFromCollection:function(e,t){t in i&&(i[t]=r.without(this.getCollection(t),e))},getCollection:function(e){return i[e]}}})},{"../utils/common":73}],68:[function(e,t,n){t.exports={variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n"},css:{filters:"css",profile:"css",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n\t|\n}","@media":"@media ${1:screen} {\n\t|\n}","@f":"@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}","@f+":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:f":"display:flex;","d:if":"display:inline-flex;","d:i":"display:inline;","d:ib":"display:inline-block;","d:ib+":"display: inline-block;\n*display: inline;\n*zoom: 1;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;","olw:tn":"outline-width:thin;","olw:m":"outline-width:medium;","olw:tc":"outline-width:thick;",ols:"outline-style:|;","ols:n":"outline-style:none;","ols:dt":"outline-style:dotted;","ols:ds":"outline-style:dashed;","ols:s":"outline-style:solid;","ols:db":"outline-style:double;","ols:g":"outline-style:groove;","ols:r":"outline-style:ridge;","ols:i":"outline-style:inset;","ols:o":"outline-style:outset;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bfv:"backface-visibility:|;","bfv:h":"backface-visibility:hidden;","bfv:v":"backface-visibility:visible;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:#${1:000};","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:scz":"transform: scaleZ(${1:z});","trf:sc3":"transform: scale3d(${1:x}, ${2:y}, ${3:z});","trf:r":"transform: rotate(${1:angle});","trf:rx":"transform: rotateX(${1:angle});","trf:ry":"transform: rotateY(${1:angle});","trf:rz":"transform: rotateZ(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});","trf:tz":"transform: translateZ(${1:z});","trf:t3":"transform: translate3d(${1:tx}, ${2:ty}, ${3:tz});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",wm:"writing-mode:${1:lr-tb};","wm:lrt":"writing-mode:lr-tb;","wm:lrb":"writing-mode:lr-bt;","wm:rlt":"writing-mode:rl-tb;","wm:rlb":"writing-mode:rl-bt;","wm:tbr":"writing-mode:tb-rl;","wm:tbl":"writing-mode:tb-lr;","wm:btl":"writing-mode:bt-lr;","wm:btr":"writing-mode:bt-rl;",lts:"letter-spacing:|;","lts-n":"letter-spacing:normal;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',"ff:t":'font-family: "Times New Roman", Times, Baskerville, Georgia, serif;',"ff:v":"font-family: Verdana, Geneva, sans-serif;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op+":"opacity: $1;\nfilter: alpha(opacity=$2);","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",fxd:"flex-direction:|;","fxd:r":"flex-direction:row;","fxd:rr":"flex-direction:row-reverse;","fxd:c":"flex-direction:column;","fxd:cr":"flex-direction:column-reverse;",fxw:"flex-wrap: |;","fxw:n":"flex-wrap:nowrap;","fxw:w":"flex-wrap:wrap;","fxw:wr":"flex-wrap:wrap-reverse;",fxf:"flex-flow:|;",jc:"justify-content:|;","jc:fs":"justify-content:flex-start;","jc:fe":"justify-content:flex-end;","jc:c":"justify-content:center;","jc:sb":"justify-content:space-between;","jc:sa":"justify-content:space-around;",ai:"align-items:|;","ai:fs":"align-items:flex-start;","ai:fe":"align-items:flex-end;","ai:c":"align-items:center;","ai:b":"align-items:baseline;","ai:s":"align-items:stretch;",ac:"align-content:|;","ac:fs":"align-content:flex-start;","ac:fe":"align-content:flex-end;","ac:c":"align-content:center;","ac:sb":"align-content:space-between;","ac:sa":"align-content:space-around;","ac:s":"align-content:stretch;",ord:"order:|;",fxg:"flex-grow:|;",fxsh:"flex-shrink:|;",fxb:"flex-basis:|;",fx:"flex:|;",as:"align-self:|;","as:a":"align-self:auto;","as:fs":"align-self:flex-start;","as:fe":"align-self:flex-end;","as:c":"align-self:center;","as:b":"align-self:baseline;","as:s":"align-self:stretch;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!DOCTYPE html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"\x3c!-- |${child} --\x3e","cc:ie6":"\x3c!--[if lte IE 6]>\n\t${child}|\n<![endif]--\x3e","cc:ie":"\x3c!--[if IE]>\n\t${child}|\n<![endif]--\x3e","cc:noie":"\x3c!--[if !IE]>\x3c!--\x3e\n\t${child}|\n\x3c!--<![endif]--\x3e"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',"acr|acronym":'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',"link:im|link:import":'<link rel="import" href="${1:component}.html" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:'<script !src="">',"script:src":'<script src="">',img:'<img src="" alt="" />',"img:s|img:srcset":'<img srcset="" src="" alt="" />',"img:z|img:sizes":'<img sizes="" srcset="" src="" alt="" />',picture:"<picture>","src|source":"<source/>","src:sc|source:src":'<source src="" type=""/>',"src:s|source:srcset":'<source srcset=""/>',"src:m|source:media":'<source media="(${1:min-width: })" srcset=""/>',"src:t|source:type":'<source srcset="|" type="${1:image/}"/>',"src:z|source:sizes":'<source sizes="" srcset=""/>',"src:mt|source:media:type":'<source media="(${1:min-width: })" srcset="" type="${2:image/}"/>',"src:mz|source:media:sizes":'<source media="(${1:min-width: })" sizes="" srcset=""/>',"src:zt|source:sizes:type":'<source sizes="" srcset="" type="${1:image/}"/>',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":'<input type="submit" value="" />',"input:i|input:image":'<input type="image" src="" alt="" />',"input:b|input:button":'<input type="button" value="" />',isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',"select:d|select:disabled":"select[disabled.]","opt|option":'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',marquee:'<marquee behavior="" direction="">',"menu:c|menu:context":"menu[type=context]>","menu:t|menu:toolbar":"menu[type=toolbar]>",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=${charset}]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option","pic+":"picture>source:srcset+img"}},xml:{extends:"html",profile:"xml",filters:"html"},xsl:{extends:"html",profile:"xml",filters:"html, xsl",abbreviations:{"tm|tmatch":'<xsl:template match="" mode="">',"tn|tname":'<xsl:template name="">',call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","wh|xsl:when":'<xsl:when test="">',ot:"<xsl:otherwise>",if:'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',var:'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',"for|each":'<xsl:for-each select="">',tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml",extends:"html",profile:"xml"},jade:{filters:"jade",extends:"html",profile:"xml"},jsx:{filters:"jsx, html",extends:"html",profile:"xml"},slim:{filters:"slim",extends:"html",profile:"xml"},scss:{extends:"css"},sass:{extends:"css"},less:{extends:"css"},stylus:{extends:"css"},styl:{extends:"stylus"}}},{}],69:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/elements"),i=e("../assets/tabStops"),o=e("../utils/common"),a=e("../resolver/tagName");return{isUnary:function(e){if(e.children.length||e._text||this.isSnippet(e))return!1;var t=e.data("resource");return t&&t.is_empty},isInline:function(e){return e.isTextNode()||!e.name()||a.isInlineLevel(e.name())},isBlock:function(e){return this.isSnippet(e)||!this.isInline(e)},isSnippet:function(e){return r.is(e.data("resource"),"snippet")},hasTagsInContent:function(e){return o.matchesTag(e.content)},hasBlockChildren:function(e){return this.hasTagsInContent(e)&&this.isBlock(e)||e.children.some(function(e){return this.isBlock(e)},this)},insertChildContent:function(e,t,n){n=o.extend({keepVariable:!0,appendIfNoChild:!0},n||{});var r=!1;return e=i.replaceVariables(e,function(i,a,s){var l=i;return"child"==a&&(l=o.padString(t,o.getLinePaddingFromPosition(e,s.start)),r=!0,n.keepVariable&&(l+=i)),l}),!r&&n.appendIfNoChild&&(e+=t),e}}})},{"../assets/elements":24,"../assets/tabStops":33,"../resolver/tagName":67,"../utils/common":73}],70:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./common"),i=e("./cssSections"),o=e("../parser/abbreviation"),a=e("../assets/htmlMatcher"),s=e("../editTree/xml"),l=e("../assets/range"),c=e("../assets/resources");return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(e){for(var t=e.length,n=-1,i=0,a=0,s=0;;){if(--t<0){n=0;break}var l=e.charAt(t);if("]"==l)a++;else if("["==l){if(!a){n=t+1;break}a--}else if("}"==l)s++;else if("{"==l){if(!s){n=t+1;break}s--}else if(")"==l)i++;else if("("==l){if(!i){n=t+1;break}i--}else{if(a||s)continue;if(!o.isAllowedChar(l)||">"==l&&r.endsWithTag(e.substring(0,t+1))){n=t+1;break}}}return-1==n||s||a||i?"":e.substring(n).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(e){var t=0,n=function(){return e.charCodeAt(t++)};if("PNG\r\n\n"===e.substr(0,8))return t=e.indexOf("IHDR")+4,{width:n()<<24|n()<<16|n()<<8|n(),height:n()<<24|n()<<16|n()<<8|n()};if("GIF8"===e.substr(0,4))return t=6,{width:n()|n()<<8,height:n()|n()<<8};if("ÿØ"===e.substr(0,2)){t=2;for(var r=e.length;t<r;){if(255!=n())return;var i=n();if(218==i)break;var o=n()<<8|n();if(!(!(i>=192&&i<=207)||4&i||8&i))return t+=1,{height:n()<<8|n(),width:n()<<8|n()};t+=o-2}}},captureContext:function(e,t){if(e.getSyntax()in{html:1,xml:1,xsl:1}){var n=e.getContent();void 0===t&&(t=e.getCaretPos());var r=a.find(n,t);if(r&&"tag"==r.type){var i=r.open,o={name:i.name,attributes:[],match:r},l=s.parse(i.range.substring(n));return l&&(o.attributes=l.getAll().map(function(e){return{name:e.name(),value:e.value()}})),o}}return null},findExpressionBounds:function(e,t){for(var n=String(e.getContent()),r=n.length,i=e.getCaretPos()-1,o=i+1;i>=0&&t(n.charAt(i),i,n);)i--;for(;o<r&&t(n.charAt(o),o,n);)o++;if(o>i)return l([++i,o])},compoundUpdate:function(e,t){if(t){var n=e.getSelectionRange();return e.replaceContent(t.data,t.start,t.end,!0),e.createSelection(t.caret,t.caret+n.end-n.start),!0}return!1},detectSyntax:function(e,t){var n=t||"html";return c.hasSyntax(n)||(n="html"),"html"==n&&(this.isStyle(e)||this.isInlineCSS(e))&&(n="css"),"styl"==n&&(n="stylus"),n},detectProfile:function(e){var t=e.getSyntax(),n=c.findItem(t,"profile");if(n)return n;switch(t){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(e))return"line";break;case"html":return(n=c.getVariable("profile"))||(n=this.isXHTML(e)?"xhtml":"html"),n}return"xhtml"},isXHTML:function(e){return-1!=e.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(e){return!!i.styleTagRange(e.getContent(),e.getCaretPos())},isSupportedCSS:function(e){return"css"==e||"less"==e||"scss"==e},isInlineCSS:function(e){return!!i.styleAttrRange(e.getContent(),e.getCaretPos())}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../assets/resources":31,"../editTree/xml":38,"../parser/abbreviation":55,"./common":73,"./cssSections":74}],71:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){for(var t,n,i,o,a,s,l,c,u,p,h=[],f=0,d=e.length,y=r;f<d;)c=e.charCodeAt(f++),u=e.charCodeAt(f++),p=e.charCodeAt(f++),o=(t=255&c)>>2,a=(3&t)<<4|(n=255&u)>>4,s=(15&n)<<2|(i=255&p)>>6,l=63&i,isNaN(u)?s=l=64:isNaN(p)&&(l=64),h.push(y.charAt(o)+y.charAt(a)+y.charAt(s)+y.charAt(l));return h.join("")},decode:function(e){var t,n,i,o,a,s,l=0,c=0,u=[],p=r,h=e.length;if(!e)return e;e+="";do{t=(s=p.indexOf(e.charAt(l++))<<18|p.indexOf(e.charAt(l++))<<12|(o=p.indexOf(e.charAt(l++)))<<6|(a=p.indexOf(e.charAt(l++))))>>16&255,n=s>>8&255,i=255&s,u[c++]=64==o?String.fromCharCode(t):64==a?String.fromCharCode(t,n):String.fromCharCode(t,n,i)}while(l<h);return u.join("")}}})},{}],72:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./common"),i=(e("../assets/range"),e("../assets/stringStream")),o=/\/\*|\/\//;return{strip:function(e){if(!o.test(e))return e;for(var t,n,a=i(e),s=[];t=a.next();)if("/"===t){if("*"===(n=a.peek()))a.start=a.pos-1,a.skipTo("*/")?a.pos+=2:a.skipToEnd(),s.push([a.start,a.pos]);else if("/"===n){for(a.start=a.pos-1;(n=a.next())&&"\n"!==n&&"\r"!=n;);s.push([a.start,a.pos])}}else a.skipQuoted();return r.replaceWith(e,s," ")}}})},{"../assets/range":30,"../assets/stringStream":32,"./common":73}],73:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/range"),i="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},endsWithTag:function(e){return this.reTag.test(e)},isNumeric:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e&&e>47&&e<58},trim:String.prototype.trim?function(e){return e?e.trim():""}:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},splitByLines:function(e,t){var n=(e||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,"\n").split("\n");return t&&(n=n.filter(function(e){return e.length&&!!this.trim(e)},this)),n},repeatString:function(e,t){for(var n="";t--;)n+=e;return n},getStringsPads:function(e){var t=e.map(function(e){return"string"==typeof e?e.length:+e}),n=t.reduce(function(e,t){return void 0===e?t:Math.max(e,t)});return t.map(function(e){var t=n-e;return t?this.repeatString(" ",t):""},this)},padString:function(e,t){var n=[],r=this.splitByLines(e);n.push(r[0]);for(var i=1;i<r.length;i++)n.push("\n"+t+r[i]);return n.join("")},zeroPadString:function(e,t){for(var n="",r=e.length;t>r++;)n+="0";return n+e},unindentString:function(e,t){for(var n,r=this.splitByLines(e),i=t.length,o=0,a=r.length;o<a;o++)(n=r[o]).substr(0,i)===t&&(r[o]=n.substr(i));return r.join("\n")},replaceUnescapedSymbol:function(e,t,n){for(var r=0,i=e.length,o=t.length,a=0;r<i;)if("\\"==e.charAt(r))r+=o+1;else if(e.substr(r,o)==t){var s=o,l=n;if("function"==typeof n){var c=n(e,t,r,++a);c?(s=c[0].length,l=c[1]):l=!1}if(!1===l){r++;continue}i=(e=e.substring(0,r)+l+e.substring(r+s)).length,r+=l.length}else r++;return e},replaceCounter:function(e,t,n){e=String(e),t=String(t),/^\-?\d+$/.test(t)&&(t=+t);var r=this;return this.replaceUnescapedSymbol(e,"$",function(e,i,o,a){if("{"==e.charAt(o+1)||r.isNumeric(e.charAt(o+1)))return!1;for(var s=o+1;"$"==e.charAt(s)&&"{"!=e.charAt(s+1);)s++;var l,c=s-o,u=0,p=!1;return(l=e.substr(s).match(/^@(\-?)(\d*)/))&&(s+=l[0].length,l[1]&&(p=!0),u=parseInt(l[2]||1,10)-1),p&&n&&"number"==typeof t&&(t=n-t+1),t+=u,[e.substring(o,s),r.zeroPadString(t+"",c)]})},matchesTag:function(e){return this.reTag.test(e||"")},escapeText:function(e){return e.replace(/([\$\\])/g,"\\$1")},unescapeText:function(e){return e.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return"function"==typeof i?i.apply(this,arguments):i},setCaretPlaceholder:function(e){i=e},getLinePadding:function(e){return(e.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(e,t){var n=this.findNewlineBounds(e,t);return this.getLinePadding(n.substring(e))},escapeForRegexp:function(e){var t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return e.replace(t,"\\$&")},prettifyNumber:function(e,t){return e.toFixed(void 0===t?2:t).replace(/\.?0+$/,"")},replaceSubstring:function(e,t,n,r){return"object"==typeof n&&"end"in n&&(r=n.end,n=n.start),"string"==typeof r&&(r=n+r.length),void 0===r&&(r=n),n<0||n>e.length?e:e.substring(0,n)+t+e.substring(r)},replaceWith:function(e,t,n,r){if(t.length){var i=0,o=[];t.forEach(function(t){var a=r?n:this.repeatString(n,t[1]-t[0]);o.push(e.substring(i,t[0]),a),i=t[1]},this),e=o.join("")+e.substring(i)}return e},narrowToNonSpace:function(e,t,n){for(var i=r.create(t,n),o=/[\s\n\r\u00a0]/;i.start<i.end&&o.test(e.charAt(i.start));)i.start++;for(;i.end>i.start;)if(i.end--,!o.test(e.charAt(i.end))){i.end++;break}return i},findNewlineBounds:function(e,t){for(var n,i=e.length,o=0,a=i-1,s=t-1;s>0;s--)if("\n"==(n=e.charAt(s))||"\r"==n){o=s+1;break}for(var l=t;l<i;l++)if("\n"==(n=e.charAt(l))||"\r"==n){a=l;break}return r.create(o,a-o)},deepMerge:function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length;for("object"!=typeof a&&"function"!=typeof a&&(a={});s<l;s++)if(null!==(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(r&&("object"==typeof r||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&"object"==typeof n?n:{},a[t]=this.deepMerge(o,r)):void 0!==r&&(a[t]=r));return a},parseJSON:function(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(e){return{}}},unique:function(e,t){var n=[];return e.filter(function(e){var r=t?t(e):e;if(n.indexOf(r)<0)return n.push(r),!0})},pick:function(e){var t={},n=this.toArray(arguments,1);return Object.keys(e).forEach(function(r){~n.indexOf(r)&&(t[r]=e[r])}),t},find:function(e,t,n){var r;return n&&(t=t.bind(n)),Array.isArray(e)?e.some(function(e,n){if(t(e,n))return r=e}):Object.keys(e).some(function(n,i){if(t(e[n],i))return r=e[n]}),r},toArray:function(e,t){return Array.isArray(e)&&!t?e:Array.prototype.slice.call(e,t||0)},extend:function(e){for(var t,n=1,r=arguments.length;n<r;n++)(t=arguments[n])&&Object.keys(t).forEach(function(n){e[n]=t[n]});return e},defaults:function(e){for(var t,n=1,r=arguments.length;n<r;n++)(t=arguments[n])&&Object.keys(t).forEach(function(n){n in e||(e[n]=t[n])});return e},flatten:function(e,t){t=t||[];var n=this;return n.toArray(e).forEach(function(e){Array.isArray(e)?n.flatten(e,t):t.push(e)}),t},clone:function(e){return Array.isArray(e)?e.slice(0):this.extend({},e)},without:function(e){return this.toArray(arguments,1).forEach(function(t){for(var n;~(n=e.indexOf(t));)e.splice(n,1)}),e},last:function(e){return e[e.length-1]}}})},{"../assets/range":30}],74:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./common"),i=e("./comments"),o=e("../assets/range"),a=e("../assets/stringStream"),s=(e("../parser/css"),e("../assets/htmlMatcher")),l=e("../editTree/xml"),c=1,u=1e6,p=/^(\s*).+?(\s*)$/,h=/\s/g;function f(e){return'"'==e||"'"==e}function d(e,t){this.id="s"+(c=(c+1)%u),this.parent=null,this.nextSibling=null,this.previousSibling=null,this._source=t,this._name=null,this._content=null,this._data={},!e&&t&&(e=o(0,t)),this.range=e,this.children=[]}return d.prototype={addChild:function(e){e instanceof d||(e=new d(e));var t=r.last(this.children);return t&&(t.nextSibling=e,e.previousSibling=t),e.parent=this,this.children.push(e),e},root:function(){var e=this;do{if(!e.parent)return e}while(e=e.parent);return e},source:function(){return this._source||this.root()._source},name:function(){if(null===this._name){var e=this.nameRange();e&&(this._name=e.substring(this.source()))}return this._name},nameRange:function(){if(this.range&&"_selectorEnd"in this.range)return o.create2(this.range.start,this.range._selectorEnd)},matchDeep:function(e){if(!this.range.inside(e))return null;for(var t,n=0,r=this.children.length;n<r;n++)if(t=this.children[n].matchDeep(e))return t;return this.parent?this:null},allRanges:function(){var e=[];return this.parent&&e.push(this.range),this.children.forEach(function(t){e=e.concat(t.allRanges())}),e},data:function(e,t){return void 0!==t&&(this._data[e]=t),this._data[e]},stringify:function(e){e=e||"";var t="";return this.children.forEach(function(n){t+=e+n.name().replace(/\n/g,"\\n")+"\n",t+=n.stringify(e+"--")}),t},content:function(){if(null!==this._content)return this._content;if(!(this.range&&"_contentStart"in this.range))return"";var e=o.create2(this.range._contentStart+1,this.range.end-1),t=this.source(),n=e.start,i="";return this.children.forEach(function(e){i+=t.substring(n,e.range.start),n=e.range.end}),i+=t.substring(n,e.end),this._content=r.trim(i)}},{findAllRules:function(e){e=this.sanitize(e);for(var t,n,i=a(e),s=[],l=this,c=function(t){var n=l.extractSelector(e,t.start),r=o.create2(n.start,t.end);r._selectorEnd=n.end,r._contentStart=t.start,s.push(r)};n=i.next();)if(f(n)){if(!i.skipString(n))break}else"{"==n&&((t=this.matchBracesRanges(e,i.pos-1)).forEach(c),t.length)&&(i.pos=r.last(t).end);return s.sort(function(e,t){return e.start-t.start})},matchBracesRanges:function(e,t,n){n&&(e=this.sanitize(e));var r=a(e);r.start=r.pos=t;for(var i,s=[],l=[];i=r.next();)if("{"==i)s.push(r.pos-1);else if("}"==i){if(!s.length)throw"Invalid source structure (check for curly braces)";if(l.push(o.create2(s.pop(),r.pos)),!s.length)return l}else r.skipQuoted();return l},extractSelector:function(e,t,n){n&&(e=this.sanitize(e));for(var r,i=function(){var n=e.charAt(t);if('"'==n||"'"==n){for(;--t>=0&&(e.charAt(t)!=n||"\\"==e.charAt(t-1)););return!0}return!1},a=t;--t>=0;)if(!i())if(")"!=(r=e.charAt(t))){if("{"==r||"}"==r||";"==r){t++;break}}else for(;--t>=0&&(i()||"("!=e.charAt(t)););t<0&&(t=0);var s=e.substring(t,a).replace(h," ").match(p);return s&&(t+=s[1].length,a-=s[2].length),o.create2(t,a)},matchEnclosingRule:function(e,t){"string"==typeof e&&(e=this.findAllRules(e));var n=e.filter(function(e){return e.inside(t)});return r.last(n)},locateRule:function(e,t,n){var r=0,i=this.styleTagRange(e,t);i&&(r=i.start,t-=i.start,e=i.substring(e));var o=this.findAllRules(e),a=this.matchEnclosingRule(o,t);if(a)return a.shift(r);for(var s=0,l=o.length;s<l;s++)if(o[s].start>t)return o[n?s-1:s].shift(r)},sanitize:function(e){e=i.strip(e);for(var t,n=a(e),o=[];t=n.next();)if(f(t))n.skipString(t);else if(("#"===t||"@"===t)&&"{"===n.peek()){if(n.start=n.pos-1,!n.skipTo("}"))throw"Invalid string interpolation at "+n.start;n.pos+=1,o.push([n.start,n.pos])}return r.replaceWith(e,o,"a")},sectionTree:function(e){var t=new d(null,e),n=this.findAllRules(e),r=t;return n.forEach(function(e){r=function(e,n){for(;n&&n.range;){if(n.range.contains(e))return n.addChild(e);n=n.parent}return t.addChild(e)}(e,r)}),t},nestedSectionsInRule:function(e){var t=e.valueRange(!0).start,n=this.findAllRules(e.valueRange().substring(e.source));return n.forEach(function(e){e.start+=t,e.end+=t,e._selectorEnd+=t,e._contentStart+=t}),n},styleTagRange:function(e,t){var n=s.tag(e,t);return n&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(t,"lte","gte")&&n.innerRange},styleAttrRange:function(e,t){var n=l.parseFromPosition(e,t,!0);if(n){var r=n.itemFromPosition(t,!0);return r&&"style"==r.name().toLowerCase()&&r.valueRange(!0).cmp(t,"lte","gte")&&r.valueRange(!0)}},CSSSection:d}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../assets/stringStream":32,"../editTree/xml":38,"../parser/css":56,"./comments":72,"./common":73}],75:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("./common"),i=e("../assets/resources");return{isInsideTag:function(e,t){for(var n=/^<\/?\w[\w\:\-]*.*?>/,r=t;r>-1&&"<"!=e.charAt(r);)r--;if(-1!=r){var i=n.exec(e.substring(r));if(i&&t>r&&t<r+i[0].length)return!0}return!1},outputInfo:function(e,t,n){return n=n||e.getProfileName(),{syntax:String(t||e.getSyntax()),profile:n||null,content:String(e.getContent())}},unindent:function(e,t){return r.unindentString(t,this.getCurrentLinePadding(e))},getCurrentLinePadding:function(e){return r.getLinePadding(e.getCurrentLine())},normalize:function(e,t){t=r.extend({newline:i.getNewline(),indentation:i.getVariable("indentation")},t);var n=function(e){return r.repeatString(t.indentation,e.length)},o=r.splitByLines(e);return"\t"!==t.indentation&&(o=o.map(function(e){return e.replace(/^\s+/,function(e){return e.replace(/\t/g,n)})})),o.join(t.newline)}}})},{"../assets/resources":31,"./common":73}],76:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){function t(){}return t.prototype=e,new t}var i=0,o=1,a=2,s=3,l=4;function c(e,t,n,r){this.type_=e,this.index_=t||0,this.prio_=n||0,this.number_=void 0!==r&&null!==r?r:0,this.toString=function(){switch(this.type_){case i:return this.number_;case o:case a:case s:return this.index_;case l:return"CALL";default:return"Invalid Token"}}}function u(e,t,n,r){this.tokens=e,this.ops1=t,this.ops2=n,this.functions=r}var p=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};u.prototype={simplify:function(e){e=e||{};var t,n,l,p,h=[],f=[],d=this.tokens.length,y=0;for(y=0;y<d;y++){var m=(p=this.tokens[y]).type_;if(m===i)h.push(p);else if(m===s&&p.index_ in e)p=new c(i,0,0,e[p.index_]),h.push(p);else if(m===a&&h.length>1)n=h.pop(),t=h.pop(),l=this.ops2[p.index_],p=new c(i,0,0,l(t.number_,n.number_)),h.push(p);else if(m===o&&h.length>0)t=h.pop(),l=this.ops1[p.index_],p=new c(i,0,0,l(t.number_)),h.push(p);else{for(;h.length>0;)f.push(h.shift());f.push(p)}}for(;h.length>0;)f.push(h.shift());return new u(f,r(this.ops1),r(this.ops2),r(this.functions))},substitute:function(e,t){t instanceof u||(t=(new S).parse(String(t)));var n,i=[],o=this.tokens.length,a=0;for(a=0;a<o;a++){if((n=this.tokens[a]).type_===s&&n.index_===e)for(var l=0;l<t.tokens.length;l++){var p=t.tokens[l],h=new c(p.type_,p.index_,p.prio_,p.number_);i.push(h)}else i.push(n)}return new u(i,r(this.ops1),r(this.ops2),r(this.functions))},evaluate:function(e){e=e||{};var t,n,r,c,u=[],p=this.tokens.length,h=0;for(h=0;h<p;h++){var f=(c=this.tokens[h]).type_;if(f===i)u.push(c.number_);else if(f===a)n=u.pop(),t=u.pop(),r=this.ops2[c.index_],u.push(r(t,n));else if(f===s)if(c.index_ in e)u.push(e[c.index_]);else{if(!(c.index_ in this.functions))throw new Error("undefined variable: "+c.index_);u.push(this.functions[c.index_])}else if(f===o)t=u.pop(),r=this.ops1[c.index_],u.push(r(t));else{if(f!==l)throw new Error("invalid Expression");if(t=u.pop(),!(r=u.pop()).apply||!r.call)throw new Error(r+" is not a function");"[object Array]"==Object.prototype.toString.call(t)?u.push(r.apply(void 0,t)):u.push(r.call(void 0,t))}}if(u.length>1)throw new Error("invalid Expression (parity)");return u[0]},toString:function(e){var t,n,r,c,u=[],f=this.tokens.length,d=0;for(d=0;d<f;d++){var y=(c=this.tokens[d]).type_;if(y===i)u.push("string"==typeof(m=c.number_)?(p.lastIndex=0,p.test(m)?"'"+m.replace(p,function(e){var t=h[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+m+"'"):m);else if(y===a)n=u.pop(),t=u.pop(),r=c.index_,e&&"^"==r?u.push("Math.pow("+t+","+n+")"):u.push("("+t+r+n+")");else if(y===s)u.push(c.index_);else if(y===o)t=u.pop(),"-"===(r=c.index_)?u.push("("+r+t+")"):u.push(r+"("+t+")");else{if(y!==l)throw new Error("invalid Expression");t=u.pop(),r=u.pop(),u.push(r+"("+t+")")}}var m;if(u.length>1)throw new Error("invalid Expression (parity)");return u[0]},variables:function(){for(var e=this.tokens.length,t=[],n=0;n<e;n++){var r=this.tokens[n];r.type_===s&&-1==t.indexOf(r.index_)&&t.push(r.index_)}return t},toJSFunction:function(e,t){return new Function(e,"with(Parser.values) { return "+this.simplify(t).toString(!0)+"; }")}};function f(e,t){return Number(e)+Number(t)}function d(e,t){return e-t}function y(e,t){return e*t}function m(e,t){return e/t}function g(e,t){return e%t}function v(e,t){return""+e+t}function b(e){return-e}function x(e){return Math.random()*(e||1)}function w(e){for(var t=e=Math.floor(e);e>1;)t*=--e;return t}function _(e,t){return Math.sqrt(e*e+t*t)}function k(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:((e=e.slice()).push(t),e)}function S(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":b,exp:Math.exp},this.ops2={"+":f,"-":d,"*":y,"/":m,"%":g,"^":Math.pow,",":k,"||":v},this.functions={random:x,fac:w,min:Math.min,max:Math.max,pyt:_,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,PI:Math.PI}}S.parse=function(e){return(new S).parse(e)},S.evaluate=function(e,t){return S.parse(e).evaluate(t)},S.Expression=u,S.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:x,fac:w,exp:Math.exp,min:Math.min,max:Math.max,pyt:_,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};return S.prototype={parse:function(e){this.errormsg="",this.success=!0;var t=[],n=[];this.tmpprio=0;var p=77,h=0;for(this.expression=e,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&64&p?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",h++,this.addfunc(n,t,o)),p=77):this.isComment()||(0==(2&p)&&this.error_parsing(this.pos,"unexpected operator"),h+=2,this.addfunc(n,t,a),p=77);else if(this.isNumber()){0==(1&p)&&this.error_parsing(this.pos,"unexpected number");var f=new c(i,0,0,this.tokennumber);n.push(f),p=50}else if(this.isString()){0==(1&p)&&this.error_parsing(this.pos,"unexpected string");f=new c(i,0,0,this.tokennumber);n.push(f),p=50}else if(this.isLeftParenth())0==(8&p)&&this.error_parsing(this.pos,'unexpected "("'),128&p&&(h+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(n,t,l)),p=333;else if(this.isRightParenth()){if(256&p){f=new c(i,0,0,[]);n.push(f)}else 0==(16&p)&&this.error_parsing(this.pos,'unexpected ")"');p=186}else if(this.isComma())0==(32&p)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(n,t,a),h+=2,p=77;else if(this.isConst()){0==(1&p)&&this.error_parsing(this.pos,"unexpected constant");var d=new c(i,0,0,this.tokennumber);n.push(d),p=50}else if(this.isOp2())0==(4&p)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(n,t,a),h+=2,p=8;else if(this.isOp1())0==(4&p)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(n,t,o),h++,p=8;else if(this.isVar()){0==(1&p)&&this.error_parsing(this.pos,"unexpected variable");var y=new c(s,this.tokenindex,0,0);n.push(y),p=186}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');t.length>0;){var m=t.pop();n.push(m)}return h+1!==n.length&&this.error_parsing(this.pos,"parity"),new u(n,r(this.ops1),r(this.ops2),r(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,this.errormsg="parse error [column "+e+"]: "+t,new Error(this.errormsg)},addfunc:function(e,t,n){for(var r=new c(n,this.tokenindex,this.tokenprio+this.tmpprio,0);t.length>0&&r.prio_<=t[t.length-1].prio_;)e.push(t.pop());t.push(r)},isNumber:function(){for(var e=!1,t="";this.pos<this.expression.length;){var n=this.expression.charCodeAt(this.pos);if(!(n>=48&&n<=57||46===n))break;t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0}return e},unescape:function(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e.charAt(i);if(r){switch(o){case"'":n.push("'");break;case"\\":n.push("\\");break;case"/":n.push("/");break;case"b":n.push("\b");break;case"f":n.push("\f");break;case"n":n.push("\n");break;case"r":n.push("\r");break;case"t":n.push("\t");break;case"u":var a=parseInt(e.substring(i+1,i+5),16);n.push(String.fromCharCode(a)),i+=4;break;default:throw this.error_parsing(t+i,"Illegal escape sequence: '\\"+o+"'")}r=!1}else"\\"==o?r=!0:n.push(o)}return n.join("")},isString:function(){var e=!1,t="",n=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,n),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){for(var e in this.consts){var t=e.length;if(e===this.expression.substr(this.pos,t))return this.tokennumber=this.consts[e],this.pos+=t,!0}return!1},isOperator:function(){var e=this.expression.charCodeAt(this.pos);if(43===e)this.tokenprio=0,this.tokenindex="+";else if(45===e)this.tokenprio=0,this.tokenindex="-";else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===e)this.tokenprio=1,this.tokenindex="*";else if(47===e)this.tokenprio=2,this.tokenindex="/";else if(37===e)this.tokenprio=2,this.tokenindex="%";else{if(94!==e)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 45===e||43===e},isPositiveSign:function(){return 43===this.expression.charCodeAt(this.pos-1)},isNegativeSign:function(){return 45===this.expression.charCodeAt(this.pos-1)},isLeftParenth:function(){return 40===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio+=10,!0)},isRightParenth:function(){return 41===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return 44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var e=this.expression.charCodeAt(this.pos);return(32===e||9===e||10===e||13===e)&&(this.pos++,!0)},isOp1:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&(n<"0"||n>"9")))break;e+=n}return e.length>0&&e in this.ops1&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isOp2:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&(n<"0"||n>"9")))break;e+=n}return e.length>0&&e in this.ops2&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isVar:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&(n<"0"||n>"9")))break;e+=n}return e.length>0&&(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0)},isComment:function(){return 47===this.expression.charCodeAt(this.pos-1)&&42===this.expression.charCodeAt(this.pos)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)}},S})},{}],77:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../assets/stringStream"),i=e("./common");function o(e){for(var t=[],n=r(e);!n.eol();)","==n.peek()&&(t.push(i.trim(n.current())),n.next(),n.start=n.pos),n.next();return t.push(i.trim(n.current())),t.filter(function(e){return!!e})}function a(e,t){if(/^['"]/.test(e))return e.replace(/^(['"])(.+?)\1$/,"$2");if(!isNaN(+e))return+e;if(e){for(var n=e.split("."),r=t;n.length;)r=r[n.shift()];return r}}function s(e,t){return e.replace(/<%[=\-](.+?)%>/g,function(e,n){var s=function(e){for(var t,n=null,i=r(e);!i.eol();){if("("==i.peek()){n=i.current(),i.start=i.pos,i.skipToPair("(",")",!0),t=o((t=i.current()).substring(1,t.length-1));break}i.next()}return n&&{name:n,args:t}}(n=i.trim(n));if(s){var l=s.args.map(function(e){return a(e,t)});return t[s.name].apply(t,l)}return a(n,t)})}return function(e,t){return t?s(e,t):function(t){return s(e,t)}}})},{"../assets/stringStream":32,"./common":73}],78:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){var r=e("../utils/common"),i=function(){};return{extend:function(e,t){var n=function(e,t,n){var o;return o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},r.extend(o,e),i.prototype=e.prototype,o.prototype=new i,t&&r.extend(o.prototype,t),n&&r.extend(o,n),o.prototype.constructor=o,o.__super__=e.prototype,o}(this,e,t);return n.extend=this.extend,e.hasOwnProperty("toString")&&(n.prototype.toString=e.toString),n}}})},{"../utils/common":73}],79:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){return{score:function(e,t,n){if(e==t)return 1;if(""==t)return 0;for(var r,i,o,a,s,l,c,u,p,h=0,f=t.length,d=e.length,y=1,m=0;m<f;++m){if(l=t.charAt(m),c=e.indexOf(l.toLowerCase()),u=e.indexOf(l.toUpperCase()),-1===(s=(p=Math.min(c,u))>-1?p:Math.max(c,u))){if(n){y+=1-n;continue}return 0}a=.1,e[s]===l&&(a+=.1),0===s?(a+=.6,0===m&&(r=1)):" "===e.charAt(s-1)&&(a+=.8),e=e.substring(s+1,d),h+=a}return o=((i=h/f)*(f/d)+i)/2,o/=y,r&&o+.15<1&&(o+=.15),o}}})},{}],80:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e};t.exports=l;var i=r(e("./editor")),o=r(e("./emmet")),a={"Cmd-E":"emmet.expand_abbreviation",Tab:"emmet.expand_abbreviation_with_tab","Cmd-D":"emmet.balance_outward","Shift-Cmd-D":"emmet.balance_inward","Cmd-M":"emmet.matching_pair","Shift-Cmd-A":"emmet.wrap_with_abbreviation","Ctrl-Alt-Right":"emmet.next_edit_point","Ctrl-Alt-Left":"emmet.prev_edit_point","Cmd-L":"emmet.select_line","Cmd-Shift-M":"emmet.merge_lines","Cmd-/":"emmet.toggle_comment","Cmd-J":"emmet.split_join_tag","Cmd-K":"emmet.remove_tag","Shift-Cmd-Y":"emmet.evaluate_math_expression","Ctrl-Up":"emmet.increment_number_by_1","Ctrl-Down":"emmet.decrement_number_by_1","Ctrl-Alt-Up":"emmet.increment_number_by_01","Ctrl-Alt-Down":"emmet.decrement_number_by_01","Shift-Ctrl-Up":"emmet.increment_number_by_10","Shift-Ctrl-Down":"emmet.decrement_number_by_10","Shift-Cmd-.":"emmet.select_next_item","Shift-Cmd-,":"emmet.select_previous_item","Cmd-B":"emmet.reflect_css_value",Enter:"emmet.insert_formatted_line_break_only"},s=["prev_edit_point","next_edit_point","merge_lines","reflect_css_value","select_next_item","select_previous_item","wrap_with_abbreviation","update_tag","insert_formatted_line_break_only"];function l(e){var t=void 0===arguments[1]?a:arguments[1];return t=p(t),e.__emmetKeymap=t,e.addKeyMap(t),e}l.dispose=function(e){e.__emmetKeymap&&(e.removeKeyMap(e.__emmetKeymap),delete e.__emmetKeymap)},l.defaultKeymap=a,l.systemKeymap=p,l.emmet=o,l.EmmetEditor=i,l.setup=function(e){o.actions.getList().forEach(function(t){var n=t.name,r="emmet."+n;e.commands[r]||(e.commands[r]=~s.indexOf(n)?(a=n,function(e){var t;return e.operation(function(){return t=u(a,new i(e))}),t}):(o=n,function(e){var t=new i(e),n=t.selectionList(),r=null;return e.operation(function(){for(var e=0,i=n.length;e<i&&(t.selectionIndex=e,(r=u(o,t))!==CodeMirror.Pass);e++);}),r}));var o,a}),e.defineOption?e.defineOption("profile","html"):e.defaults.profile="html"},"undefined"!=typeof CodeMirror&&l.setup(CodeMirror);function c(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}function u(e,t){if("expand_abbreviation_with_tab"==e&&(t.context.somethingSelected()||!t.isValidSyntax()))return c();var n=!1;try{if(!(n=o.run(e,t))&&"insert_formatted_line_break_only"==e)return c()}catch(e){console.error(e)}return n}function p(e){var t=/Mac/.test(navigator.platform),n={};return Object.keys(e).forEach(function(r){return n[t?r:r.replace("Cmd","Ctrl")]=e[r]}),n}},{"./editor":1,"./emmet":2}]},{},[80])(80)}),__whitespace={" ":!0,"\t":!0,"\n":!0,"\f":!0,"\r":!0},difflib={defaultJunkFunction:function(e){return __whitespace.hasOwnProperty(e)},stripLinebreaks:function(e){return e.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(e){for(var t=e.indexOf("\n"),n=e.indexOf("\r"),r=t>-1&&n>-1||n<0?"\n":"\r",i=e.split(r),o=0;o<i.length;o++)i[o]=difflib.stripLinebreaks(i[o]);return i},__reduce:function(e,t,n){if(null!=n)var r=n,i=0;else{if(!t)return null;r=t[0],i=1}for(;i<t.length;i++)r=e(r,t[i]);return r},__ntuplecomp:function(e,t){for(var n=Math.max(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.length==t.length?0:e.length<t.length?-1:1},__calculate_ratio:function(e,t){return t?2*e/t:1},__isindict:function(e){return function(t){return e.hasOwnProperty(t)}},__dictget:function(e,t,n){return e.hasOwnProperty(t)?e[t]:n},SequenceMatcher:function(e,t,n){this.set_seqs=function(e,t){this.set_seq1(e),this.set_seq2(t)},this.set_seq1=function(e){e!=this.a&&(this.a=e,this.matching_blocks=this.opcodes=null)},this.set_seq2=function(e){e!=this.b&&(this.b=e,this.matching_blocks=this.opcodes=this.fullbcount=null,this.__chain_b())},this.__chain_b=function(){for(var e=this.b,t=e.length,n=this.b2j={},r={},i=0;i<e.length;i++){var o=e[i];if(n.hasOwnProperty(o)){var a=n[o];t>=200&&100*a.length>t?(r[o]=1,delete n[o]):a.push(i)}else n[o]=[i]}for(var o in r)r.hasOwnProperty(o)&&delete n[o];var s=this.isjunk,l={};if(s){for(var o in r)r.hasOwnProperty(o)&&s(o)&&(l[o]=1,delete r[o]);for(var o in n)n.hasOwnProperty(o)&&s(o)&&(l[o]=1,delete n[o])}this.isbjunk=difflib.__isindict(l),this.isbpopular=difflib.__isindict(r)},this.find_longest_match=function(e,t,n,r){for(var i=this.a,o=this.b,a=this.b2j,s=this.isbjunk,l=e,c=n,u=0,p=null,h={},f=[],d=e;d<t;d++){var y={},m=difflib.__dictget(a,i[d],f);for(var g in m)if(m.hasOwnProperty(g)){if((p=m[g])<n)continue;if(p>=r)break;y[p]=k=difflib.__dictget(h,p-1,0)+1,k>u&&(l=d-k+1,c=p-k+1,u=k)}h=y}for(;l>e&&c>n&&!s(o[c-1])&&i[l-1]==o[c-1];)l--,c--,u++;for(;l+u<t&&c+u<r&&!s(o[c+u])&&i[l+u]==o[c+u];)u++;for(;l>e&&c>n&&s(o[c-1])&&i[l-1]==o[c-1];)l--,c--,u++;for(;l+u<t&&c+u<r&&s(o[c+u])&&i[l+u]==o[c+u];)u++;return[l,c,u]},this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var e,t,n,r,i,o,a,s,l,c=this.a.length,u=this.b.length,p=[[0,c,0,u]],h=[];p.length;)e=(i=p.pop())[0],t=i[1],n=i[2],r=i[3],o=(l=this.find_longest_match(e,t,n,r))[0],a=l[1],(s=l[2])&&(h.push(l),e<o&&n<a&&p.push([e,o,n,a]),o+s<t&&a+s<r&&p.push([o+s,t,a+s,r]));h.sort(difflib.__ntuplecomp);var f=j1=k1=block=0,d=[];for(var y in h)h.hasOwnProperty(y)&&(block=h[y],i2=block[0],j2=block[1],k2=block[2],f+k1==i2&&j1+k1==j2?k1+=k2:(k1&&d.push([f,j1,k1]),f=i2,j1=j2,k1=k2));return k1&&d.push([f,j1,k1]),d.push([c,u,0]),this.matching_blocks=d,this.matching_blocks},this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var e=0,t=0,n=[];this.opcodes=n;var r,i,o,a,s,l=this.get_matching_blocks();for(var c in l)l.hasOwnProperty(c)&&(i=(r=l[c])[0],o=r[1],a=r[2],s="",e<i&&t<o?s="replace":e<i?s="delete":t<o&&(s="insert"),s&&n.push([s,e,i,t,o]),e=i+a,t=o+a,a&&n.push(["equal",i,e,o,t]));return n},this.get_grouped_opcodes=function(e){e||(e=3);var t=this.get_opcodes();t||(t=[["equal",0,1,0,1]]);var n,r,i,o,a,s;"equal"==t[0][0]&&(r=(n=t[0])[0],i=n[1],o=n[2],a=n[3],s=n[4],t[0]=[r,Math.max(i,o-e),o,Math.max(a,s-e),s]),"equal"==t[t.length-1][0]&&(r=(n=t[t.length-1])[0],i=n[1],o=n[2],a=n[3],s=n[4],t[t.length-1]=[r,i,Math.min(o,i+e),a,Math.min(s,a+e)]);var l=e+e,c=[],u=[];for(var p in t)t.hasOwnProperty(p)&&(r=(n=t[p])[0],i=n[1],o=n[2],a=n[3],s=n[4],"equal"==r&&o-i>l&&(c.push([r,i,Math.min(o,i+e),a,Math.min(s,a+e)]),u.push(c),c=[],i=Math.max(i,o-e),a=Math.max(a,s-e)),c.push([r,i,o,a,s]));return!c||1==c.length&&"equal"==c[0][0]||u.push(c),u},this.ratio=function(){return matches=difflib.__reduce(function(e,t){return e+t[t.length-1]},this.get_matching_blocks(),0),difflib.__calculate_ratio(matches,this.a.length+this.b.length)},this.quick_ratio=function(){var e,t;if(null==this.fullbcount){this.fullbcount=e={};for(var n=0;n<this.b.length;n++)e[t=this.b[n]]=difflib.__dictget(e,t,0)+1}e=this.fullbcount;var r={},i=difflib.__isindict(r),o=numb=0;for(n=0;n<this.a.length;n++)i(t=this.a[n])?numb=r[t]:numb=difflib.__dictget(e,t,0),r[t]=numb-1,numb>0&&o++;return difflib.__calculate_ratio(o,this.a.length+this.b.length)},this.real_quick_ratio=function(){var e=this.a.length,t=this.b.length;return _calculate_ratio(Math.min(e,t),e+t)},this.isjunk=n||difflib.defaultJunkFunction,this.a=this.b=null,this.set_seqs(e,t)}},diffview={buildView:function(e){var t=e.baseTextLines,n=e.newTextLines,r=e.opcodes,i=e.baseTextName?e.baseTextName:"Base Text",o=e.newTextName?e.newTextName:"New Text",a=e.contextSize,s=0==e.viewType||1==e.viewType?e.viewType:0;if(null==t)throw"Cannot build diff view; baseTextLines is not defined.";if(null==n)throw"Cannot build diff view; newTextLines is not defined.";if(!r)throw"Canno build diff view; opcodes is not defined.";function l(e,t){var n=document.createElement(e);return n.className=t,n}function c(e,t){var n=document.createElement(e);return n.appendChild(document.createTextNode(t)),n}function u(e,t,n){var r=document.createElement(e);return r.className=t,r.appendChild(document.createTextNode(n)),r}var p=document.createElement("thead"),h=document.createElement("tr");p.appendChild(h),s?(h.appendChild(document.createElement("th")),h.appendChild(document.createElement("th")),h.appendChild(u("th","texttitle",i+" vs. "+o))):(h.appendChild(document.createElement("th")),h.appendChild(u("th","texttitle",i)),h.appendChild(document.createElement("th")),h.appendChild(u("th","texttitle",o))),p=[p];var f,d=[];function y(e,t,n,r,i){return t<n?(e.appendChild(c("th",(t+1).toString())),e.appendChild(u("td",i,r[t].replace(/\t/g,"    "))),t+1):(e.appendChild(document.createElement("th")),e.appendChild(l("td","empty")),t)}function m(e,t,n,r,i){e.appendChild(c("th",null==t?"":(t+1).toString())),e.appendChild(c("th",null==n?"":(n+1).toString())),e.appendChild(u("td",i,r[null!=t?t:n].replace(/\t/g,"    ")))}for(var g=0;g<r.length;g++){code=r[g],change=code[0];for(var v=code[1],b=code[2],x=code[3],w=code[4],_=Math.max(b-v,w-x),k=[],S=[],C=0;C<_;C++){if(a&&r.length>1&&(g>0&&C==a||0==g&&0==C)&&"equal"==change){var T=_-(0==g?1:2)*a;if(T>1){if(k.push(h=document.createElement("tr")),v+=T,x+=T,C+=T-1,h.appendChild(c("th","...")),s||h.appendChild(u("td","skip","")),h.appendChild(c("th","...")),h.appendChild(u("td","skip","")),g+1==r.length)break;continue}}k.push(h=document.createElement("tr")),s?"insert"==change?m(h,null,x++,n,change):"replace"==change?(S.push(f=document.createElement("tr")),v<b&&m(h,v++,null,t,"delete"),x<w&&m(f,null,x++,n,"insert")):"delete"==change?m(h,v++,null,t,change):m(h,v++,x++,t,change):(v=y(h,v,b,t,change),x=y(h,x,w,n,change))}for(C=0;C<k.length;C++)d.push(k[C]);for(C=0;C<S.length;C++)d.push(S[C])}d.push(h=u("th","author","diff view generated by ")),h.setAttribute("colspan",s?3:4),h.appendChild(f=c("a","jsdifflib")),f.setAttribute("href","http://github.com/cemerick/jsdifflib"),p.push(h=document.createElement("tbody"));for(var g in d)d.hasOwnProperty(g)&&h.appendChild(d[g]);h=l("table","diff"+(s?" inlinediff":""));for(var g in p)p.hasOwnProperty(g)&&h.appendChild(p[g]);return h}},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",r="removeEventListener",i="getBoundingClientRect",o=function(){return!1},a=e.attachEvent&&!e[n],s=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(c,u){void 0===u&&(u={});var p,h,f,d,y=l(c[0]).parentNode,m=e.getComputedStyle(y).flexDirection,g=u.sizes||c.map(function(){return 100/c.length}),v=void 0!==u.minSize?u.minSize:100,b=Array.isArray(v)?v:c.map(function(){return v}),x=void 0!==u.gutterSize?u.gutterSize:10,w=void 0!==u.snapOffset?u.snapOffset:30,_=u.direction||"horizontal",k=u.cursor||("horizontal"===_?"ew-resize":"ns-resize"),S=u.gutter||function(e,n){var r=t.createElement("div");return r.className="gutter gutter-"+n,r},C=u.elementStyle||function(e,t,n){var r={};return"string"==typeof t||t instanceof String?r[e]=t:r[e]=a?t+"%":s+"("+t+"% - "+n+"px)",r},T=u.gutterStyle||function(e,t){return(n={})[e]=t+"px",n;var n};"horizontal"===_?(p="width",h="clientX",f="left"):"vertical"===_&&(p="height",h="clientY",f="top");function E(e,t,n){var r=C(p,t,n);Object.keys(r).forEach(function(t){return e.style[t]=r[t]})}function M(e){var t=d[this.a],n=d[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,E(t.element,t.size,this.aGutterSize),E(n.element,n.size,this.bGutterSize)}function A(){var e=d[this.a].element,t=d[this.b].element;this.size=e[i]()[p]+t[i]()[p]+this.aGutterSize+this.bGutterSize,this.start=e[i]()[f]}function L(t){var i=d[this.a].element,a=d[this.b].element;!this.dragging&&u.onDragStart&&u.onDragStart(),t.preventDefault(),this.dragging=!0,this.move=function(e){var t;this.dragging&&((t="touches"in e?e.touches[0][h]-this.start:e[h]-this.start)<=d[this.a].minSize+w+this.aGutterSize?t=d[this.a].minSize+this.aGutterSize:t>=this.size-(d[this.b].minSize+w+this.bGutterSize)&&(t=this.size-(d[this.b].minSize+this.bGutterSize)),M.call(this,t),u.onDrag&&u.onDrag())}.bind(this),this.stop=function(){var t=d[this.a].element,n=d[this.b].element;this.dragging&&u.onDragEnd&&u.onDragEnd(),this.dragging=!1,e[r]("mouseup",this.stop),e[r]("touchend",this.stop),e[r]("touchcancel",this.stop),this.parent[r]("mousemove",this.move),this.parent[r]("touchmove",this.move),delete this.stop,delete this.move,t[r]("selectstart",o),t[r]("dragstart",o),n[r]("selectstart",o),n[r]("dragstart",o),t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor=""}.bind(this),e[n]("mouseup",this.stop),e[n]("touchend",this.stop),e[n]("touchcancel",this.stop),this.parent[n]("mousemove",this.move),this.parent[n]("touchmove",this.move),i[n]("selectstart",o),i[n]("dragstart",o),a[n]("selectstart",o),a[n]("dragstart",o),i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.MozUserSelect="none",a.style.pointerEvents="none",this.gutter.style.cursor=k,this.parent.style.cursor=k,A.call(this)}var O=[];d=c.map(function(e,t){var r,o={element:l(e),size:g[t],minSize:b[t]};if(t>0&&((r={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===c.length-1,direction:_,parent:y}).aGutterSize=x,r.bGutterSize=x,r.isFirst&&(r.aGutterSize=x/2),r.isLast&&(r.bGutterSize=x/2),"row-reverse"===m||"column-reverse"===m)){var s=r.a;r.a=r.b,r.b=s}if(!a&&t>0){var u=S(t,_);!function(e,t){var n=T(p,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}(u,x),u[n]("mousedown",L.bind(r)),u[n]("touchstart",L.bind(r)),y.insertBefore(u,o.element),r.gutter=u}0===t||t===c.length-1?E(o.element,o.size,x/2):E(o.element,o.size,x);var h=o.element[i]()[p];return h<o.minSize&&(o.minSize=h),t>0&&O.push(r),o});function P(e){e.forEach(function(t,n){if(n>0){var r=O[n-1],i=d[r.a],o=d[r.b];i.size=e[n-1],o.size=t,E(i.element,i.size,r.aGutterSize),E(o.element,o.size,r.bGutterSize)}})}function R(){O.forEach(function(e){e.parent.removeChild(e.gutter),d[e.a].element.style[p]="",d[e.b].element.style[p]=""})}return a?{setSizes:P,destroy:R}:{setSizes:P,getSizes:function(){return d.map(function(e){return e.size})},collapse:function(e){if(e===O.length){var t=O[e-1];A.call(t),a||M.call(t,t.size-t.bGutterSize)}else{var n=O[e];A.call(n),a||M.call(n,n.aGutterSize)}},destroy:R}}});var Sidebar={initialize:function(e){this.options=e,this.sections=getSelectors(this.options.sections),self=this;for(var t=0;t<this.sections.length;t++)section=this.sections[t],toggler=section.querySelector(".toggler"),toggler.addEventListener("click",function(e){self.showItem.call(self,e)});this.sections[0].classList.add("opened")},showItem:function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<this.sections.length;t++)section=this.sections[t],section.classList.remove("opened");e.target.parentNode.classList.add("opened")}},keyMods={shift:!1,shiftKey:!1,control:!1,ctrlKey:!1},Layout={localDraft:{},editors:$H({}),editors_order:["html","css","js"],reservedKeys:[["ctrlKey",13,"run"],["control",13,"run"],["ctrlKey",38,"switchPrev"],["ctrlKey",40,"switchNext"],["ctrlKey+shiftKey",13,"loadDraft"],["control+shift",13,"loadDraft"],["ctrlKey+shiftKey",38,"toggleSidebar"],["control+shift",38,"toggleSidebar"],["ctrlKey+shiftKey",76,"showShortcutDialog"],["control+shift",76,"showShortcutDialog"],["ctrlKey",83,"saveAndReload"],["control",83,"saveAndReload"]],isMobile:navigator.userAgent.match(/(iPhone|iPod|iPad)/)||navigator.userAgent.match(/BlackBerry/)||navigator.userAgent.match(/Android/),render:function(){this.sidebar=Sidebar.initialize({sections:"#sidebar .sidebarItem"}),window.addEvents({keydown:function(e){this.isReservedKey(!1,e)&&this.routeReservedKey(e)}.bind(this)});document.id("result");this.createErrorTooltips(),this.fireEvent("ready"),new Dropdown,this.progressbar=new Mprogress({template:1,parent:"#progressbar"}),this.applyEditorOptions();sessionId=Cookie.read("session_id"),null===sessionId&&(Cookie.write("session_id","a"+(e=20,Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1))+"z"),sessionId=Cookie.read("session_id"));var e;if(fiddleOptions.slug){var t=function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n||(n=new XDomainRequest),n.open("GET",e),n.setRequestHeader("X-Hello","true"),n.send(),n},n="//counter.jsfiddle.net/"+fiddleOptions.slug+".json?k="+sessionId,r=document.location;r.href.indexOf("//jsfiddle.net")>=0?t(n):"#debug"===r.hash&&t(n)}},getEditorOptions:function(){var e=window.localStorage.JSFIDDLE_editor_options;return JSON.decode(e)||{}},applyEditorOptions:function(){window.userCmOptions=this.getEditorOptions();var e=window.userCmOptions;Object.each(e,function(e,t){var n=document.getElement("#editor-options *[name="+t+"]");n&&("checkbox"===n.get("type")?n.checked=e:n.set("value",e),n.fireEvent("change"))})},createErrorTooltips:function(){var e=Element("span",{class:"CodeMirror-error-tooltip"}).inject(document.body);document.id("content").addEvents({"mouseover:relay(.CodeMirror-line-error)":function(t){e.set({html:this.get("data-title"),styles:{display:"block"}}),e.position({relativeTo:this,edge:"centerBottom",offset:{y:-15}})},"mouseout:relay(.CodeMirror-line-error)":function(){e.set({html:"",styles:{top:0,left:0,display:"none"}})}})},routeReservedKey:function(e){this.reservedKeys.each(function(t){this.matchKey(e,t)&&mooshell[t.getLast()].bind(mooshell).call()},this)},spinnerState:function(e){"start"===e&&this.progressbar.start(),"end"===e&&this.progressbar.end()},matchKey:function(e,t){if(!e)return!1;var n=e.keyCode||e.code;if(!t.contains(n))return!1;var r=!0;if(t.length>1){var i={};t[0].split("+").each(function(e){i[e]=!0}),$each(keyMods,function(e,t){i[t]||(i[t]=!1)}),$each(i,function(t,n){!!e[n]!=t&&(r=!1)})}return r},isReservedKey:function(e,t){return this.reservedKeys.some(function(e){return this.matchKey(t,e)},this)},registerEditor:function(e){this.editors[e.options.name]=e},decodeEditors:function(){this.editors.each(function(e){e.b64decode()})},updateFromMirror:function(){this.editors.each(function(e){e.updateFromMirror()})},cleanMirrors:function(){this.editors.each(function(e){e.clean()})},refreshEditors:function(){Object.each(this.editors,function(e){e.editor.refresh()})}};$extend(Layout,new Events),window.editorsModified=!1,Request.JSON.implement({initialize:function(e){this.parent(e),this.setHeader("X-CSRFToken",Cookie.read("csrftoken"))}}),Track={ui:function(e){"function"==typeof ga&&ga("send",{hitType:"event",eventCategory:"UI",eventAction:e||null})}};var MooShellActions=new Class({Implements:[Options,Events],options:{formId:"show-result",saveAndReloadId:"update",saveAsNewId:"savenew",forkId:"fork",runId:"run",draftId:"mobile",tidyId:"tidy",showJsId:"showjscode",shareSelector:".embedCode",favId:"mark_favourite",entriesSelector:"textarea",resultLabel:"result_label",resultInput:"select_link",collaborateId:"collaborate",sendCallbackId:"sendCallback",applyDraft:"apply-draft",discardDraft:"discard-draft",example_id:!1,exampleURL:"",exampleSaveURL:"",sendCallbackURL:"",loadDependenciesURL:"",tidy:{javascript:"js","javascript 1.7":"js",html:"html",css:"css"},jslint:{evil:!0,passfail:!1,browser:!0,newcap:!1},jslintLanguages:["text/javascript","javascript","javascript 1.7"],showJSLanguages:["text/coffeescript","coffeescript"]},initialize:function(e){this.setOptions(e);var t=function(e,t,n){(e=$(e))&&e.addEvent("click",t.bind(n))};Layout.addEvent("ready",function(){t(this.options.saveAndReloadId,this.saveAndReload,this),t(this.options.saveAsNewId,this.saveAsNew,this),t(this.options.forkId,this.saveAsNew,this),t(this.options.sendCallbackId,this.sendCallback,this),t(this.options.runId,this.run,this),t(this.options.draftId,this.run,this),t(this.options.showJsId,this.showJs,this),t(this.options.tidyId,this.prepareAndLaunchTidy,this),t(this.options.favId,this.makeFavourite,this),t(this.options.collaborateId,this.launchCollaboration,this),t(this.options.applyDraft,this.applyDraft,this),t(this.options.discardDraft,this.discardDraft,this);var e=$$(this.options.shareSelector);e.length>0&&e.addEvent("click",function(){this.select()}),this.form=document.id(this.options.formId),this.options.exampleURL&&this.displayExampleURL(),$$(".panelChoice").addEvent("change",this.switchLanguageAction.bind(this)),$$(".panelExtrasChoice select").addEvent("change",this.switchLanguageAction.bind(this)),this.showHideTidyUp(),this.editorOptions()}.bind(this))},hideDraftApply:function(){document.getElement(".draftTriggerCont").hide()},discardDraft:function(e){e&&e.stop(),Layout.editors.each(function(e,t){e.draftRemove(fiddleOptions.example_id)},this),this.hideDraftApply(),Track.ui("Discard draft")},applyDraft:function(e){e&&e.stop(),Layout.editors.each(function(e,t){e.draftApply(fiddleOptions.example_id)},this),this.hideDraftApply(),Track.ui("Apply draft")},editorOptions:function(){document.getElements("#editor-options input, #editor-options select").addEvents({change:function(e){var t="checkbox"===this.get("type")?this.checked:this.get("value"),n=this.get("name");r=t,t=parseInt(r)>=0?parseInt(r):r;var r;if(window.defaultCmOptions[n]===t?(Object.erase(window.userCmOptions,n),"indentUnit"===n&&Object.erase(window.userCmOptions,"tabSize")):(window.userCmOptions[n]=t,"indentUnit"===n&&(window.userCmOptions.tabSize=t)),e){var i=document.id("editor-theme"),o="";"darkTheme"===n&&(t?(o=i.href.replace(/editor-.*?.css/,"editor-dark.css"),i.href=o,Cookie.write("JSFIDDLE_theme","dark")):(o=i.href.replace(/editor-.*?.css/,"editor-light.css"),i.href=o,Cookie.write("JSFIDDLE_theme","light")))}Layout.editors.each(function(e){e.editor.setOption(n,t),"indentUnit"===n&&e.editor.setOption("tabSize",t)},this),window.localStorage.setItem("JSFIDDLE_editor_options",JSON.encode(window.userCmOptions)),Track.ui("Changed editor settings: "+n)}})},switchLanguageAction:function(e){if(e){var t=$(e.target);this.switchLanguage(t)}},switchLanguage:function(e){var t=e.getParent(".windowSettings").get("data-panel"),n=Layout.editors[t],r=e.getParent(".windowSettings").getElement(".panelChoice option:selected"),i=r.get("text"),o=r.get("data-mime-type"),a=e.getParent(".windowSettings").getElement(".panelExtrasChoice select");if(!n)return!1;"text/babel"===o?n.editor.setOption("mode","text/jsx"):n.editor.setOption("mode",o),a?(languageExtra=i+" ("+a.getElement("option:selected").get("text")+")",Layout.editors[t].setLabelName(languageExtra)):Layout.editors[t].setLabelName(i),window["panel_"+t]=i.toLowerCase(),this.showHideTidyUp(),Track.ui("Switch language: "+i)},loadAsset:function(e,t,n,r){if(!e())return r&&(n=n.bind(r)),Asset.javascript(t,{onload:n}),!0},prepareCoffee:function(e){return this.loadAsset(function(){return $defined(window.CoffeeScript)},"/js/coffeescript/coffeescript.js",e,this)},prepareTidyUp:function(e,t){return this.loadAsset(function(){return $defined(window.Beautifier)},"/js/beautifier.js",e,t)},showHideJsLint:function(){var e=!0,t=$(this.options.jslintId);t&&(Layout.editors.each(function(t){this.options.jslintLanguages.contains(t.editor.getOption("mode"))&&(e=!1)},this),e?t.getParent("li").hide():t.getParent("li").show())},showHideTidyUp:function(){if(!this.prepareTidyUp(this.showHideTidyUp,this)){var e=!0,t=$(this.options.tidyId);t&&(Layout.editors.each(function(t){language=this.options.tidy[t.options.language],language&&Beautifier[language]&&(e=!1)},this),e?t.getParent(".actionItem").hide():t.getParent(".actionItem").show())}},prepareAndLaunchTidy:function(e){e.stop(),this.prepareTidyUp(this.makeTidy.bind(this))||this.makeTidy()},makeTidy:function(){Layout.editors.each(function(e){var t,n=e.editor.getValue();if(n&&(t=this.options.tidy[e.options.language])&&Beautifier[t]){var r=Beautifier[t](n);if(r)try{e.editor.setValue(r)}catch(e){console.warn("[Mootools + CodeMirror conflict]",e)}else e.editor.reindent()}},this)},jsLint:function(e){if(e.stop(),JSHINT)return this.JSLintValidate()},JSLintValidate:function(){var e=Layout.editors.js.editor;if(this.options.jslintLanguages.contains(panel_js)){for(var t=e.getValue(),n=0;e.lineCount()>=n;n++)e.setGutterMarker(n,"note-gutter",null);""===t.trim()?sticky.call(this,{title:"Valid!",content:"<p>Good work! Your JavaScript code is perfectly valid.</p>"}):JSHINT(t)?sticky.call(this,{title:"Valid!",content:"<p>Good work! Your JavaScript code is perfectly valid.</p>"}):Array.each(JSHINT.errors,function(t,n){errorEl=Element("span",{class:"CodeMirror-line-error","data-title":t.reason,text:"●"}),e.setGutterMarker(t.line-1,"note-gutter",errorEl)},this)}else sticky.call(this,{title:"Sorry No JavaScript!",content:"<p>You're using "+panel_js+"</p>"})},makeFavourite:function(e){e.stop(),new Request.JSON({url:makefavouritepath,data:{shell_id:this.getExampleId()},onRequest:function(){Layout.spinnerState("start")},onSuccess:function(e){Layout.decodeEditors(),e.error?alert("ERROR: "+e.error):(history.pushState(history.state,document.title,e.url),Layout.spinnerState("end"),this.updateShareUrls())}.bind(this)}).send(),Track.ui("Mark as favourite")},launchCollaboration:function(e){e&&e.stop(),TogetherJS(this),Track.ui("Launch Collaboration")},sendCallback:function(e){e.stop(),console.log("sending callback - "+this.options.sendCallbackURL),window.editorsModified=!1,Layout.updateFromMirror(),$("id_slug").value="",$("id_version").value="0",new Request.JSON({url:this.options.sendCallbackURL,onSuccess:function(){alert("Thank You")}}).send(this.form),console.log("?")},extraParams:function(e){e.slug&&$("id_slug").set("value",e.slug),e.shell_id&&(fiddleOptions.example_id=e.shell_id)},getExampleId:function(){return fiddleOptions.example_id},updateShareUrls:function(){EmbedCreatorManager.buildPath()},saveSuccess:function(e){Layout.decodeEditors(),e.error?alert("ERROR: "+e.error):(""===fiddleOptions.slug&&(document.getElements("#actions .actionItem.hidden").show(),document.getElements("#actions .actionItem.visible").hide()),history.pushState(history.state,document.title,e.pastie_url_relative),Layout.spinnerState("end"),this.extraParams(e),this.updateShareUrls(),this.discardDraft())},saveAsNew:function(e){e.stop(),window.editorsModified=!1,Layout.updateFromMirror(),$("id_slug").value="",$("id_version").value="0",new Request.JSON({url:this.options.exampleSaveUrl,onRequest:function(){Layout.spinnerState("start")},onSuccess:this.saveSuccess.bind(this)}).send(this.form),Track.ui("Save as new fiddle")},saveAndReload:function(e){e&&e.stop(),window.editorsModified=!1,Layout.updateFromMirror(),new Request.JSON({url:this.options.exampleSaveUrl,onRequest:function(){Layout.spinnerState("start")},onSuccess:this.saveSuccess.bind(this)}).send(this.form),Track.ui("Update fiddle")},run:function(e){var t=!1;e&&e.stop(),!e||"mobile"!==$(e.target).getParent().get("id")&&"mobile"!==$(e.target).get("id")||(t=new Element("input",{hidden:!0,name:"draftonly",id:"draftonly",value:!0})).inject(this.form),Layout.updateFromMirror(),this.form.submit(),t&&t.destroy(),this.fireEvent("run");var n=document.getElement(".resultsPanel .windowLabelCont");n&&n.hide(),Track.ui("Run fiddle")},loadDraft:function(e){e&&e.stop(),username?window.open("/draft/","jsfiddle_draft"):window.location="/user/login/",Track.ui("Load draft")},showModalFx:function(){$$(".modalWrap")[0].addClass("show")},switchTo:function(e){Layout.current_editor=Layout.editors_order[e],Layout.editors[Layout.current_editor].editor.focus()},switchNext:function(){var e=(Layout.editors_order.indexOf(Layout.current_editor)+1)%3;this.switchTo(e)},switchPrev:function(){var e=(Layout.editors_order.indexOf(Layout.current_editor)-1)%3;e<0&&(e=2),this.switchTo(e)},displayExampleURL:function(){var e=document.id(this.options.resultInput);e&&Browser.Engine.gecko&&e.setStyle("padding-top","4px")},loadLibraryVersions:function(e){e&&new Request.JSON({url:this.options.loadLibraryVersionsURL.substitute({group_id:e}),onSuccess:function(e){Track.ui("Load library version"),$("js_lib").empty(),$("js_dependency").empty(),e.libraries.each(function(e){new Element("option",{value:e.id,text:"{group_name} {version}".substitute(e)}).inject($("js_lib")),e.selected&&$("js_lib").set("value",e.id)}),e.dependencies.each(function(e){new Element("li",{html:["<label class='checkboxCont'>","<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>","<span class='checkbox'><i class='bts bt-check'></i></span>","{name}</label>"].join("").substitute(e)}).inject($("js_dependency")),e.selected&&$("dep_"+e.id).set("checked",!0)})}}).send()},loadDependencies:function(e){e&&new Request.JSON({url:this.options.loadDependenciesURL.substitute({lib_id:e}),method:"get",onSuccess:function(e){Track.ui("Load dependencies"),$("js_dependency").empty(),e.each(function(e){new Element("li",{html:["<label class='checkboxCont'>","<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>","<span class='checkbox'><i class='bts bt-check'></i></span>","{name}</label>"].join("").substitute(e)}).inject($("js_dependency")),e.selected&&$("dep_"+e.id).set("checked",!0)})}}).send()}}),Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";e=e||"";var n,r,i,o,a,s,l,c=0;for(e=Base64._utf8_encode(e);c<e.length;)o=(n=e.charCodeAt(c++))>>2,a=(3&n)<<4|(r=e.charCodeAt(c++))>>4,s=(15&r)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),t=t+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(l);return t},decode:function(e){var t,n,r,i,o,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(i=this._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(o=this._keyStr.indexOf(e.charAt(l++)))>>2,r=(3&o)<<6|(a=this._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(n)),64!=a&&(s+=String.fromCharCode(r));return s=Base64._utf8_decode(s)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t}},Dropdown=new Class({initialize:function(){this.dropdown={cont:document.getElements(".dropdownCont"),trigger:document.getElements(".dropdown a.dropdownTrigger")},this.setDefaults()},setDefaults:function(){this.dropdown.cont.hide(),document.getElements(".dropdown a.dropdownTrigger").each(function(e){e.addEvents({click:this.toggle.bindWithEvent(e,this)})},this),document.addEvents({"click:relay(.windowLabel)":function(e){e&&e.stop();var t=".windowSettings."+this.get("data-panel");(t=document.getElement(t)).hasClass("opened")?(this.removeClass("active"),t.removeClass("opened"),t.hide()):(document.getElements(".windowSettings").removeClass("opened").hide(),this.addClass("active"),t.addClass("opened"),t.show(),t.position({relativeTo:this,position:"bottomCenter",edge:"topCenter",offset:{y:14}}),Track.ui("Show panel dropdown: "+this.get("data-panel")))}}),$(document.body).addEvents({click:function(e){$(e.target).getParent(".dropdownCont")||this.hide(),null===$(e.target).getParent(".windowSettings")&&(document.getElements(".windowSettings").removeClass("opened").hide(),document.getElements(".windowLabel").removeClass("active"))}.bind(this)})},toggle:function(e,t){Element(e.target);if(e.stop(),"none"===this.getNext(".dropdownCont").getStyles("display").display){var n=this.getNext(".dropdownCont");n.show(),n.hasClass("center")&&n.setStyle("margin-left",-n.getCoordinates().width/2)}else t.dropdown.cont.hide()},hide:function(){this.dropdown.cont.hide()}}),sortableResources,update_resource_input=function(e){if(e){if(resources.contains(e))return!1;resources.push(e)}return $("external_resources_id").set("value",resources.join(",")),!0},remove_resource=function(e){resources.contains(e)&&resources.erase(e),$("external_resources_id").set("value",resources.join(",")),external_resource_el=$("external_resource_"+e),external_resource_el.destroy()},validateGithub=function(){return!this.get("value").contains("raw.github")},validateSSL=function(){return!this.get("value").contains("http://")},prepareToSubmit=function(e){e&&e.stop();var t=$("external_resource");if(validateGithub.call(t)?submit_external_resource.call(this):confirm("Github is not a CDN, using it as such will cause issues with loading the file. Do you still wish to it?")&&submit_external_resource.call(this),!validateSSL.call(t)){var n="https:"===document.location.protocol?"You're loading resources over HTTP not HTTPS, your fiddle will not work. Do you wish to continue?":"You should be loading resources over HTTPS not HTTP, are you sure you want to continue?";confirm(n)&&submit_external_resource.call(this)}},update_resource_order=function(){var e=document.getElements("#external_resources_list li").map(function(e){return e.get("id").split("external_resource_")[1]});resources=e,update_resource_input()},submit_external_resource=function(){var e=$("external_resource").value;e&&e!=$("external_resource").retrieve("default_value")&&$("external_resource").value.length>7&&new Request.JSON({url:add_external_resource_url,method:"post",data:{url:e},onSuccess:function(e){if(update_resource_input(e.id)){var t=new Element("li",{id:"external_resource_"+e.id}).inject($("external_resources_list"));new Element("a",{text:e.filename,title:e.url,class:"filename",href:e.url,target:"_blank"}).inject(t),new Element("a",{html:'<i class="bts bt-minus-circle"></i>',rel:e.id,class:"remove",events:{click:function(e){e.stop(),remove_resource(this.get("rel").toInt())}}}).inject(t),sortableResources.addItems(t)}var n=$("external_resource");n.value="",n.removeClass("warning")}}).send()},change_default_input_value=function(e){e&&!this.value?(this.set("value",this.retrieve("default_value")),this.addClass("default")):e||this.value!=this.retrieve("default_value")||(this.set("value",""),this.removeClass("default"))},warn=function(){validateGithub.call(this)&&validateSSL.call(this)?this.removeClass("warning"):this.addClass("warning")};window.addEvent("domready",function(){var e=document.id("add_external_resource");if(e){var t=$("external_resource");t.store("default_value",default_text),update_resource_input(),t.addEvents({change:warn,keydown:function(e){"enter"===e.key&&this.fireEvent("submit",e)},keyup:warn,submit:prepareToSubmit}),sortableResources=new Sortables(document.id("external_resources_list"),{clone:!0,opacity:.5,revert:!0,onComplete:update_resource_order}),e.addEvent("click",prepareToSubmit),preload_resources&&preload_resources.each(function(e){$("external_resource").set("value",e),submit_external_resource()})}}),window.defaultCmOptions={tabSize:2,indentUnit:2,matchBrackets:!0,lineNumbers:!0,lineWrapping:!0,keyMap:"default",autoCloseTags:!0,indentWithTabs:!1,smartIndent:!1,viewportMargin:1/0},window.cmOptions=Object.merge(window.defaultCmOptions,window.userCmOptions);var MooShellEditor=new Class({Implements:[Options,Events],parameter:"Editor",options:{useCodeMirror:!0,codeMirrorOptions:window.cmOptions,syntaxHighlighting:[]},window_names:{javascript:"JavaScript",html:"HTML",css:"CSS",scss:"SCSS",coffeescript:"CoffeeScript","javascript 1.7":"JavaScript 1.7"},initialize:function(e,t){if(this.validationTooltip,this.editorModified=!1,!e)return!1;if(this.element=$(e),this.options.syntaxHighlighting.contains(t.language)||this.forceDefaultCodeMirrorOptions(),this.setOptions(t),this.options.useCodeMirror){this.element.hide(),!this.options.codeMirrorOptions.stylesheet&&this.options.stylesheet&&(this.options.codeMirrorOptions.stylesheet=this.options.stylesheet.map(function(e){return mediapath+e})),this.options.codeMirrorOptions.path||(this.options.codeMirrorOptions.path=codemirrorpath+"js/"),this.options.codeMirrorOptions.content||(this.options.codeMirrorOptions.content=this.element.get("value"));var n=this.element.getParent();t={value:PanelValues[t.name]};t=Object.append(t,this.options.codeMirrorOptions),this.editor=CodeMirror(n,t),emmetCodeMirror(this.editor),this.options.codeMirrorOptions.initCallback||this.options.codeMirrorOptions.autofocus&&(Layout.current_editor=this.options.name);this.editor.getLineHandle(this.editor.getCursor().line);this.setEditorEvents({focus:function(){Layout.current_editor=this.options.name},cursorActivity:function(){},blur:function(){},change:function(e){window.editorsModified=!0,this.editorModified&&this.draftStore(fiddleOptions.example_id),this.editorModified=!0}.bind(this)}),CodeMirror.keyMap.default["Ctrl-Enter"]=function(){return!1},delete CodeMirror.keyMap.default["Cmd-L"]}mooshell&&mooshell.addEvents({run:this.b64decode.bind(this)}),Layout.registerEditor(this),this.setLabelName(this.options.language||this.options.name),this.draftDiff(fiddleOptions.example_id)},validateEditorInput:function(e){var t=this.getCode(),n=[];this.validationTooltip&&this.validationTooltip.destroy(),this.validationTooltip=Element("ul",{class:"warningTooltip"}),this.options.disallowed&&Object.each(this.options.disallowed,function(e,r){t.test(r,"i")&&n.push("<li>"+e+"</li>")}),this.validationTooltip=this.validationTooltip.inject(e),this.validationTooltip.set({html:n.join("")})},getEditor:function(){return this.editor||this.element},getWindow:function(){return this.window||(this.window=this.element.getParent(".panel")),this.window},getLabel:function(){return this.getWindow().getElement(".windowLabel .label")},b64decode:function(){this.element.set("value",this.before_decode)},draftDiff:function(e){var t=document.getElement(".draftTriggerCont"),n=this.draftRead(e);if(n&&n[this.options.name]&&n[this.options.name].code){t.show();var r=difflib.stringAsLines(this.getCode()),i=difflib.stringAsLines(n[this.options.name].code),o=new difflib.SequenceMatcher(r,i).get_opcodes(),a=diffview.buildView({baseTextLines:r,newTextLines:i,opcodes:o,viewType:1});diffEl=document.id("diff-"+this.options.name),diffEl.adopt(a)}},draftDifferent:function(e){return this.draftRead(e)[this.options.name].code!==this.getCode()},draftApply:function(e){var t=document.location.pathname.split("/");if(-1===["gh","api","gist","get","post"].indexOf(t[1])&&t.length>=2){var n=this.draftRead(e);n&&n[this.options.name]&&this.draftDifferent(e)&&this.setCode(n[this.options.name].code)}},draftStore:function(e){Layout.editors.each(function(t,n){Layout.localDraft[n]={code:t.getCode()},localStorage.setItem("draft["+e+"]",this.draftEncode(Layout.localDraft))},this)},draftRead:function(e){var t=localStorage.getItem("draft["+e+"]");if(t)return this.draftDecode(t)},draftRemove:function(e){localStorage.removeItem("draft["+e+"]")},draftEncode:function(e){return Base64.encode(JSON.encode(e))},draftDecode:function(e){return JSON.decode(Base64.decode(e))},setCode:function(e){this.editor?this.editor.setValue(e):this.element.set("value",e)},getCode:function(){return this.editor?this.editor.getValue():this.element.get("value")},updateFromMirror:function(){this.before_decode=this.getCode(),this.element.set("value",Base64.encode(this.before_decode))},updateCode:function(){this.element.set("value",this.getCode())},clean:function(){this.element.set("value",""),this.cleanEditor()},cleanEditor:function(){this.editor&&this.editor.setCode("")},hide:function(){this.getWindow().hide()},show:function(){this.getWindow().show()},setEditorOptions:function(e){Object.each(e,function(e,t){this.editor.setOption(t,e.bind(this))},this)},setEditorEvents:function(e){Object.each(e,function(e,t){this.editor.on(t,e.bind(this))},this)},setLanguage:function(e){this.setLabelName(e)},setLabelName:function(e){this.getLabel().set("text",this.window_names[e]||e)},setStyle:function(e,t){return this.editor?$(this.editor.frame).setStyle(e,t):this.element.setStyle(e,t)},setStyles:function(e){return this.editor?$(this.editor.frame).setStyles(e):this.element.setStyles(e)},setWidth:function(e){this.getWindow().setStyle("width",e)},setHeight:function(e){this.getWindow().setStyle("height",e)},getPosition:function(){return this.editor?$(this.editor.frame).getPosition():this.element.getPosition()},forceDefaultCodeMirrorOptions:function(){this.options.codeMirrorOptions=window.cmOptions}});window.MooShellEditor.JS=new Class({Extends:MooShellEditor,options:{name:"js",language:"javascript",useCodeMirror:!0,codeMirrorOptions:{autofocus:!0,mode:"text/javascript",autoCloseBrackets:!0},syntaxHighlighting:["javascript","javascript 1.7","jsx"],disallowed:{"<script":"Input plain JavaScript code, no HTML.","document.write":"<code>document.write</code> is disallowed in JSFiddle environment and might break your fiddle."}},initialize:function(e,t){this.setOptions(t),this.parent(e,this.options)}}),window.MooShellEditor.CSS=new Class({Extends:MooShellEditor,options:{name:"css",language:"css",useCodeMirror:!0,codeMirrorOptions:{mode:"css",autoCloseBrackets:!0},syntaxHighlighting:["css","scss"]},initialize:function(e,t){this.setOptions(t),this.parent(e,this.options)}}),window.MooShellEditor.HTML=new Class({Extends:MooShellEditor,options:{name:"html",language:"html",useCodeMirror:!0,codeMirrorOptions:{mode:"text/html",autoCloseBrackets:!0,htmlMode:!0},syntaxHighlighting:["html"],disallowed:{"<html":"No need for the <code>HTML</code> tag, it's already in the output.","<meta":"No need for the <code>META</code> tags.","<head*.?>":"No need for the <code>HEAD</code> tag, it's already in the output.","<doctype":"Select <code>DOCTYPE</code> from the <strong>Info</strong> panel on the left, instead of adding a tag.","<script/?.*text/javascript":"For JavaScript use the panel below or the <strong>Resources</strong> panel for external files.","<link/?.*rel/?.*stylesheet":"For external CSS files use the <strong>Resources</strong> panel on the left.","<style":"For CSS use the panel on the right."}},initialize:function(e,t){this.setOptions(t),this.parent(e,this.options)}});var PanelSettings=function(e,t){return"   <div class='windowLabelCont'>     <a href='#' class='windowLabel' data-panel='"+e+"'>       <span class='label'>"+t+"</span>       <svg width='8' height='7' viewBox='-0.019531 -52.792969 30.039062 25.195312'>         <path d='M29.941406 -52.500000C29.785156 -52.656250 29.589844 -52.753906 29.355469 -52.792969L0.644531 -52.792969C0.410156 -52.753906 0.214844 -52.656250 0.058594 -52.500000C-0.019531 -52.265625 0.000000 -52.050781 0.117188 -51.855469L14.472656 -27.890625C14.628906 -27.734375 14.804688 -27.636719 15.000000 -27.597656C15.234375 -27.636719 15.410156 -27.734375 15.527344 -27.890625L29.882812 -51.855469C30.000000 -52.089844 30.019531 -52.304688 29.941406 -52.500000ZM29.941406 -52.500000'></path>       </svg>     </a>   </div>"},PanelGrids={grid_1:"     <div class='panel-v left'>       <div class='panel-h panel'>         <textarea id='id_code_html' name='code_html'></textarea>"+PanelSettings("html","HTML")+"       </div>       <div class='panel-h panel'>         <textarea id='id_code_js' name='code_js'></textarea>"+PanelSettings("js","JavaScript")+"       </div>     </div>     <div class='panel-v right'>       <div class='panel-h panel'>         <textarea id='id_code_css' name='code_css'></textarea>"+PanelSettings("css","CSS")+"       </div>       <div class='panel-h panel resultsPanel'>"+PanelRender()+"       </div>     </div>",grid_2:"     <div class='panel-v panel'>       <textarea id='id_code_html' name='code_html'></textarea>"+PanelSettings("html","HTML")+"     </div>     <div class='panel-v panel'>       <textarea id='id_code_js' name='code_js'></textarea>"+PanelSettings("js","JavaScript")+"     </div>     <div class='panel-v panel'>       <textarea id='id_code_css' name='code_css'></textarea>"+PanelSettings("css","CSS")+"     </div>     <div class='panel-v panel resultsPanel'>"+PanelRender()+"</div>",grid_3:"     <div class='panel-h'>       <div class='panel-v panel'>         <textarea id='id_code_html' name='code_html'></textarea>"+PanelSettings("html","HTML")+"       </div>       <div class='panel-v panel'>         <textarea id='id_code_js' name='code_js'></textarea>"+PanelSettings("js","JavaScript")+"       </div>       <div class='panel-v panel'>         <textarea id='id_code_css' name='code_css'></textarea>"+PanelSettings("css","CSS")+"       </div>     </div>     <div class='panel-h panel resultsPanel'>"+PanelRender()+"</div>",grid_4:"     <div class='panel-v'>       <div class='panel-h panel'>         <textarea id='id_code_html' name='code_html'></textarea>"+PanelSettings("html","HTML")+"       </div>       <div class='panel-h panel'>         <textarea id='id_code_js' name='code_js'></textarea>"+PanelSettings("js","JavaScript")+"       </div>       <div class='panel-h panel'>         <textarea id='id_code_css' name='code_css'></textarea>"+PanelSettings("css","CSS")+"       </div>     </div>     <div class='panel-v panel resultsPanel'>"+PanelRender()+"</div>"},currentInstance=null,currentGrid="grid_1",grid={grid_1:{structure:PanelGrids.grid_1,init:function(){var e=getSelectors("#editor .panel-v"),t=Split(e,options()),n=getSelectors("#editor .panel-v.left .panel-h"),r=Split(n,options("vertical")),i=getSelectors("#editor .panel-v.right .panel-h");return[t,r,Split(i,options("vertical"))]}},grid_2:{structure:PanelGrids.grid_2,init:function(){var e=getSelectors("#editor .panel-v");return[Split(e,options())]}},grid_3:{structure:PanelGrids.grid_3,init:function(){var e=getSelectors("#editor .panel-h"),t=Split(e,options("vertical")),n=getSelectors("#editor .panel-v");return[t,Split(n,options())]}},grid_4:{structure:PanelGrids.grid_4,init:function(){var e=getSelectors("#editor .panel-v"),t=Split(e,options()),n=getSelectors("#editor .panel-h");return[t,Split(n,options("vertical"))]}}},getElements=function(e){var t=document.querySelectorAll(e);return Array.from(t)},getGridSize=function(){for(var e=[],t=0;t<currentInstance.length;t++)e.push(currentInstance[t].getSizes());return e},setGridSize=function(){var e=currentGrid,t=JSON.parse(localStorage.getItem(e+"-split-sizes"));if(t)for(var n=0;n<currentInstance.length;n++)currentInstance[n].setSizes(t[n])},saveGridSize=function(){var e=currentGrid;localStorage.setItem(e+"-split-sizes",JSON.stringify(getGridSize()))},options=function(e){return{direction:e||"horizontal",minSize:100,snapOffset:10,gutterSize:1,onDragEnd:saveGridSize}},switchGrid=function(e,t){localStorage.setItem("editor-grid-mode",e),currentGrid=e,editor.innerHTML=grid[e].structure,currentInstance=grid[e].init(),setGridSize(),new MooShellEditor.JS(document.id("id_code_js"),{language:panel_js}),new MooShellEditor.HTML(document.id("id_code_html"),{language:panel_html}),new MooShellEditor.CSS(document.id("id_code_css"),{language:panel_css}),mooshell.switchLanguage(document.querySelector("#panel_js_choice")),t&&mooshell.applyDraft()},initGrid=function(){for(var e=getElements("#layout input"),t=(document.querySelector("#editor"),0);t<e.length;t++)e[t].addEventListener("change",function(){switchGrid(this.value,!0)});localStorage.getItem("editor-grid-mode")&&(currentGrid=localStorage.getItem("editor-grid-mode"),el=document.querySelector("input[name='editor_mode'][value='"+currentGrid+"']"),el.checked=!0),switchGrid(currentGrid,!1)};(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.log=function(){var e;if(null!=(null!=(e=window.console)?e.log:void 0))return console.log(arguments.length<=1?arguments[0]:arguments)},String.implement({substitute:function(e,t){return String(this).replace(t||/\\?\{([^{}]+)\}/g,function(t,n){var r,i,o,a;if("\\"===t.charAt(0))return t.slice(1);if(null!=e[n])return e[n];if("",i=(o=n.split(".")).length,a=e,i<=1)return"";for(r=0;r<i;){if(null===(a=a[o[r]]))return"";r++}return a})}}),window.getSelectors=function(e){var t;return t=document.querySelectorAll(e),Array.from(t)},this.Helpers=function(){function t(){this.fireEvent=e(this.fireEvent,this),this.setOptions=e(this.setOptions,this),this.autosubmit=e(this.autosubmit,this)}return t.prototype.autosubmit=function(e){return Array.each(e,function(e){return e.addEvents({change:function(e){var t,n;if(n=this.get("value"),t=this.getParent("form"),""!==n)return t.submit()}})})},t.prototype.setOptions=function(e){return this.options?this.options=Object.merge(this.options,e):this.options=e},t.prototype.fireEvent=function(e,t){if(this.options[e])return this.options[e].call(this,t)},t.prototype.setupEvents=function(e,t){return Object.each(e,function(e,n){if(e)return e.addEvents(t[n])})},t.prototype.isUrl=function(e){return/^(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(e)},t.prototype.isEmail=function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e)},t.prototype.permalink=function(e){return e.toLowerCase().replace(/(?: )/gi,"-")},t.prototype.template={get:function(e){var t;if(t=document.getElement("script[data-template-for="+e+"]"))return t.get("text")},parse:function(e,t){return null==t&&(t={}),Elements.from(e.substitute(t))}},t}()}).call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;e=function(e){!function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(r,Helpers);function r(){this.addPath=t(this.addPath,this),this.buildPath=t(this.buildPath,this),this.collectSkin=t(this.collectSkin,this),this.collectColors=t(this.collectColors,this),this.collectTabs=t(this.collectTabs,this),this.fetchTabs=t(this.fetchTabs,this),this.codeTypeToggle=t(this.codeTypeToggle,this),this.initCreator=t(this.initCreator,this),this.preferIframe=!1,this.hasIframe=!1,this.elements={tabs:document.getElements("#creator .inputCont_checkbox input[type=checkbox][name=tabs]"),colors:document.getElements("#creator .inputCont_text input[type=text]"),skin:document.getElements("#creator .inputCont_checkbox input[type=radio][name=skin]"),code:document.getElements("#creator .embedCode"),preview:document.getElement("#preview"),codeType:document.getElement(".codeTypeToggle"),shareTrigger:document.getElement("#share")},this.events={tabs:{change:this.collectTabs},colors:{keyup:this.collectColors},skin:{change:this.collectSkin},codeType:{click:this.codeTypeToggle},shareTrigger:{click:this.buildPath}},this.setupEvents(this.elements,this.events),this.builder={tabs:[],colors:{},skin:"light"},this.fetchTabs()}return r.prototype.initCreator=function(){var e;return(e=document.createElement("iframe")).width="100%",e.height="300",e.frameBorder="0",e.allowtransparency=!0,e.sandbox="allow-modals allow-forms allow-scripts allow-same-origin allow-popups",e.allow="midi; geolocation; microphone; camera",e.allowfullscreen=!0,e.allowpaymentrequest=!0,this.elements.preview.adopt(e),this.hasIframe=!0},r.prototype.codeTypeToggle=function(e){return e.stop(),this.preferIframe?(this.elements.code[0].getParent().show(),this.elements.code[1].getParent().hide(),this.elements.codeType.set("text","Prefer iframe?"),this.preferIframe=!1):(this.elements.code[0].getParent().hide(),this.elements.code[1].getParent().show(),this.elements.codeType.set("text","Use script"),this.preferIframe=!0)},r.prototype.fetchTabs=function(){var e;return e=this.elements.tabs.filter(function(e){if(e.checked)return e}),this.builder.tabs=e.get("value")},r.prototype.collectTabs=function(){return this.fetchTabs(),this.buildPath()},r.prototype.collectColors=function(e){var t,n,r;return r=(t=e.target).get("value"),n=t.get("name"),r.length>0?(r.indexOf("#")>-1&&(r=r.split("#")[1]),this.builder.colors[n]=""+r):Object.erase(this.builder.colors,n),this.buildPath()},r.prototype.collectSkin=function(){var e;return e=event.target,this.builder.skin=e.get("value"),this.buildPath()},r.prototype.buildPath=function(){var e,t,n,r,i,o;return e=Object.toQueryString(this.builder.colors),i=this.builder.tabs,n=this.builder.skin,t=""!==e?"?"+e:"",o=i.length>=4||i.length<=0?"light"!==n?i.join(",")+"/":"":i.join(",")+"/",r="light"!==n?n+"/":"",this.addPath("//"+location.host+location.pathname+"{view}/"+o+r+t)},r.prototype.addPath=function(e){var t;return t="",this.elements.code.each(function(n,r){var i,o,a;return a=n.get("data-view"),o=n.get("data-pattern-value"),t=e.replace(/{view}/,a),i=o.replace(/{embedSrc}/,t),n.set("value",i)}),this.hasIframe||this.initCreator(),this.elements.preview.getElement("iframe").set("src",t)},r}(),window.addEvents({domready:function(){return this.EmbedCreatorManager=new e}})}.call(this);var MooShellSettings=new Class({Implements:[Options],options:{library_id:"js_library",dependency_id:"js_dependency"},initialize:function(e){this.setOptions(e),this.libEl=$(this.options.library_id),this.depEl=$(this.options.dependency_id),this.libEl.addEvent("change",function(){this.changeDeps()}.bind(this)),this.changeDeps()},changeDeps:function(){new Request.JSON({url:get_dependencies_url.substitute({lib_id:this.libEl.value}),onSuccess:function(e){this.depEl.empty(),e.each(function(e){new Element("li",{html:["<label class='checkboxCont'>","<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>","<span class='checkbox'><i class='bts bt-check'></i></span>","{name}</label>"].join("").substitute(e)}).inject(this.depEl,"top")},this)}.bind(this)}).send()}});